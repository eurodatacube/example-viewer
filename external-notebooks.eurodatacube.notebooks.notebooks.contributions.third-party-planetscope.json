{"version":1,"kind":"Notebook","sha256":"0cc0813ec1209b605be7bcbe031abc55b3ebed58c08bf877218912ea99db01e4","slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.third-party-planetscope","location":"/external_notebooks/eurodatacube/notebooks/notebooks/contributions/Third-party_PlanetScope.ipynb","dependencies":[],"frontmatter":{"title":"Third Party Data Import - PlanetScope","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3","language":"python"},"github":"https://github.com/eurodatacube/example-viewer","subject":"Euro Data Cube Examples","numbering":{"title":{"offset":5}},"edit_url":"https://github.com/eurodatacube/example-viewer/blob/main/external_notebooks/eurodatacube/notebooks/notebooks/contributions/Third-party_PlanetScope.ipynb","exports":[{"format":"ipynb","filename":"Third-party_PlanetScope.ipynb","url":"/example-viewer/build/Third-party_PlanetSc-8badb7168d6ea0752b96b18c7d1714af.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This Jupyter Notebook demonstrates how to import ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"N40B8YTRxF"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"PlanetScope","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fkcSh0YfZx"}],"key":"bzDuvg44A1"},{"type":"text","value":" data into Sentinel Hub and then access it.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mdXdNWFWpM"}],"key":"Tg7S1qAmml"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We will use ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"oOhLJ7kfDW"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Simple search","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"szl4r6ua3i"}],"key":"MWk9ORGaGg"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"AKVnUqB0RC"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Order products","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sQ6NrsuWj5"}],"key":"QdU6PBMRYT"},{"type":"text","value":" APIs[1].","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"avesg7yrMT"}],"key":"tfDUSMl2uv"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Useful links:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Z8owhCQF1y"},{"type":"break","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"bNZfpmTgJT"},{"type":"text","value":"[1] ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"cGFel0PRqx"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/#/DATA_IMPORT_API/README","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"TPDI API documentation","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"LXfCMiYEHp"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/#/DATA_IMPORT_API/README","key":"RguaSSBxSb"},{"type":"break","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"GddBxcaJi6"},{"type":"text","value":"[2] ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"pqmsCzkHKI"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/reference/#tag/dataimport_planet","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"TPDI API reference (Swagger documentation)","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"tSmdfoMXP5"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/reference/#tag/dataimport_planet","key":"zVaj6eAamS"},{"type":"break","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"r1ExdUUHwc"},{"type":"text","value":"[3] ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"X3tYAvFVKe"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/#/data/PlanetScope","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"About PlanetScope data","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Q3UGnShmWK"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/#/data/PlanetScope","key":"JtWzyMxK04"}],"key":"DeX2DBFYah"}],"key":"w3OvHIdBln"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Imports and credentials","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"c0W2N5t32j"}],"identifier":"imports-and-credentials","label":"Imports and credentials","html_id":"imports-and-credentials","implicit":true,"key":"HHbjtYFp5F"}],"key":"kNi2PK7hwB"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To run this JN, you will need:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Nc8VjAHUA7"}],"key":"RXpBFwx8OO"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"SH crednetinal (client_id and client_secret)","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"AwqEDcBGXM"}],"key":"pLiSCNDZ9I"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Planet’s APi key (PLANET_API_KEY)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"e1mPDxJzPC"}],"key":"Ndb4YBfFYA"}],"key":"jAmEDT12Lx"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"If you are running the JN ouside of EDC JupyterHub (e.g., localy) you will have to provide these credentials manually in a cell starting with “# Credentials”.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"VjD4y8moO4"}],"key":"QlYXkrxuGz"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"If you are running the JN on EDC JupyterHub and have activated an EDC SH subscription, you only need to provide your Planet API key.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LIrzWdVNKf"}],"key":"erBVCSVqgc"}],"key":"nzPyoRAPgW"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"from edc import setup_environment_variables\nsetup_environment_variables()","key":"nxXh5j9TaB"},{"type":"output","id":"9KOdXRjYD3uHxBk5Z54ZV","data":[{"output_type":"display_data","metadata":{},"data":{"text/markdown":{"content":"API credentials have automatically been injected for your active subscriptions.  \nThe following environment variables are now available:\n* `SH_INSTANCE_ID`\n* `SH_CLIENT_ID`\n* `SH_CLIENT_SECRET`\n* `SH_CLIENT_NAME`\n* `GEODB_API_SERVER_URL`\n* `GEODB_AUTH_CLIENT_ID`\n* `GEODB_AUTH_AUD`\n* `GEODB_AUTH_CLIENT_SECRET`\n* `GEODB_API_SERVER_PORT`\n* `GEODB_AUTH_DOMAIN`\n","content_type":"text/markdown"},"text/plain":{"content":"<IPython.core.display.Markdown object>","content_type":"text/plain"}}}],"key":"UWiSdXK0gI"}],"key":"rXQIlxJEFO"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Credentials\nclient_id = %env SH_CLIENT_ID\nclient_secret = %env SH_CLIENT_SECRET\nPLANET_API_KEY = %env MY_PLANET_API_KEY","key":"ze6DYXIoOw"},{"type":"output","id":"fE6USdj9mhQg1oZKNDJYt","data":[],"key":"fPGWWMJDwq"}],"key":"guEh4ni2Kw"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"import requests \nimport json\nfrom oauthlib.oauth2 import BackendApplicationClient\nfrom requests_oauthlib import OAuth2Session\nimport os\nimport datetime\nimport dateutil.parser\n\n# Create a session\nclient = BackendApplicationClient(client_id=client_id)\noauth = OAuth2Session(client=client)\n\n\n# Get token for the session\ntoken = oauth.fetch_token(\n    token_url='https://services.sentinel-hub.com/oauth/token',\n    client_id=client_id, client_secret=client_secret\n)","key":"JQX17KmxGP"},{"type":"output","id":"1z7mhg-Bl-F_Q3G001mFE","data":[],"key":"VpRjzNV9Xf"}],"key":"STHqGySryG"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get my quota","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bM3ptx5eKG"}],"identifier":"get-my-quota","label":"Get my quota","html_id":"get-my-quota","implicit":true,"key":"Nc7IY81Yzr"}],"key":"cKSBa4pWRK"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To order PlanetScope data one needs to have enough avaliable quota tied to his SH account. To check your quota:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VNje4yg7od"}],"key":"yZAV16qqfk"}],"key":"erAasEzG8A"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"#Get my quota\nurl = f\"https://services.sentinel-hub.com/dataimport/v1/quotas\"\n\nr = oauth.get(url=url)\nr.json()","key":"wFpLN6UtJM"},{"type":"output","id":"RwdckD1PabbE8-tcauEmI","data":[{"output_type":"execute_result","execution_count":95,"metadata":{},"data":{"text/plain":{"content":"{'data': [{'id': 'd2c3ee95-f6f3-4035-b14c-529a8a4c753d',\n   'datasetId': 'PLANET_SCOPE',\n   'quotaSqkm': 50.0,\n   'quotaUsed': 4.968239307460755}]}","content_type":"text/plain"}}}],"key":"Ne1fehZkAZ"}],"key":"TWrPOtxioL"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We see that the user bought quota for 50 km^2 of PlanetScope data and has already ordered 5 km^2 of data. Here are more details about ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"g2f0Le0LEx"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/#/data/PlanetScope?id=purchasing-the-data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Purshasing PlanetSope data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"e9hXYW6irH"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/#/data/PlanetScope?id=purchasing-the-data","key":"zohtt03eae"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"h9j4DDobrR"}],"key":"XPQeKYIVPj"}],"key":"ojH9nYPPw0"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Search","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QjdDGYCRtf"}],"identifier":"search","label":"Search","html_id":"search","implicit":true,"key":"SKQThrjhgr"}],"key":"xUTfzUQJAT"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# User's defiend search criteria\n# aoi\n#aoi = {'type': 'Polygon',\n#  'coordinates': [[[12.560804463221928, 41.885177999999996],\n#    [12.585804463221926, 41.885177999999996],\n#    [12.585804463221926, 41.910178],\n#    [12.560804463221928, 41.910178],\n#    [12.560804463221928, 41.885177999999996]]]}\n\naoi = {\"type\": \"Polygon\", \n       \"coordinates\": [[[12.567054463221927, 41.891428], \n                        [12.579554463221926, 41.891428], \n                        [12.579554463221926, 41.903928], \n                        [12.567054463221927, 41.903928], \n                        [12.567054463221927, 41.891428]]]}\n# dates\ndate_from = \"2020-04-15T00:00:00.000Z\"\ndate_to = \"2020-04-17T00:00:00.000Z\"\n\n# max cloud coverage\nmaxcc = 30","key":"SmwLrRUe54"},{"type":"output","id":"21s-yNAmOlGSxlwxPqSkh","data":[],"key":"sck5AlEgmK"}],"key":"nxHUxxpIR8"},{"type":"block","kind":"notebook-code","data":{"collapsed":true,"jupyter":{"outputs_hidden":true}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Search\nurl = \"https://services.sentinel-hub.com/dataimport/v1/search\"\n\nquery = {\n    \"provider\": \"PLANET\",\n    \"planetApiKey\": PLANET_API_KEY,\n    \"bounds\": {\n        \"geometry\": aoi\n    },\n    \"data\": [\n        {\n            \"itemType\": \"PSScene4Band\",\n            \"dataFilter\": {\n                \"timeRange\": {\n                    \"from\": date_from,\n                    \"to\": date_to\n                },\n                \"maxCloudCoverage\": maxcc\n            }\n        }\n    ]\n}\n\nresponse = oauth.post(url, json=query)\nresponse.raise_for_status()\n\nresults = response.json()\nresults","key":"d73E95uA24"},{"type":"output","id":"zb3mcYgZ_TF76WGq9hX99","data":[{"output_type":"execute_result","execution_count":99,"metadata":{},"data":{"text/plain":{"content":"{'features': [{'_links': {'_self': 'https://api.planet.com/data/v1/item-types/PSScene4Band/items/20200416_093843_1003',\n    'assets': 'https://api.planet.com/data/v1/item-types/PSScene4Band/items/20200416_093843_1003/assets/',\n    'thumbnail': 'https://tiles.planet.com/data/v1/item-types/PSScene4Band/items/20200416_093843_1003/thumb'},\n   '_permissions': ['assets.udm:download',\n    'assets.analytic:download',\n    'assets.analytic_xml:download',\n    'assets.analytic_dn:download',\n    'assets.analytic_dn_xml:download',\n    'assets.basic_analytic:download',\n    'assets.basic_analytic_rpc:download',\n    'assets.basic_analytic_dn:download',\n    'assets.basic_analytic_dn_rpc:download',\n    'assets.basic_analytic_xml:download',\n    'assets.basic_analytic_dn_xml:download',\n    'assets.basic_analytic_dn_nitf:download',\n    'assets.basic_analytic_dn_rpc_nitf:download',\n    'assets.basic_analytic_dn_xml_nitf:download',\n    'assets.basic_analytic_nitf:download',\n    'assets.basic_analytic_rpc_nitf:download',\n    'assets.basic_analytic_xml_nitf:download',\n    'assets.basic_udm:download',\n    'assets.analytic_sr:download',\n    'assets.basic_udm2:download',\n    'assets.udm2:download'],\n   'geometry': {'coordinates': [[[12.474914636514459, 41.94260578251628],\n      [12.770541441847923, 41.89358678466857],\n      [12.749458159218646, 41.82208725509381],\n      [12.4536843525251, 41.871077086871885],\n      [12.471313938096348, 41.93199941594026],\n      [12.471809979639824, 41.93191727566103],\n      [12.474914636514459, 41.94260578251628]]],\n    'type': 'Polygon'},\n   'id': '20200416_093843_1003',\n   'properties': {'acquired': '2020-04-16T09:38:43.436748Z',\n    'anomalous_pixels': 0,\n    'clear_confidence_percent': 100,\n    'clear_percent': 100,\n    'cloud_cover': 0,\n    'cloud_percent': 0,\n    'columns': 8788,\n    'epsg_code': 32633,\n    'ground_control': True,\n    'gsd': 3.8,\n    'heavy_haze_percent': 0,\n    'instrument': 'PS2',\n    'item_type': 'PSScene4Band',\n    'light_haze_percent': 0,\n    'origin_x': 288687,\n    'origin_y': 4646490,\n    'pixel_resolution': 3,\n    'provider': 'planetscope',\n    'published': '2020-04-16T18:18:47Z',\n    'quality_category': 'standard',\n    'rows': 4673,\n    'satellite_id': '1003',\n    'shadow_percent': 0,\n    'snow_ice_percent': 0,\n    'strip_id': '3323142',\n    'sun_azimuth': 141.4,\n    'sun_elevation': 52.8,\n    'updated': '2020-04-17T04:33:47Z',\n    'view_angle': 1,\n    'visible_confidence_percent': 80,\n    'visible_percent': 100},\n   'type': 'Feature'},\n  {'_links': {'_self': 'https://api.planet.com/data/v1/item-types/PSScene4Band/items/20200415_100513_35_1058',\n    'assets': 'https://api.planet.com/data/v1/item-types/PSScene4Band/items/20200415_100513_35_1058/assets/',\n    'thumbnail': 'https://tiles.planet.com/data/v1/item-types/PSScene4Band/items/20200415_100513_35_1058/thumb'},\n   '_permissions': ['assets.udm:download',\n    'assets.analytic:download',\n    'assets.analytic_xml:download',\n    'assets.analytic_dn:download',\n    'assets.analytic_dn_xml:download',\n    'assets.basic_analytic:download',\n    'assets.basic_analytic_rpc:download',\n    'assets.basic_analytic_dn:download',\n    'assets.basic_analytic_dn_rpc:download',\n    'assets.basic_analytic_xml:download',\n    'assets.basic_analytic_dn_xml:download',\n    'assets.basic_analytic_dn_nitf:download',\n    'assets.basic_analytic_dn_rpc_nitf:download',\n    'assets.basic_analytic_dn_xml_nitf:download',\n    'assets.basic_analytic_nitf:download',\n    'assets.basic_analytic_rpc_nitf:download',\n    'assets.basic_analytic_xml_nitf:download',\n    'assets.basic_udm:download',\n    'assets.analytic_sr:download',\n    'assets.basic_udm2:download',\n    'assets.udm2:download'],\n   'geometry': {'coordinates': [[[12.540225904023979, 42.06258078592222],\n      [12.494555189894387, 41.91173068748933],\n      [12.797587812804181, 41.860102825702114],\n      [12.843740258008406, 42.01109575891422],\n      [12.540225904023979, 42.06258078592222]]],\n    'type': 'Polygon'},\n   'id': '20200415_100513_35_1058',\n   'properties': {'acquired': '2020-04-15T10:05:13.355052Z',\n    'anomalous_pixels': 0,\n    'clear_confidence_percent': 99,\n    'clear_percent': 100,\n    'cloud_cover': 0.03,\n    'cloud_percent': 0,\n    'columns': 9748,\n    'epsg_code': 32633,\n    'ground_control': True,\n    'gsd': 3.9,\n    'heavy_haze_percent': 0,\n    'instrument': 'PS2.SD',\n    'item_type': 'PSScene4Band',\n    'light_haze_percent': 0,\n    'origin_x': 292209,\n    'origin_y': 4659654,\n    'pixel_resolution': 3,\n    'provider': 'planetscope',\n    'published': '2020-04-16T14:55:20Z',\n    'quality_category': 'test',\n    'rows': 7689,\n    'satellite_id': '1058',\n    'shadow_percent': 0,\n    'snow_ice_percent': 0,\n    'strip_id': '3320741',\n    'sun_azimuth': 151.3,\n    'sun_elevation': 55,\n    'updated': '2020-04-16T14:58:05Z',\n    'view_angle': 2.1,\n    'visible_confidence_percent': 99,\n    'visible_percent': 100},\n   'type': 'Feature'},\n  {'_links': {'_self': 'https://api.planet.com/data/v1/item-types/PSScene4Band/items/20200415_091216_83_2257',\n    'assets': 'https://api.planet.com/data/v1/item-types/PSScene4Band/items/20200415_091216_83_2257/assets/',\n    'thumbnail': 'https://tiles.planet.com/data/v1/item-types/PSScene4Band/items/20200415_091216_83_2257/thumb'},\n   '_permissions': ['assets.udm:download',\n    'assets.analytic:download',\n    'assets.analytic_xml:download',\n    'assets.analytic_dn:download',\n    'assets.analytic_dn_xml:download',\n    'assets.basic_analytic:download',\n    'assets.basic_analytic_rpc:download',\n    'assets.basic_analytic_dn:download',\n    'assets.basic_analytic_dn_rpc:download',\n    'assets.basic_analytic_xml:download',\n    'assets.basic_analytic_dn_xml:download',\n    'assets.basic_analytic_dn_nitf:download',\n    'assets.basic_analytic_dn_rpc_nitf:download',\n    'assets.basic_analytic_dn_xml_nitf:download',\n    'assets.basic_analytic_nitf:download',\n    'assets.basic_analytic_rpc_nitf:download',\n    'assets.basic_analytic_xml_nitf:download',\n    'assets.basic_udm:download',\n    'assets.basic_udm2:download',\n    'assets.udm2:download'],\n   'geometry': {'coordinates': [[[12.223018986448736, 42.05293210279332],\n      [12.168748146638572, 41.8738734897071],\n      [12.569461415835097, 41.80578463860307],\n      [12.624472731395553, 41.984627398323056],\n      [12.223018986448736, 42.05293210279332]]],\n    'type': 'Polygon'},\n   'id': '20200415_091216_83_2257',\n   'properties': {'acquired': '2020-04-15T09:12:16.833103Z',\n    'anomalous_pixels': 0,\n    'clear_confidence_percent': 99,\n    'clear_percent': 100,\n    'cloud_cover': 0,\n    'cloud_percent': 0,\n    'columns': 12722,\n    'epsg_code': 32633,\n    'ground_control': True,\n    'gsd': 3.8,\n    'heavy_haze_percent': 0,\n    'instrument': 'PSB.SD',\n    'item_type': 'PSScene4Band',\n    'light_haze_percent': 0,\n    'origin_x': 265047,\n    'origin_y': 4659387,\n    'pixel_resolution': 3,\n    'provider': 'planetscope',\n    'published': '2020-04-16T02:59:09Z',\n    'quality_category': 'test',\n    'rows': 9440,\n    'satellite_id': '2257',\n    'shadow_percent': 0,\n    'snow_ice_percent': 0,\n    'strip_id': '3320153',\n    'sun_azimuth': 132.4,\n    'sun_elevation': 48.9,\n    'updated': '2020-04-16T03:06:50Z',\n    'view_angle': 0.2,\n    'visible_confidence_percent': 87,\n    'visible_percent': 100},\n   'type': 'Feature'},\n  {'_links': {'_self': 'https://api.planet.com/data/v1/item-types/PSScene4Band/items/20200415_100515_37_1058',\n    'assets': 'https://api.planet.com/data/v1/item-types/PSScene4Band/items/20200415_100515_37_1058/assets/',\n    'thumbnail': 'https://tiles.planet.com/data/v1/item-types/PSScene4Band/items/20200415_100515_37_1058/thumb'},\n   '_permissions': ['assets.udm:download',\n    'assets.analytic:download',\n    'assets.analytic_xml:download',\n    'assets.analytic_dn:download',\n    'assets.analytic_dn_xml:download',\n    'assets.basic_analytic:download',\n    'assets.basic_analytic_rpc:download',\n    'assets.basic_analytic_dn:download',\n    'assets.basic_analytic_dn_rpc:download',\n    'assets.basic_analytic_xml:download',\n    'assets.basic_analytic_dn_xml:download',\n    'assets.basic_analytic_dn_nitf:download',\n    'assets.basic_analytic_dn_rpc_nitf:download',\n    'assets.basic_analytic_dn_xml_nitf:download',\n    'assets.basic_analytic_nitf:download',\n    'assets.basic_analytic_rpc_nitf:download',\n    'assets.basic_analytic_xml_nitf:download',\n    'assets.basic_udm:download',\n    'assets.analytic_sr:download',\n    'assets.basic_udm2:download',\n    'assets.udm2:download'],\n   'geometry': {'coordinates': [[[12.501239849130165, 41.93591731387212],\n      [12.455680050088363, 41.785071692608234],\n      [12.757869603792253, 41.73355122475297],\n      [12.80446408066859, 41.88451406065172],\n      [12.501239849130165, 41.93591731387212]]],\n    'type': 'Polygon'},\n   'id': '20200415_100515_37_1058',\n   'properties': {'acquired': '2020-04-15T10:05:15.370415Z',\n    'anomalous_pixels': 0,\n    'clear_confidence_percent': 99,\n    'clear_percent': 100,\n    'cloud_cover': 0.03,\n    'cloud_percent': 0,\n    'columns': 9757,\n    'epsg_code': 32633,\n    'ground_control': True,\n    'gsd': 3.9,\n    'heavy_haze_percent': 0,\n    'instrument': 'PS2.SD',\n    'item_type': 'PSScene4Band',\n    'light_haze_percent': 0,\n    'origin_x': 288567,\n    'origin_y': 4645683,\n    'pixel_resolution': 3,\n    'provider': 'planetscope',\n    'published': '2020-04-15T22:30:27Z',\n    'quality_category': 'test',\n    'rows': 7687,\n    'satellite_id': '1058',\n    'shadow_percent': 0,\n    'snow_ice_percent': 0,\n    'strip_id': '3320741',\n    'sun_azimuth': 151.2,\n    'sun_elevation': 55.1,\n    'updated': '2020-04-16T04:40:36Z',\n    'view_angle': 2,\n    'visible_confidence_percent': 81,\n    'visible_percent': 100},\n   'type': 'Feature'}],\n '_links': {'_first': 'https://api.planet.com/data/v1/searches/da708c34620143eb833ff479b08b89ce/results?_page=eyJwYWdlX3NpemUiOiAyNTAsICJzb3J0X2J5IjogInB1Ymxpc2hlZCIsICJzb3J0X2Rlc2MiOiB0cnVlLCAic29ydF9zdGFydCI6IG51bGwsICJzb3J0X2xhc3RfaWQiOiBudWxsLCAic29ydF9wcmV2IjogZmFsc2UsICJxdWVyeV9wYXJhbXMiOiB7fX0%3D',\n  '_next': 'https://api.planet.com/data/v1/searches/da708c34620143eb833ff479b08b89ce/results?_page=eyJwYWdlX3NpemUiOiAyNTAsICJzb3J0X2J5IjogInB1Ymxpc2hlZCIsICJzb3J0X2Rlc2MiOiB0cnVlLCAic29ydF9zdGFydCI6ICIyMDIwLTA0LTE1VDIyOjMwOjI3LjAwMDAwMFoiLCAic29ydF9sYXN0X2lkIjogIjIwMjAwNDE1XzEwMDUxNV8zN18xMDU4IiwgInNvcnRfcHJldiI6IGZhbHNlLCAicXVlcnlfcGFyYW1zIjoge319',\n  '_self': 'https://api.planet.com/data/v1/searches/da708c34620143eb833ff479b08b89ce/results?_page=eyJwYWdlX3NpemUiOiAyNTAsICJzb3J0X2J5IjogInB1Ymxpc2hlZCIsICJzb3J0X2Rlc2MiOiB0cnVlLCAic29ydF9zdGFydCI6IG51bGwsICJzb3J0X2xhc3RfaWQiOiBudWxsLCAic29ydF9wcmV2IjogZmFsc2UsICJxdWVyeV9wYXJhbXMiOiB7fX0%3D'},\n 'type': 'FeatureCollection'}","content_type":"text/plain"}}}],"key":"vqAsgGGvyR"}],"key":"s6Gz78oNcr"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Print out the most interesting metadata\nsearch_results = [(feature[\"id\"], feature[\"properties\"]['acquired'], \\\n                   feature[\"properties\"]['cloud_cover']) \\\n                   for feature in results[\"features\"]]\nprint(\"Product id \\t acquisition date & time \\t cloud cover  \")\nfor item in search_results:\n    print(item[0],   item[1],   item[2])","key":"T63o8AML4N"},{"type":"output","id":"VQ6jpJVUvcqhbAHfjOiPT","data":[{"name":"stdout","output_type":"stream","text":"Product id \t acquisition date & time \t cloud cover  \n20200416_093843_1003 2020-04-16T09:38:43.436748Z 0\n20200415_100513_35_1058 2020-04-15T10:05:13.355052Z 0.03\n20200415_091216_83_2257 2020-04-15T09:12:16.833103Z 0\n20200415_100515_37_1058 2020-04-15T10:05:15.370415Z 0.03\n"}],"key":"YqReiBh7e5"}],"key":"eup3vAfJbH"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Additional filtering of search results by cloud coverage\nitem_ids = [feature['id'] for feature in results[\"features\"] \n            if feature[\"properties\"]['cloud_cover'] == 0]\nitem_ids","key":"dpkRepV94R"},{"type":"output","id":"DEsIlJt44ppmMqusZ0drW","data":[{"output_type":"execute_result","execution_count":115,"metadata":{},"data":{"text/plain":{"content":"['20200416_093843_1003', '20200415_091216_83_2257']","content_type":"text/plain"}}}],"key":"veHiGiDIih"}],"key":"MdpoPia8Wi"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Order data import","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jcf2Y0YuZN"}],"identifier":"order-data-import","label":"Order data import","html_id":"order-data-import","implicit":true,"key":"qXd5h1cmmU"}],"key":"tOqy173bMW"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"url = \"https://services.sentinel-hub.com/dataimport/v1/orders\"\n\nquery['data'][0][\"productBundle\"] = \"analytic\"\n\nname = \"EDC demo 1\"\npayload = {\n    \"name\": name,\n    \"input\": query\n}\n\nresponse = oauth.post(url, json=payload)\nresponse.raise_for_status()\n\norder = response.json()","key":"ji06CuyQmc"},{"type":"output","id":"tbeO_4BXTIjQGXAgrW1IN","data":[],"key":"hERinivTuW"}],"key":"rXfpYQIVJJ"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"order_id = order['id']\narea = order['sqkm']\nprint(f\"Order {name}, id: {order_id}, area: {area} km^2\")","key":"Acc6RRQxUQ"},{"type":"output","id":"Dr9KN4iKsYxBpp93j-map","data":[{"name":"stdout","output_type":"stream","text":"Order EDC demo 1, id: 89f6057f-3b50-473f-9cd3-6e4f52666e27, area: 4.968239307460755 km^2\n"}],"key":"ucAvmepuJT"}],"key":"AxpadaBuTy"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Confirm the order","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AOxFE1XQIB"}],"identifier":"confirm-the-order","label":"Confirm the order","html_id":"confirm-the-order","implicit":true,"key":"h433XWOvso"}],"key":"sUCWxEUh2w"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"url = f\"https://services.sentinel-hub.com/dataimport/v1/orders/{order_id}/confirm\"\n\nresponse = oauth.post(url)\nresponse.raise_for_status()","key":"Po4AVZg2l8"},{"type":"output","id":"xXzvSWusKWsHWsWA3FyIz","data":[],"key":"AsEqsbbG9R"}],"key":"URQSj6RaYp"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"response.json()[\"status\"]","key":"zsTR1en1yh"},{"type":"output","id":"8rf_ipED76b5eM33Ebt3e","data":[],"key":"h7HWx2O3l2"}],"key":"BmVLSAtRCp"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Check Status","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BDbuddm8aF"}],"identifier":"check-status","label":"Check Status","html_id":"check-status","implicit":true,"key":"pJ3eHaRnEH"}],"key":"ozl3JQIxj0"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"order_id = order_id\n\nurl = f\"https://services.sentinel-hub.com/dataimport/v1/orders/{order_id}\"\n\nresponse = oauth.get(url)\nresponse.raise_for_status()\n\norder_status = response.json()","key":"bfPTihIkft"},{"type":"output","id":"ekGp_tJ-y4heeefP8O8to","data":[],"key":"feng79qbvt"}],"key":"EmdFOtK3go"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"order_status[\"status\"]","key":"V4VYsdLOu1"},{"type":"output","id":"etSEl4Vw2CNpYh8dAdHe2","data":[{"output_type":"execute_result","execution_count":101,"metadata":{},"data":{"text/plain":{"content":"'DONE'","content_type":"text/plain"}}}],"key":"jRloB1rctq"}],"key":"vBp07n9Q8q"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Save the collection id\ncollection_id = order_status[\"collectionId\"]","key":"gluo4br2zY"},{"type":"output","id":"3CNeVozZGwvffsfd2Cq24","data":[],"key":"UvObYVtPsR"}],"key":"zTw3Gp32rM"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"List all orders","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aEyvzWWViT"}],"identifier":"list-all-orders","label":"List all orders","html_id":"list-all-orders","implicit":true,"key":"ntuS2TxRw5"}],"key":"W11VpHkg68"},{"type":"block","kind":"notebook-code","data":{"collapsed":true,"jupyter":{"outputs_hidden":true}},"children":[{"type":"code","lang":"python","executable":true,"value":"url = \"https://services.sentinel-hub.com/dataimport/v1/orders\"\n\nresponse = oauth.get(url)\nresponse.raise_for_status()\n\n#response.json()","key":"MowGYd5cAE"},{"type":"output","id":"ZdvjdozZwXW0hmoxq5_UM","data":[{"output_type":"execute_result","execution_count":91,"metadata":{},"data":{"text/plain":{"content_type":"text/plain","hash":"08e9e265025ad3ba72281c30b3a9c43b","path":"/example-viewer/build/08e9e265025ad3ba72281c30b3a9c43b.txt"}}}],"key":"haowwEqwTn"}],"key":"Aj0SePJjGV"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Access the data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yh8kjVnKXZ"}],"identifier":"access-the-data","label":"Access the data","html_id":"access-the-data","implicit":true,"key":"scmZl6woob"}],"key":"boIqrcEjpH"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prepare a bbox","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ke368vGMPa"}],"identifier":"prepare-a-bbox","label":"Prepare a bbox","html_id":"prepare-a-bbox","implicit":true,"key":"v8d0pCHd6m"}],"key":"KYCRod2oTX"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"minx, miny = aoi[\"coordinates\"][0][0]\nmaxx, maxy = aoi[\"coordinates\"][0][2]","key":"sMRWOAxfhH"},{"type":"output","id":"kR1n94LWazaQFuc2WYYL4","data":[],"key":"q5w5gTbzfv"}],"key":"CLf2OUV15S"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prepare evalscript","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"m27MxytABo"}],"identifier":"prepare-evalscript","label":"Prepare evalscript","html_id":"prepare-evalscript","implicit":true,"key":"vknXRB7L6B"}],"key":"UPn7mGPP3Y"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# True color\nevalscript_true_color = \"\"\"\n//VERSION=3\nfunction setup() {\n  return {\n    input: [{\"bands\": [\"B1\", \"B2\", \"B3\"]}],\n    output: { bands: 3}\n  };\n}\n\nvar f = 3000;\nfunction evaluatePixel(sample) {\n  return [sample.B3, sample.B2, sample.B1].map(s => s / f);\n}\n\"\"\"","key":"YM2omkuVSN"},{"type":"output","id":"4HH7riS-LPhCUnyDhlNEe","data":[],"key":"JgnfKka5jh"}],"key":"tc5cdOxnoi"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# NDVI\nevalscript_ndvi = \"\"\"\n//VERSION=3\nfunction setup() {\n  return {\n    input: [{\"bands\": [\"B3\", \"B4\"]}],\n    output: { bands: 3}\n  };\n}\n\nfunction evaluatePixel(sample) {\n  var ndvi = (sample.B4 - sample.B3) / (sample.B4 + sample.B3)\n  return colorBlend(ndvi, [0.0, 0.2, 0.6], [[1,0,0], [1,1,0], [0.1,0.30,0]])\n}\n\"\"\"","key":"htvfJIuTCf"},{"type":"output","id":"ZnM2hdrOudZfWIRPJqdUi","data":[],"key":"DWnpc9om53"}],"key":"zOfnPNQTTX"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Access data with SH process API","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ppXDxvIlr1"}],"identifier":"access-data-with-sh-process-api","label":"Access data with SH process API","html_id":"access-data-with-sh-process-api","implicit":true,"key":"HRNncJCuDF"}],"key":"MHKyYYzdQ7"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Prepare process API request\nbody = {\n    \"input\": {\n        \"bounds\": {\n            \"bbox\": [minx, miny, maxx, maxy],\n            \"properties\":{\n                \"crs\": \"http://www.opengis.net/def/crs/OGC/1.3/CRS84\"\n            }\n        },\n        \"data\": [\n            {\n                \"type\": \"CUSTOM\",\n                \"dataFilter\": {\n                    \"collectionId\": collection_id,\n                    \"timeRange\": {\n                        \"from\": date_from,\n                        \"to\": date_to\n                    },\n                }\n            }\n        ]\n    },\n    \"evalscript\": \"\",\n    \"output\": {\n        \"height\": 512,\n        \"width\": 512,\n        \"responses\": [\n          {\n            \"identifier\": \"default\",\n            \"format\": {\n                  \"type\": \"image/jpeg\",\n                   \"quality\": 100\n                }\n          }\n        ]\n    }\n}","key":"Pvf6GfoNPv"},{"type":"output","id":"xOgVVT3u556LBLiDyvwKD","data":[],"key":"R4r1JJNQOP"}],"key":"VEOUVMml9i"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"def override_evalscript_in_body (body, evalscript):\n    body [\"evalscript\"] = evalscript\n    return body","key":"Lu0GuKJtcV"},{"type":"output","id":"pv-TCY4L-3_h0JgPq5U8S","data":[],"key":"OYAnVeacUm"}],"key":"KXroNXdqH8"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"response_true_color = oauth.post(\n    'https://services.sentinel-hub.com/api/v1/process', \n    json=override_evalscript_in_body(body, evalscript_true_color)\n)\nresponse_ndvi = oauth.post(\n    'https://services.sentinel-hub.com/api/v1/process', \n    json=override_evalscript_in_body(body, evalscript_ndvi)\n)\nif response_true_color.status_code == response_ndvi.status_code == 200:\n    print(\"Success\")","key":"mI6YCB11aK"},{"type":"output","id":"r-_zzGzxw1Y14Tjos40ZI","data":[{"name":"stdout","output_type":"stream","text":"Success\n"}],"key":"ZVmrZOxGfd"}],"key":"JZ44juACHG"},{"type":"block","kind":"notebook-code","data":{"jupyter":{"source_hidden":true}},"children":[{"type":"code","lang":"python","executable":true,"value":"response_true_color.json()","key":"qmDygtQwlF"},{"type":"output","id":"u7_cZCIoh5fM-7LxxPK_4","data":[],"key":"gaDT9ajQ02"}],"key":"cMlMEWqNML"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"import io\nfrom PIL import Image","key":"OsQ0WNl2CF"},{"type":"output","id":"E-zQH6CPzhJfNR0Qq4AQB","data":[],"key":"zzy6NG5MN5"}],"key":"OhbxBp5cT3"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Display true color and  NDVI\nim1 = Image.open(io.BytesIO(response_true_color.content))\nim2 = Image.open(io.BytesIO(response_ndvi.content))\n\ndef get_concat_h(im1, im2):\n    dst = Image.new('RGB', (im1.width + im2.width+10, im1.height))\n    dst.paste(im1, (0, 0))\n    dst.paste(im2, (im1.width+10, 0))\n    return dst\n\nget_concat_h(im1, im2)","key":"g58jmlURiQ"},{"type":"output","id":"D9B5Cj8ySczJe5bB6qKtq","data":[{"output_type":"execute_result","execution_count":114,"metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"d3945e2d5f7ee8707a64850d1d38b53c","path":"/example-viewer/build/d3945e2d5f7ee8707a64850d1d38b53c.png"},"text/plain":{"content":"<PIL.Image.Image image mode=RGB size=1034x512 at 0x7F03949F7C10>","content_type":"text/plain"}}}],"key":"QTJjl3KRHg"}],"key":"M8xVhlENeI"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Request S2 data for comparison","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CNMNguF31k"}],"identifier":"request-s2-data-for-comparison","label":"Request S2 data for comparison","html_id":"request-s2-data-for-comparison","implicit":true,"key":"MVlYq3GAI0"}],"key":"k3oRLzlRxU"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"date_from = \"2020-04-10T00:00:00.000Z\" # We extend the time range, as there \n                                       # was no S2 image available for given\n                                       # aoi and time range\n\nevalscript_s2_true_color = \"\"\"\n//VERSION=3\nfunction setup() {\n  return {\n    input: [{\"bands\": [\"B02\", \"B03\", \"B04\"]}],\n    output: { bands: 3}\n  };\n}\n\nfunction evaluatePixel(sample) {\n  return [sample.B04*2.5, sample.B03*2.5, sample.B02*2.5];\n}\n\"\"\"\n\n\n# Prepare process API request\nbody = {\n    \"input\": {\n        \"bounds\": {\n            \"bbox\": [minx, miny, maxx, maxy],\n            \"properties\":{\n                \"crs\": \"http://www.opengis.net/def/crs/OGC/1.3/CRS84\"\n            }\n        },\n        \"data\": [\n            {\n                \"type\": \"S2L1C\",\n                \"dataFilter\": {\n                    \"timeRange\": {\n                        \"from\": date_from,\n                        \"to\": date_to\n                    },\n                }\n            }\n        ]\n    },\n    \"evalscript\": \"\",\n    \"output\": {\n        \"height\": 512,\n        \"width\": 512,\n        \"responses\": [\n          {\n            \"identifier\": \"default\",\n            \"format\": {\n                  \"type\": \"image/jpeg\",\n                   \"quality\": 100\n                }\n          }\n        ]\n    }\n}","key":"UXR51EBpjy"},{"type":"output","id":"XmX1euXZIO0Jd0xfLs6DB","data":[],"key":"jySy6lvHk1"}],"key":"IAaTpCxnw1"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"response_s2_true_color = oauth.post( \\\n            'https://services.sentinel-hub.com/api/v1/process',\n            json=override_evalscript_in_body(body, \n                                             evalscript_s2_true_color))","key":"wCu23EqFSy"},{"type":"output","id":"MiGvQaT8OxVVLzuiDzIAm","data":[],"key":"Kx4PpPDFKk"}],"key":"Jp0ADfUOgy"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"stream = io.BytesIO(response_s2_true_color.content)\nimg_s2_true_color = Image.open(stream)","key":"EblENRG0YN"},{"type":"output","id":"_wKHUTVeqBJpOZGfQV4lS","data":[],"key":"RrckPdcO1C"}],"key":"HAIZz6O3hw"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Display PlanetScope true color on the left and S2 L1C on the right\nget_concat_h(im1, img_s2_true_color)","key":"hZKw0CkvIY"},{"type":"output","id":"21DkcsVG1iI8CNJwJc7Do","data":[{"output_type":"execute_result","execution_count":104,"metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"d9c9d28b9adb428da804b1c26f394c27","path":"/example-viewer/build/d9c9d28b9adb428da804b1c26f394c27.png"},"text/plain":{"content":"<PIL.Image.Image image mode=RGB size=1034x512 at 0x7F03948F9650>","content_type":"text/plain"}}}],"key":"UA1Feq284v"}],"key":"U7kdB7j4PH"}],"key":"emVmY1qMzp"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Finished Goods Inventory indicator for RACE","url":"/external-notebooks/eurodatacube/notebooks/notebooks/contributions/race-finishedgoodsinventory-inidcator","group":"Contributions"},"next":{"title":"Using xcube to access non-commercial and commercial data sets","url":"/external-notebooks/eurodatacube/notebooks/notebooks/contributions/xcube-access-datasets","group":"Contributions"}}},"domain":"http://localhost:3000"}