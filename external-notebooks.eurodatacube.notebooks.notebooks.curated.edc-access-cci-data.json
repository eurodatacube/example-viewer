{"version":1,"kind":"Notebook","sha256":"0859cebea72d77a94d43a4e71b0ac6e835e2575236df25aadc3b0a7a88c66c45","slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-access-cci-data","location":"/external_notebooks/eurodatacube/notebooks/notebooks/curated/EDC_Access_CCI_data.ipynb","dependencies":[],"frontmatter":{"title":"Access CCI data with xcube","content_includes_title":true,"kernelspec":{"name":"conda-env-users-edc-2023.10-01-py","display_name":"EDC 2022.02 (Python3)","language":"python"},"github":"https://github.com/eurodatacube/example-viewer","subject":"Euro Data Cube Examples","numbering":{"title":{"offset":5}},"edit_url":"https://github.com/eurodatacube/example-viewer/blob/main/external_notebooks/eurodatacube/notebooks/notebooks/curated/EDC_Access_CCI_data.ipynb","exports":[{"format":"ipynb","filename":"EDC_Access_CCI_data.ipynb","url":"/example-viewer/build/EDC_Access_CCI_data-a829802de4e50215303261e3f2095860.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-07-31T10:06:19.584438Z","iopub.status.busy":"2023-07-31T10:06:19.584111Z","iopub.status.idle":"2023-07-31T10:06:19.829598Z","shell.execute_reply":"2023-07-31T10:06:19.828669Z"},"papermill":{"duration":0.320862,"end_time":"2023-07-31T10:06:19.831306","exception":false,"start_time":"2023-07-31T10:06:19.510444","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from edc import check_compatibility\ncheck_compatibility(\"user-2023.07-01\", dependencies=[])","visibility":"show","key":"ELGU4rHPee"},{"type":"output","id":"swFpY3h9ryD3f53xeHE9k","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"<script type=\"text/javascript\">\n        function toggle(id) {\n            el = document.getElementById(id);\n            el.style.display = el.style.display === \"none\" ? \"block\" : \"none\";\n        }\n    </script>","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"This notebook is compatible with this base image version (user-2023.07-01).","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}}],"visibility":"show","key":"Vgzh2JVaBc"}],"visibility":"show","key":"Rg64gLfVXt"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.124,"end_time":"2023-07-31T10:06:20.090264","exception":false,"start_time":"2023-07-31T10:06:19.966264","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Access CCI data with xcube","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Bnac7Kls0E"}],"identifier":"access-cci-data-with-xcube","label":"Access CCI data with xcube","html_id":"access-cci-data-with-xcube","implicit":true,"key":"FbcGnlsX5p"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"This notebook provides a walk-through demonstrating how to use xcube and the xcube store for the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"MmzMaxx4PV"},{"type":"link","url":"https://climate.esa.int/en/odp/#/dashboard","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Open Data Portal","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"RCM4ZGijaR"}],"urlSource":"https://climate.esa.int/en/odp/#/dashboard","key":"e4l3FBXEqJ"},{"type":"text","value":" of the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"uq7651nuxl"},{"type":"link","url":"https://climate.esa.int/en/esa-climate/esa-cci/","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"ESA Climate Change Initiative","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"LPdt3LeKwa"}],"urlSource":"https://climate.esa.int/en/esa-climate/esa-cci/","key":"jE2GgH5KgE"},{"type":"text","value":" (CCI) to read and explore CCI data.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"sWOuoG8Lht"}],"key":"UKONx9JUkY"}],"visibility":"show","key":"kG2ppoMG1E"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-07-31T10:06:20.296718Z","iopub.status.busy":"2023-07-31T10:06:20.296405Z","iopub.status.idle":"2023-07-31T10:06:26.527399Z","shell.execute_reply":"2023-07-31T10:06:26.526806Z"},"papermill":{"duration":6.360594,"end_time":"2023-07-31T10:06:26.529086","exception":false,"start_time":"2023-07-31T10:06:20.168492","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# mandatory imports\nfrom xcube.core.store import find_data_store_extensions\nfrom xcube.core.store import get_data_store_params_schema\nfrom xcube.core.store import new_data_store\n\n# Utilities for notebook visualization\nimport shapely.geometry\nfrom IPython.display import JSON\nimport matplotlib.pyplot as plt\n\n%matplotlib inline\nplt.rcParams[\"figure.figsize\"] = 16,8","visibility":"show","key":"yBlMyxOx9m"},{"type":"output","id":"A_OeYHTpSyCqJA39QD0Tv","data":[],"visibility":"show","key":"kkx7z15dKd"}],"visibility":"show","key":"wuvKtsduIs"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.142099,"end_time":"2023-07-31T10:06:26.759806","exception":false,"start_time":"2023-07-31T10:06:26.617707","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"xcube store are self-descritptive and may be queried for detailed information, e.g., which data store parameters are available for ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"m5pkbyMI08"},{"type":"inlineCode","value":"cciodp","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mcZdvvuDY2"},{"type":"text","value":"? (We’ll take a look at the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZXFzVx1bQo"},{"type":"inlineCode","value":"ccizarr","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SLJS9Iv4QV"},{"type":"text","value":" data store later.)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OwfPcFMTZq"}],"key":"SYGTe0CZnL"}],"visibility":"show","key":"rRHsNmiV5W"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-07-31T10:06:27.013961Z","iopub.status.busy":"2023-07-31T10:06:27.013271Z","iopub.status.idle":"2023-07-31T10:06:27.475680Z","shell.execute_reply":"2023-07-31T10:06:27.474951Z"},"papermill":{"duration":0.564222,"end_time":"2023-07-31T10:06:27.477103","exception":false,"start_time":"2023-07-31T10:06:26.912881","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"get_data_store_params_schema('cciodp')","visibility":"show","key":"ORxj3EfbNL"},{"type":"output","id":"wmwLwZgag0JzAE9Oh3EPj","data":[{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"application/json":{"content":"{\"additionalProperties\":false,\"properties\":{\"enable_warnings\":{\"default\":false,\"title\":\"Whether to output warnings\",\"type\":\"boolean\"},\"endpoint_description_url\":{\"default\":\"https://archive.opensearch.ceda.ac.uk/opensearch/description.xml?parentIdentifier=cci\",\"type\":\"string\"},\"endpoint_url\":{\"default\":\"https://archive.opensearch.ceda.ac.uk/opensearch/request\",\"type\":\"string\"},\"num_retries\":{\"default\":200,\"minimum\":0,\"title\":\"Number of retries when requesting data fails\",\"type\":\"integer\"},\"retry_backoff_base\":{\"default\":1.001,\"exclusiveMinimum\":1,\"type\":\"number\"},\"retry_backoff_max\":{\"default\":40,\"minimum\":0,\"type\":\"integer\"},\"user_agent\":{\"default\":null,\"type\":\"string\"}},\"type\":\"object\"}","content_type":"application/json"},"text/plain":{"content":"<xcube.util.jsonschema.JsonObjectSchema at 0x7fb36fae1050>","content_type":"text/plain"}}}],"visibility":"show","key":"m5pFjyoCDO"}],"visibility":"show","key":"sVVJEQCI2e"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.094297,"end_time":"2023-07-31T10:06:27.647855","exception":false,"start_time":"2023-07-31T10:06:27.553558","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Instantiate a new cci store:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hZyLAvRsV4"}],"key":"CBbBQAtW8O"}],"visibility":"show","key":"RkLiDXlx6t"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-07-31T10:06:27.863264Z","iopub.status.busy":"2023-07-31T10:06:27.862478Z","iopub.status.idle":"2023-07-31T10:06:27.877387Z","shell.execute_reply":"2023-07-31T10:06:27.876757Z"},"papermill":{"duration":0.131824,"end_time":"2023-07-31T10:06:27.878777","exception":false,"start_time":"2023-07-31T10:06:27.746953","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"store = new_data_store('cciodp')\nstore","visibility":"show","key":"dlTuYu8RvS"},{"type":"output","id":"MAdYohT3tDwXIP1k8tOSg","data":[{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/plain":{"content":"<xcube_cci.dataaccess.CciOdpDataStore at 0x7fb36fb7e010>","content_type":"text/plain"}}}],"visibility":"show","key":"QQmADbqLr0"}],"visibility":"show","key":"k9S9rpqxbs"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.08549,"end_time":"2023-07-31T10:06:28.118604","exception":false,"start_time":"2023-07-31T10:06:28.033114","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Which datasets are provided? (the list may contain both gridded and vector datasets):","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ELF7jWka0B"}],"key":"pZCb4ZVz0X"}],"visibility":"show","key":"p582hNh3W2"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.064777,"end_time":"2023-07-31T10:06:28.269552","exception":false,"start_time":"2023-07-31T10:06:28.204775","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The store can be queried for a specific dataset:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"z0avUJtcoX"}],"key":"yhbzZHOK2t"}],"visibility":"show","key":"L3twxLf6Hf"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-07-31T10:06:28.443740Z","iopub.status.busy":"2023-07-31T10:06:28.443419Z","iopub.status.idle":"2023-07-31T10:06:28.889746Z","shell.execute_reply":"2023-07-31T10:06:28.888992Z"},"papermill":{"duration":0.505787,"end_time":"2023-07-31T10:06:28.891455","exception":false,"start_time":"2023-07-31T10:06:28.385668","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"store.has_data('esacci.OC.5-days.L3S.CHLOR_A.multi-sensor.multi-platform.MERGED.3-1.geographic')","visibility":"show","key":"WKiNUsPMiE"},{"type":"output","id":"sXHJzHPbQJf91Bj4PPzZN","data":[{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/plain":{"content":"True","content_type":"text/plain"}}}],"visibility":"show","key":"jLLTodEIrW"}],"visibility":"show","key":"hYqmLeNwBj"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.070412,"end_time":"2023-07-31T10:06:29.045905","exception":false,"start_time":"2023-07-31T10:06:28.975493","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In many cases, however, a search for specific crieteria will precede a query. How can this be done?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fBmfEJArvj"}],"key":"QJBUC6oD9v"}],"visibility":"show","key":"gwFqhi3ApC"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-07-31T10:06:29.327290Z","iopub.status.busy":"2023-07-31T10:06:29.326944Z","iopub.status.idle":"2023-07-31T10:06:29.624172Z","shell.execute_reply":"2023-07-31T10:06:29.623624Z"},"papermill":{"duration":0.433683,"end_time":"2023-07-31T10:06:29.625703","exception":false,"start_time":"2023-07-31T10:06:29.192020","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"store.get_search_params_schema()","visibility":"show","key":"gbURDOoymw"},{"type":"output","id":"OpXCJLIOui_ym3mPk-6hM","data":[{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"application/json":{"content":"{\"additionalProperties\":false,\"properties\":{\"bbox\":{\"items\":[{\"type\":\"number\"},{\"type\":\"number\"},{\"type\":\"number\"},{\"type\":\"number\"}],\"type\":\"array\"},\"cci_attrs\":{\"additionalProperties\":false,\"properties\":{\"data_type\":{\"enum\":[\"GLL\",\"BA\",\"CO2\",\"MSLAMPH\",\"PFT\",\"CH4\",\"MSLA\",\"IOP\",\"K_490\",\"WB\",\"GMB\",\"SEC\",\"IV\",\"AOD\",\"GTD\",\"SSMV\",\"SWE\",\"SICONC\",\"NP\",\"TC\",\"CLD_PRODUCTS\",\"AER_PRODUCTS\",\"PFR\",\"SSS\",\"SCFV\",\"MSLTR\",\"SSTdepth\",\"SSTskin\",\"LCCS\",\"LP\",\"RRS\",\"MSL\",\"SWH\",\"LK_PRODUCTS\",\"ALT\",\"UNSPECIFIED\",\"AAI\",\"AEX\",\"LST\",\"CFL\",\"SLA\",\"SCFG\",\"TCWV\",\"SSMS\",\"AGB\",\"CHLOR_A\",\"OC_PRODUCTS\",\"SITHICK\"],\"type\":\"string\"},\"ecv\":{\"enum\":[\"AEROSOL\",\"BIOMASS\",\"FIRE\",\"CLOUD\",\"LAKES\",\"LC\",\"ICESHEETS\",\"SEAICE\",\"SEASURFACESALINITY\",\"SOILMOISTURE\",\"GHG\",\"SST\",\"SEASTATE\",\"PERMAFROST\",\"SEALEVEL\",\"WATERVAPOUR\",\"LST\",\"OZONE\",\"SNOW\",\"OC\"],\"type\":\"string\"},\"frequency\":{\"enum\":[\"unspecified\",\"month\",\"15 days\",\"climatology\",\"13 years\",\"year\",\"satellite-orbit-frequency\",\"5 days\",\"3-hours\",\"10 days\",\"8 days\",\"day\"],\"type\":\"string\"},\"institute\":{\"enum\":[\"Alfred-Wegener-Institut Helmholtz-Zentrum für Polar- und Meeresforschung\",\"Plymouth Marine Laboratory\",\"ENVironmental Earth Observation IT GmbH\",\"multi-institution\",\"DTU Space\",\"Freie Universitaet Berlin\",\"Vienna University of Technology\",\"Deutscher Wetterdienst\",\"Netherlands Institute for Space Research\",\"Technische Universität Dresden\",\"Institute of Environmental Physics\",\"Rutherford Appleton Laboratory\",\"Universite Catholique de Louvain\",\"University of Alcala\",\"University of Leicester\",\"Norwegian Meteorological Institute\",\"University of Bremen\",\"Belgian Institute for Space Aeronomy\",\"Deutsches Zentrum fuer Luft- und Raumfahrt\",\"Royal Netherlands Meteorological Institute\",\"The Geological Survey of Denmark and Greenland\"],\"type\":\"string\"},\"platform\":{\"enum\":[\"ERS-2\",\"GFO\",\"Sentinel-1A\",\"OCO-2\",\"NOAA-12\",\"Nimbus-5\",\"NOAA-11\",\"NOAA-14\",\"Topex-Poseidon\",\"ODIN\",\"Envisat\",\"GOSAT-2\",\"ERS-1\",\"NOAA-7\",\"multi-platform\",\"Aqua\",\"Unspecified\",\"NOAA-19\",\"NOAA-9\",\"Terra\",\"Sentinel-2A\",\"NOAA-15\",\"Sentinel-3B\",\"ALOS\",\"RadarSat-2\",\"GRACE\",\"CryoSat-2\",\"Jason-1\",\"Jason-2\",\"Sentinel-3A\",\"SARAL\",\"GOSAT\",\"NOAA-17\",\"NOAA-16\",\"Metop-A\",\"NOAA-18\"],\"type\":\"string\"},\"processing_level\":{\"enum\":[\"L3C\",\"L4\",\"L1\",\"L3\",\"L2\",\"L3U\",\"IND\",\"L3S\",\"Unspecified\",\"L2P\"],\"type\":\"string\"},\"product_string\":{\"enum\":[\"SH50KMEASE2\",\"SCIAMACHY_ENVISAT\",\"GMPE\",\"AATSR-ENVISAT-ENS_DAILY\",\"MODIS_TERRA\",\"SU\",\"MODISA\",\"AVHRR09_G\",\"ATSR1\",\"AVHRRMTA_G\",\"ATSR2-ENVISAT-ENS_ANNUAL\",\"Map\",\"RE_SSMI_12-5kmEASE2-SH\",\"AVHRR11_G\",\"SLSTRB\",\"ACTIVE\",\"SRPR\",\"OCPR\",\"AVHRR15_G\",\"MODISLST_CRYOGRID\",\"FOCAL\",\"COMBINED_ADJUSTED\",\"AATSR-ENVISAT-ENS_MONTHLY\",\"NH25KMEASE2\",\"ATSR2\",\"AERGOM\",\"AATSR-ENVISAT-ENS\",\"OCFP\",\"AVHRR12_G\",\"MSI\",\"S_AUSTRALIA\",\"ATSR2-ENVISAT-ENS_DAILY\",\"MIPAS_ENVISAT\",\"OSIRIS_ODIN\",\"AVHRR-AM\",\"IRMGP\",\"IMAP\",\"GOMOS_ENVISAT\",\"MERIS_ENVISAT\",\"MULTI_1M\",\"TCWV_land_05deg\",\"AVHRR16_G\",\"AMSR_50kmEASE2\",\"ATSR_2\",\"CHANGE\",\"SLSTRA\",\"NE_ATL\",\"MERIS-AATSR\",\"AVHRR19_G\",\"ADV\",\"COMBINED\",\"BESD\",\"SE_ASIA\",\"OSTIA\",\"MERGED_OI_7DAY_RUNNINGMEAN_DAILY_25km\",\"AVHRR07_G\",\"AMSR_25kmEASE2\",\"ATSR2-AATSR\",\"AVHRR_MERGED\",\"VARIOUS\",\"WAFRICA\",\"MED_SEA\",\"SRFP\",\"MODIS_AQUA\",\"AATSR-ENVISAT-ENS_ANNUAL\",\"UNSPECIFIED\",\"ATSR2-ENVISAT-ENS_MONTHLY\",\"MSAAI\",\"IRCDR\",\"SMR_ODIN\",\"AATSR\",\"WFMD\",\"MERGED\",\"NIMBUS5_ESMR-EASE2_SH\",\"ATSR_3\",\"ATSR2-ENVISAT-ENS\",\"SSMI_SSMIS\",\"MERGED_OI_Monthly_CENTRED_15Day_25km\",\"AVHRR17_G\",\"MODIST\",\"RE_SSMI_12-5kmEASE2-NH\",\"ORAC\",\"SH\",\"N_INDIAN\",\"AVHRR14_G\",\"MZM\",\"SYN\",\"NH\",\"PASSIVE\",\"NIMBUS5_ESMR-EASE2_NH\",\"AVHRR-PM\",\"AVHRR18_G\",\"TCWV_land_005deg\",\"ERA5_MODISLST_BIASCORRECTED\",\"EMMA\"],\"type\":\"string\"},\"product_version\":{\"enum\":[\"1.00\",\"v4.0\",\"v2.6\",\"2.00\",\"v2.2a\",\"v10\",\"2.31\",\"4.3\",\"5.0\",\"fv0002\",\"v2.2c\",\"1.1\",\"04.01\",\"2.1\",\"3.2\",\"3.21\",\"1.2\",\"1.5\",\"v06.1\",\"1.3\",\"1.0\",\"3.0\",\"04.01.\",\"04.01_seg.\",\"v5.1\",\"v7.0.1\",\"v2.1\",\"v06.2\",\"2.0.8\",\"v7.2\",\"2.2\",\"v02.01.02\",\"v2.0.2\",\"3.1\",\"v05.3\",\"0.1\",\"4.0\",\"v0001\",\"v2.3.8\",\"v2.33\",\"3.00\",\"ch4_v1.2\",\"v7.0\",\"1.7\",\"v2.2b\",\"03.0\",\"v1.0\",\"fv0100\",\"v1.1\",\"v3.0\",\"v1.3\",\"4.2\",\"v07.1\",\"2.0\",\"2.0.7\",\"05.2\",\"1.4\",\"v2.0.0\",\"v2.0\"],\"type\":\"string\"},\"sensor\":{\"enum\":[\"OSIRIS\",\"MODIS\",\"SAR-2000\",\"ESMR-(Nimbus-5)\",\"SMR\",\"PALSAR\",\"Poseidon-3\",\"SCIAMACHY\",\"TANSO-FTS\",\"RA\",\"AVHRR-2\",\"AMI-SAR\",\"ATSR\",\"AVHRR-3\",\"Unspecified\",\"GFO-RA\",\"AltiKa\",\"TANSO-FTS-2\",\"Poseidon-2\",\"SAR-C-(Sentinel-1)\",\"multi-sensor\",\"MIPAS\",\"SAR-(RadarSat-2)\",\"GRACE-instrument\",\"ASAR\",\"RA-2\",\"SIRAL\",\"GOMOS\",\"ATSR-2\",\"SSALT\",\"MSI-(Sentinel-2)\",\"AATSR\",\"OCO\",\"MERIS\",\"SLSTR\"],\"type\":\"string\"}},\"type\":\"object\"},\"end_date\":{\"format\":\"date-time\",\"type\":\"string\"},\"start_date\":{\"format\":\"date-time\",\"type\":\"string\"}},\"type\":\"object\"}","content_type":"application/json"},"text/plain":{"content":"<xcube.util.jsonschema.JsonObjectSchema at 0x7fb36f72ce10>","content_type":"text/plain"}}}],"visibility":"show","key":"R0EM37eGtD"}],"visibility":"show","key":"emHKFU4iYi"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.062693,"end_time":"2023-07-31T10:06:29.822099","exception":false,"start_time":"2023-07-31T10:06:29.759406","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In this example, a multi-sensor sea surface temperature data (SST) with a daily frequency is searched for. The search results in three items.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AnDyyhwWNR"}],"key":"I4D9HfOaLk"}],"visibility":"show","key":"hc3F3YCY8F"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-07-31T10:06:30.100075Z","iopub.status.busy":"2023-07-31T10:06:30.099769Z","iopub.status.idle":"2023-07-31T10:06:32.807745Z","shell.execute_reply":"2023-07-31T10:06:32.806986Z"},"papermill":{"duration":2.907896,"end_time":"2023-07-31T10:06:32.810136","exception":false,"start_time":"2023-07-31T10:06:29.902240","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"iterator = store.search_data(cci_attrs=dict(ecv='SST', sensor='multi-sensor', frequency='day'))\nJSON([item.to_dict() for item in iterator])","visibility":"show","key":"GoYQ7fYCW5"},{"type":"output","id":"stLTjyDuoyytHPLIoCAec","data":[{"output_type":"execute_result","execution_count":7,"metadata":{"application/json":{"expanded":false,"root":"root"}},"data":{"application/json":{"content_type":"application/json","hash":"b267fb480033212052edd8a2793ad625","path":"/example-viewer/build/b267fb480033212052edd8a2793ad625.json"},"text/plain":{"content":"<IPython.core.display.JSON object>","content_type":"text/plain"}}}],"visibility":"show","key":"eweU82yNL2"}],"visibility":"show","key":"QpBPgnZhEt"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.074289,"end_time":"2023-07-31T10:06:32.980760","exception":false,"start_time":"2023-07-31T10:06:32.906471","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Which parameters must be passsed or are available to open a specific dataset?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ALd0q4dYj6"}],"key":"xiqmByLJdP"}],"visibility":"show","key":"ENlSDu5eJP"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-07-31T10:06:33.232692Z","iopub.status.busy":"2023-07-31T10:06:33.232367Z","iopub.status.idle":"2023-07-31T10:06:33.255727Z","shell.execute_reply":"2023-07-31T10:06:33.255171Z"},"papermill":{"duration":0.191216,"end_time":"2023-07-31T10:06:33.257240","exception":false,"start_time":"2023-07-31T10:06:33.066024","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"store.get_open_data_params_schema('esacci.SST.day.L4.SSTdepth.multi-sensor.multi-platform.OSTIA.1-1.r1')","visibility":"show","key":"wLfK1mty3y"},{"type":"output","id":"V7yb6p0Vn77qnrVcTzQtM","data":[{"output_type":"execute_result","execution_count":8,"metadata":{},"data":{"application/json":{"content":"{\"additionalProperties\":false,\"properties\":{\"bbox\":{\"items\":[{\"maximum\":180,\"minimum\":-180,\"type\":\"number\"},{\"maximum\":90,\"minimum\":-90,\"type\":\"number\"},{\"maximum\":180,\"minimum\":-180,\"type\":\"number\"},{\"maximum\":90,\"minimum\":-90,\"type\":\"number\"}],\"type\":\"array\"},\"normalize_data\":{\"default\":true,\"type\":\"boolean\"},\"time_range\":{\"items\":[{\"format\":\"date\",\"maxDate\":\"2010-12-31\",\"minDate\":\"1991-08-31\",\"type\":\"string\"},{\"format\":\"date\",\"maxDate\":\"2010-12-31\",\"minDate\":\"1991-08-31\",\"type\":\"string\"}],\"type\":\"array\"},\"variable_names\":{\"items\":{\"enum\":[\"analysed_sst\",\"analysis_error\",\"sea_ice_fraction\",\"sea_ice_fraction_error\",\"mask\"],\"type\":\"string\"},\"type\":\"array\"}},\"type\":\"object\"}","content_type":"application/json"},"text/plain":{"content":"<xcube.util.jsonschema.JsonObjectSchema at 0x7fb36fc1d010>","content_type":"text/plain"}}}],"visibility":"show","key":"xvPs0SNodB"}],"visibility":"show","key":"DYilf71WFU"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.078776,"end_time":"2023-07-31T10:06:33.431033","exception":false,"start_time":"2023-07-31T10:06:33.352257","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This query selects one variable form a specific dataset and subsets it in time. Note that the data is loaded lazily, which ensures a fast view into the dataset, even if large. In turn, however, the data transfer may slow down large-scale processing. Depending on the application, separating data transfer and processing may be advisable.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sJDsOtRZRH"}],"key":"y35XbxZIMz"}],"visibility":"show","key":"Ss6MgYSx7M"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-07-31T10:06:33.582757Z","iopub.status.busy":"2023-07-31T10:06:33.582423Z","iopub.status.idle":"2023-07-31T10:06:34.545671Z","shell.execute_reply":"2023-07-31T10:06:34.545163Z"},"papermill":{"duration":1.035541,"end_time":"2023-07-31T10:06:34.547753","exception":false,"start_time":"2023-07-31T10:06:33.512212","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"dataset = store.open_data('esacci.SST.day.L4.SSTdepth.multi-sensor.multi-platform.OSTIA.1-1.r1', \n                          variable_names=['analysed_sst'],\n                          time_range=['2000-01-01','2010-12-31'])\n\ndataset","visibility":"show","key":"hWHGieJcIk"},{"type":"output","id":"_b_eegQoWzKYHVWEWCbXX","data":[{"output_type":"execute_result","execution_count":9,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"6e27c0536cfa865a4b8d3b5111627f6c","path":"/example-viewer/build/6e27c0536cfa865a4b8d3b5111627f6c.html"},"text/plain":{"content":"<xarray.Dataset>\nDimensions:       (time: 4018, lat: 3600, lon: 7200, bnds: 2)\nCoordinates:\n  * lat           (lat) float32 -89.97 -89.93 -89.88 ... 89.88 89.93 89.97\n    lat_bnds      (lat, bnds) float32 dask.array<chunksize=(3600, 2), meta=np.ndarray>\n  * lon           (lon) float32 -180.0 -179.9 -179.9 ... 179.9 179.9 180.0\n    lon_bnds      (lon, bnds) float32 dask.array<chunksize=(7200, 2), meta=np.ndarray>\n  * time          (time) datetime64[ns] 2000-01-01T12:00:00 ... 2010-12-31T12...\n    time_bnds     (time, bnds) datetime64[ns] dask.array<chunksize=(4018, 2), meta=np.ndarray>\nDimensions without coordinates: bnds\nData variables:\n    analysed_sst  (time, lat, lon) float32 dask.array<chunksize=(1, 900, 1800), meta=np.ndarray>\nAttributes:\n    Conventions:             CF-1.7\n    title:                   esacci.SST.day.L4.SSTdepth.multi-sensor.multi-pl...\n    date_created:            2023-07-31T10:06:34.322142\n    processing_level:        L4\n    time_coverage_start:     2000-01-01T00:00:00\n    time_coverage_end:       2011-01-01T00:00:00\n    time_coverage_duration:  P4018DT0H0M0S\n    history:                 [{'program': 'xcube_cci.chunkstore.CciChunkStore...","content_type":"text/plain"}}}],"visibility":"show","key":"Xgs3qIfgf4"}],"visibility":"show","key":"Pj4qeB5zm8"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.092755,"end_time":"2023-07-31T10:06:34.809913","exception":false,"start_time":"2023-07-31T10:06:34.717158","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot one time stamp of the dataset for a analysed_sst in order to take a brief look at the dataset:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lOvskX67k2"}],"key":"tbObh1JBb9"}],"visibility":"show","key":"c8owrsieCM"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-07-31T10:06:34.982373Z","iopub.status.busy":"2023-07-31T10:06:34.982062Z","iopub.status.idle":"2023-07-31T10:06:53.874713Z","shell.execute_reply":"2023-07-31T10:06:53.874039Z"},"papermill":{"duration":18.985495,"end_time":"2023-07-31T10:06:53.880580","exception":false,"start_time":"2023-07-31T10:06:34.895085","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"dataset.analysed_sst.sel(time='2005-12-12', method='nearest').plot.imshow(cmap='plasma')","visibility":"show","key":"WULCi12q7f"},{"type":"output","id":"Ntu3rmDhJ5Q9qU2qG7roZ","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"485ba73d69c466fffa8286e50489ba5e","path":"/example-viewer/build/485ba73d69c466fffa8286e50489ba5e.png"},"text/plain":{"content":"<Figure size 1600x800 with 2 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"z4tfMAhYxE"}],"visibility":"show","key":"oqL13dp8yx"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-07-31T10:06:54.912997Z","iopub.status.busy":"2023-07-31T10:06:54.912681Z","iopub.status.idle":"2023-07-31T10:06:55.249552Z","shell.execute_reply":"2023-07-31T10:06:55.249000Z"},"papermill":{"duration":0.504932,"end_time":"2023-07-31T10:06:55.251313","exception":false,"start_time":"2023-07-31T10:06:54.746381","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"dataset_ts = store.open_data('esacci.SST.day.L4.SSTdepth.multi-sensor.multi-platform.OSTIA.1-1.r1', \n                          variable_names=['analysed_sst'], bbox=[-50, 20.,-49.95,20.05],\n                          time_range=['2000-01-01','2000-12-31'])","visibility":"show","key":"XMwXwJbb4g"},{"type":"output","id":"lrO2JYjyiuVYnpRYwzEeC","data":[],"visibility":"show","key":"JyvPD5fMIF"}],"visibility":"show","key":"Kvmj57LBex"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-07-31T10:06:55.708208Z","iopub.status.busy":"2023-07-31T10:06:55.707889Z","iopub.status.idle":"2023-07-31T10:06:55.730594Z","shell.execute_reply":"2023-07-31T10:06:55.729905Z"},"papermill":{"duration":0.23806,"end_time":"2023-07-31T10:06:55.732476","exception":false,"start_time":"2023-07-31T10:06:55.494416","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"dataset_ts","visibility":"show","key":"KascHnqQfk"},{"type":"output","id":"JfE_aUho_FJ43rboQ0WIf","data":[{"output_type":"execute_result","execution_count":12,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"c8092b844349f4c1807445284269e776","path":"/example-viewer/build/c8092b844349f4c1807445284269e776.html"},"text/plain":{"content":"<xarray.Dataset>\nDimensions:       (time: 366, lat: 1, lon: 1, bnds: 2)\nCoordinates:\n  * lat           (lat) float32 20.02\n    lat_bnds      (lat, bnds) float32 dask.array<chunksize=(1, 2), meta=np.ndarray>\n  * lon           (lon) float32 -49.97\n    lon_bnds      (lon, bnds) float32 dask.array<chunksize=(1, 2), meta=np.ndarray>\n  * time          (time) datetime64[ns] 2000-01-01T12:00:00 ... 2000-12-31T12...\n    time_bnds     (time, bnds) datetime64[ns] dask.array<chunksize=(366, 2), meta=np.ndarray>\nDimensions without coordinates: bnds\nData variables:\n    analysed_sst  (time, lat, lon) float32 dask.array<chunksize=(1, 1, 1), meta=np.ndarray>\nAttributes:\n    Conventions:             CF-1.7\n    title:                   esacci.SST.day.L4.SSTdepth.multi-sensor.multi-pl...\n    date_created:            2023-07-31T10:06:55.235691\n    processing_level:        L4\n    time_coverage_start:     2000-01-01T00:00:00\n    time_coverage_end:       2001-01-01T00:00:00\n    time_coverage_duration:  P366DT0H0M0S\n    history:                 [{'program': 'xcube_cci.chunkstore.CciChunkStore...","content_type":"text/plain"}}}],"visibility":"show","key":"mo3Ku8wpFs"}],"visibility":"show","key":"DhJiA9vm3G"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-07-31T10:06:56.580699Z","iopub.status.busy":"2023-07-31T10:06:56.580396Z","iopub.status.idle":"2023-07-31T10:08:51.462863Z","shell.execute_reply":"2023-07-31T10:08:51.462120Z"},"papermill":{"duration":115.283186,"end_time":"2023-07-31T10:08:51.465012","exception":false,"start_time":"2023-07-31T10:06:56.181826","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"dataset_ts.analysed_sst.plot()","visibility":"show","key":"AotHGKASOr"},{"type":"output","id":"vpsMIAfoL_aF10SVB9Qwy","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"f745c9ec3fee01f243cebabe7122ac94","path":"/example-viewer/build/f745c9ec3fee01f243cebabe7122ac94.png"},"text/plain":{"content":"<Figure size 1600x800 with 1 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"gTY0fpYkOZ"}],"visibility":"show","key":"CagTOJLfOj"}],"key":"R0y7Dm8BCA"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"How to access IACS Spatial Data","url":"/external-notebooks/eurodatacube/notebooks/notebooks/curated/access-iacs-data","group":"Curated"},"next":{"title":"First steps on the Euro Data Cube platform","url":"/external-notebooks/eurodatacube/notebooks/notebooks/curated/edc-first-steps","group":"Curated"}}},"domain":"http://localhost:3000"}