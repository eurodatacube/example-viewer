<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Drought impact monitoring platform - Euro Data Cube Examples</title><meta property="og:title" content="Drought impact monitoring platform - Euro Data Cube Examples"/><meta name="generator" content="mystmd"/><meta name="description" content="Collection of example Jupyter notebooks relevant for the Euro Data Cube platform"/><meta property="og:description" content="Collection of example Jupyter notebooks relevant for the Euro Data Cube platform"/><meta name="keywords" content=""/><meta name="image" content="/example-viewer/build/ad5c19782b006f72352ae57794305840.png"/><meta property="og:image" content="/example-viewer/build/ad5c19782b006f72352ae57794305840.png"/><link rel="stylesheet" href="/example-viewer/build/_assets/app-HG4THSM4.css"/><link rel="stylesheet" href="/example-viewer/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/example-viewer/favicon.ico"/><link rel="stylesheet" href="/example-viewer/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/example-viewer/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R3iop:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode." aria-label="Toggle theme between light and dark mode."><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><article class="article content article-grid grid-gap"><main class="article-grid subgrid-gap col-screen"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center h-6 mb-5 text-sm font-light"><div class="flex-none pr-2 smallcaps">Euro Data Cube Examples</div><div class="flex-grow"></div><a href="https://github.com/eurodatacube/example-viewer" title="GitHub Repository: eurodatacube/example-viewer" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><div class="inline-block mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block"><title>Jupyter Notebook</title><path d="M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"></path></svg></div><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rd4fop:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">Drought impact monitoring platform</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="YINzDGdc0a" class="relative group/block"><h2 id="eo-based-digital-twin-precursor-of-a-spatio-temporal-drought-impact-monitoring-system-in-europe" class="relative group"><span class="heading-text">EO based Digital Twin precursor of a spatio-temporal drought impact monitoring system in Europe</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#eo-based-digital-twin-precursor-of-a-spatio-temporal-drought-impact-monitoring-system-in-europe" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p><em>Eva Ivits<sup>1</sup>, Lars Eklundh<sup>2</sup>, Roel Van Hoolst<sup>3</sup>, Bruno Smets<sup>3</sup>, Hongxiao, Zhanzhang<sup>3</sup>, Grega Milcinski<sup>4</sup>, Anja Vrecko<sup>4</sup>, Maxim Lamare<sup>5</sup></em></p><p>1: European Environment Agency;
2: Lund University;
3: VITO;
4: Sinergise;
5: Sentinel Hub</p></div><div id="Wh7cMlyCD3" class="relative group/block"><h2 id="introduction" class="relative group"><span class="heading-text">Introduction</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#introduction" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>This Jupyter Notebook presents the workflow developped within the ESA funded Drought impact monitoring platform pilot project. The aim of the project was to develop a pan-European scale drought impact monitoring platform using the new CLMS service High Resolution Vegetation Phenology and Productivity (HR-VPP) derived from Sentinel 2 images. The 10m spatial resolution seasonal trajectories and phenology and productivity parameters were used for studying vegetation dynamics as a response to soil moisture deficit during the period 2017-2020 in Europe. The project was initially based on the workflow developed within the framework of the EEA Drought Impact Indicator (EEA 2021).  However, during the development phase of the project, the scientific principles governing the algorithms were consolidated and an entirely new workflow was proposed.</p><p>This Jupyter Notebook demonstrates how to derive the following variables based on the MR-VPP and HR-VPP datasets:</p><ul><li><p>Soil moisture anomaly</p></li><li><p>Long Term Average soil moisture anomaly</p></li><li><p>Monthly drought hazard</p></li><li><p>Drought pressure</p></li><li><p>Drought pressure month</p></li><li><p>Drought pressure intensity</p></li><li><p>Long Term Average drought pressure intensity</p></li><li><p>LINT anomaly</p></li><li><p>Drought impact</p></li><li><p>Drought impact mask</p></li><li><p>Drought impact intensity</p></li><li><p>Drought impact intensity mask</p></li><li><p>TPROD anomaly</p></li><li><p>SPROD anomaly</p></li><li><p>Total drought impact</p></li><li><p>Seasonal drought impact</p></li><li><p>Number of Seasons</p></li></ul><p>The variable are generated as raster files, accompanied by statistics aggregated by:</p><ul><li><p>Adminstrative area (NUTS3 regions)</p></li><li><p>Land Cover type</p></li><li><p>Land Cover flow</p></li></ul><p>The workflow is designed to be run at the continental scale. However, for demonstration purposes, this example shows the workflow executed for a single NUTS3 region (Cádiz, Spain).</p></div><div id="hOPWeX3KiY" class="relative group/block"><h2 id="processing-workflow" class="relative group"><span class="heading-text">Processing workflow</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#processing-workflow" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>The following figure shows the processing workflow that is implemented in this Jupyter Notebook.</p><ul><li><p>Dark green boxes represent raster inputs.</p></li><li><p>Light green boxes represent raster outputs.</p></li><li><p>Dark grey boxes with a thick frame represent JSON outputs (statistics).</p></li></ul><img id="Gr8VYomlvQ" style="margin:0 auto" src="/example-viewer/build/ad5c19782b006f72352ae57794305840.png" alt="Jupyter Notebook processing workflow" data-canonical-url="https://github.com/eurodatacube/notebooks/blob/master/notebooks/contributions/example_data/drought_monitoring/Drought_diagram.png?raw=true"/></div><div id="WdXUr6C8BC" class="relative group/block"><h2 id="step-1-mr-vpp-annual-and-monthly-products" class="relative group"><span class="heading-text">Step 1: MR-VPP annual and monthly products</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-1-mr-vpp-annual-and-monthly-products" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In a first step, we will compute the annual and monthly drought products based on Medium Resolution Vegetation Phenology and Productivity (MR-VPP).</p></div><div id="RrN7Gr29za" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Sentinel Hub
from sentinelhub import (SHConfig, Geometry, SentinelHubRequest, DataCollection, MimeType, BBox, SentinelHubBatch, BatchRequestStatus)

# Geospatial
import geopandas as gpd
from shapely.geometry import shape, GeometryCollection

# Utilities
import json
import time
import datetime as dt
import os
import urllib3</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="_cV5Ip9bP-vWrkzCQeCnC" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="QpmXHIjRtX" class="relative group/block"><h3 id="credentials" class="relative group"><span class="heading-text">Credentials</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#credentials" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We recommend the use of EDC built-in credentials for Sentinel Hub services.</p></div><div id="tgqqHMq3TG" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Set the Sentinel Hub credentials based on EDC managed credentials
config = SHConfig()
config.sh_client_id = os.environ[&quot;SH_CLIENT_ID&quot;]
config.sh_client_secret = os.environ[&quot;SH_CLIENT_SECRET&quot;]

# Change endpoint
config.sh_base_url  = &quot;https://creodias.sentinel-hub.com&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Jqnd4gnBbRd7_Mhb-XuzC" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="bqhQf9yr1P" class="relative group/block"><h3 id="read-aoi" class="relative group"><span class="heading-text">Read AOI</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#read-aoi" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>In the following cells we will specify the geoJSON of the AOI for Batch Processing. Here we will use the NUTS3 region of Cádiz in southern Spain.</p></div><div id="wLwpNCCQPv" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Open Json
fullaoi = gpd.read_file(&quot;https://raw.githubusercontent.com/eurodatacube/notebooks/master/notebooks/contributions/example_data/drought_monitoring/Cadiz.geojson&quot;)

# Buffer 500m to make sure the entire AOI is covered
buffered_aoi = fullaoi.iloc[0].geometry.buffer(500)

# Check number of vertices (Sentinel Hub can only process geometries with &lt; 1500 nodes)
nodes = 0
for x in buffered_aoi.geoms:
    nodes += len(x.exterior.coords)

# If too many nodes, progressively simplify
sim_nr = 100

while nodes &gt;= 1500:
    
    # Simplify geometry
    buffered_aoi = fullaoi.iloc[0].geometry.buffer(500).simplify(sim_nr)
    sim_nr += 100

    # Recompute nodes
    nodes = 0
    for x in buffered_aoi.geoms:
        nodes += len(x.exterior.coords)

cadiz_aoi = Geometry(buffered_aoi, crs=&quot;EPSG:3035&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="KKEuKizLGdz5aoptkiXgJ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="bgp0qESlez" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Show the geometry
buffered_aoi</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="MmXeh3n7cgy9ZLdvpfyaX" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="yEXuAOxHbG" class="relative group/block"><h2 id="evalscript-for-mr-vpp-500m-products" class="relative group"><span class="heading-text">Evalscript for MR-VPP 500m products</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#evalscript-for-mr-vpp-500m-products" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>The workflow was written as an <a target="_blank" rel="noreferrer" href="https://docs.sentinel-hub.com/api/latest/evalscript/v3/" class="">Evalscript</a> to enable large-scale processing using Batch API.</p><p>Here we will import the Evalscript and format it in a way suitable for use with Python:</p><ul><li>the variables <code>YEAR0</code> and <code>YEAR1</code> will be replaced by <code>{0}</code> and <code>{1}</code> for Python to pass the parameters</li><li>the <code>{</code> and <code>}</code> in the Evalscript will be escaped to <code>{{</code> and <code>}}</code></li></ul></div><div id="ZgZdTOKgwJ" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Open evalscript
http = urllib3.PoolManager()
response = http.request(&#x27;GET&#x27;, &quot;https://raw.githubusercontent.com/eurodatacube/notebooks/master/notebooks/contributions/example_data/drought_monitoring/mrvpp_500m_monthly_annual_raster_stats.js&quot;)
evalscript_mrvpp = response.data.decode(&#x27;utf-8&#x27;)

# Make replacements
evalscript_mrvpp = evalscript_mrvpp.replace(&#x27;{&#x27;, &#x27;{{&#x27;)
evalscript_mrvpp = evalscript_mrvpp.replace(&#x27;}&#x27;, &#x27;}}&#x27;)
evalscript_mrvpp = evalscript_mrvpp.replace(&#x27;YEAR0&#x27;, &#x27;{0}&#x27;)
evalscript_mrvpp = evalscript_mrvpp.replace(&#x27;YEAR1&#x27;, &#x27;{1}&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="WO_Fd1oU9G3XO6qHFm3r2" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="HMx6IMsdPl" class="relative group/block"><h2 id="run-first-batch-request" class="relative group"><span class="heading-text">Run first Batch request</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#run-first-batch-request" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="bi35S8DfuD" class="relative group/block"><h3 id="set-creodias-bucket-name" class="relative group"><span class="heading-text">Set CreoDIAS bucket name</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#set-creodias-bucket-name" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Set the name of the bucket (that was <a target="_blank" rel="noreferrer" href="https://docs.sentinel-hub.com/api/latest/api/batch/#aws-bucket-settings" class="">correctly setup</a>) where the results will be saved.</p></div><div id="CgTIfvSynA" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">BUCKET_NAME = &#x27;&lt;BUCKET-NAME&gt;&#x27;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Ds0j_njfVYkMuU_Ko-d1I" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="cUdymHW7BI" class="relative group/block"><h3 id="set-input-data-collection-ids" class="relative group"><span class="heading-text">Set input data collection IDs</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#set-input-data-collection-ids" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>For the first step, we will three input layers that are hosted on CreoDIAS / WEkEO.</p><ul><li><a target="_blank" rel="noreferrer" href="https://edo.jrc.ec.europa.eu/documents/factsheets/factsheet_soilmoisture.pdf" class="">Soil moisture index and anomaly</a></li><li><a target="_blank" rel="noreferrer" href="https://www.eea.europa.eu/data-and-maps/data/copernicus-land-monitoring-service-medium" class="">MR-VPP</a></li><li>Statistical indices: a combination of <a target="_blank" rel="noreferrer" href="https://ec.europa.eu/eurostat/web/nuts/background" class="">NUTS3</a>, <a target="_blank" rel="noreferrer" href="https://www.eea.europa.eu/data-and-maps/data/corine-land-cover-accounting-layers" class="">CLCA</a>, and <a target="_blank" rel="noreferrer" href="https://www.eea.europa.eu/data-and-maps/data/land-cover-flows-based-on" class="">Land Cover Flow 2000-2018</a>.</li></ul><p>Please contact us if you need access to these data collections: <code>info@sentinel-hub.com</code>.</p></div><div id="zpZTYM2szo" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Set collection IDs for the input layers
soil_moisture_id = &quot;&lt;ID&gt;&quot;
mrvpp_timesat_id = &quot;&lt;ID&gt;&quot;
statistical_areas_id = &quot;&lt;ID&gt;&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="K7ipor-eAV03o1qICdZCR" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="tpNE85jp5o" class="relative group/block"><h3 id="requests-for-batch" class="relative group"><span class="heading-text">Requests for Batch</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#requests-for-batch" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>In the next cell we prepare a function to run Batch Processing so that we can easily trigger over many years.</p></div><div id="auwiDKmOY6" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def run_batch_year(thisyear, aoi, evalscript, foldername, myconfig):
    
    print(f&quot;Running Year {thisyear}&quot;)
        
    # Set timesat dates
    timesat_start_date = dt.date(thisyear, 1, 1)
    timesat_end_date = dt.date(thisyear, 1, 1)

    # Automatically calculate Soil moisture dates
    sm_start_date = timesat_start_date.replace(year=timesat_start_date.year-1)
    sm_end_date = dt.date(timesat_end_date.year, 12, 31)
    
    # Batch object
    batch = SentinelHubBatch(config=myconfig)
    
    # Make the outputs
    shresponses = [SentinelHubRequest.output_response(f&#x27;Monthly_Drought_Hazard_{x}_{y}&#x27;, MimeType.TIFF) for y in range(1,12+1) for x in [str(thisyear-1), thisyear]]
    shresponses.append(SentinelHubRequest.output_response(f&#x27;Annual_Soil_Moisture_{thisyear}&#x27;, MimeType.TIFF))
    shresponses.append(SentinelHubRequest.output_response(f&#x27;Annual_Drought_Pressure_{thisyear}&#x27;, MimeType.TIFF))
    shresponses.append(SentinelHubRequest.output_response(f&#x27;Drought_Pressure_Month_{thisyear}&#x27;, MimeType.TIFF))
    shresponses.append(SentinelHubRequest.output_response(f&#x27;Annual_Drought_Pressure_Intensity_{thisyear}&#x27;, MimeType.TIFF))
    shresponses.append(SentinelHubRequest.output_response(f&#x27;LINT_anomaly_{thisyear}&#x27;, MimeType.TIFF))
    shresponses.append(SentinelHubRequest.output_response(f&#x27;Drought_Impact_{thisyear}&#x27;, MimeType.TIFF))
    shresponses.append(SentinelHubRequest.output_response(f&#x27;Drought_Impact_Mask_{thisyear}&#x27;, MimeType.TIFF))
    shresponses.append(SentinelHubRequest.output_response(f&#x27;Drought_Impact_Intensity_{thisyear}&#x27;, MimeType.TIFF))
    shresponses.append(SentinelHubRequest.output_response(f&#x27;Drought_Impact_Intensity_Mask_{thisyear}&#x27;, MimeType.TIFF))
    shresponses.append(SentinelHubRequest.output_response(f&#x27;userdata&#x27;, MimeType.JSON))

    
    # Make the request for Batch
    request_for_batch = SentinelHubRequest(
        evalscript=evalscript.format(str(thisyear-1), str(thisyear)),
        input_data=[
        SentinelHubRequest.input_data(
            data_collection=DataCollection.define_byoc(soil_moisture_id),          
            identifier=&quot;SM&quot;,
            time_interval=(sm_start_date, sm_end_date),          
        ),
       SentinelHubRequest.input_data(
            data_collection=DataCollection.define_byoc(mrvpp_timesat_id),          
            identifier=&quot;TIMESAT&quot;,
            time_interval=(timesat_start_date, timesat_end_date),          
        ),
        SentinelHubRequest.input_data(
            data_collection=DataCollection.define_byoc(mrvpp_timesat_id),          
            identifier=&quot;TIMESATLONG&quot;,
            time_interval=(dt.date(2000, 1, 1), dt.date(2021, 1, 1)),          
        ),
        SentinelHubRequest.input_data(
            data_collection=DataCollection.define_byoc(statistical_areas_id),          
            identifier=&quot;INDICES&quot;,
            time_interval=(dt.date(2018, 1, 1), dt.date(2018, 1, 1)),          
        ),
    ],
        responses=shresponses,
        geometry=aoi,
        config=myconfig
    )
    
    # Create Batch request
    batch_request = batch.create(
        request_for_batch,
        tiling_grid=SentinelHubBatch.tiling_grid(
            grid_id=6,
            resolution=500,
            buffer=(0, 0)
        ),
        description=f&#x27;EEA MRVPP FULL 500m year {thisyear}&#x27;,
        output = SentinelHubBatch.output(
        defaultTilePath = f&quot;s3://{BUCKET_NAME}/{foldername}&quot;,
        cog_output = True,
        create_collection = False,
        cog_parameters = {&quot;resamplingAlgorithm&quot;: &quot;nearest&quot;}
        )
    )
    
    time.sleep(15)
    
    batch_request = batch.get_request(batch_request)
    
    batch.start_analysis(batch_request)
    
    batch_request = batch.get_request(batch_request)
    
   
   
    batch_request = batch.get_request(batch_request)
    status = 0
    cnt = 0
    
    while status == 0:

        time.sleep(15)
        
        batch_request = batch.get_request(batch_request)

        if batch_request.status == BatchRequestStatus.ANALYSIS_DONE:
            status = 1
            failed = False
            print(&quot;Analysis done&quot;)
        elif batch_request.status == BatchRequestStatus.FAILED:
            status = 1
            failed = True
            print(&quot;Failed&quot;)
        elif batch_request.status == BatchRequestStatus.ANALYSING:
            status = 0
            print(&quot;Still analysing&quot;)
            time.sleep(5)
        else:
            status = 0
            time.sleep(5)
            cnt += 1
            print(f&quot;Ping number: {cnt}&quot;)
        
    if not failed:
        batch_request = batch.get_request(batch_request)
        batch.start_job(batch_request)
        print(f&quot;Running {batch_request.request_id}&quot;)
    else:
        raise RuntimeError(&quot;Batch failed to analyse&quot;)
    batch_request = batch.get_request(batch_request)    
    return batch_request.request_id</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="buVzQhafUf0QozexAHdxV" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="aQ46Q9NBRC" class="relative group/block"><h3 id="run-the-batch-processing" class="relative group"><span class="heading-text">Run the Batch Processing</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#run-the-batch-processing" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="iWa6upeB7z" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Collect information about the Batch Process in a list
ids = []</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="8Yag3oe52EDnAZlrA91fy" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="v7gPMI6TMU" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Loop from 2000 to 2003 for this example
for x in list(range(2000, 2022)):
    ids.append(run_batch_year(x, cadiz_aoi, evalscript_mrvpp, &quot;MRVPP_FULL_ANNUAL_MONTHLY&quot;, config))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="6tCcGQTFeJwpzY8jQ7LK6" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="gpCoLuJdLX" class="relative group/block"><h2 id="step-2-mr-vpp-long-term-average-products" class="relative group"><span class="heading-text">Step 2: MR-VPP long term average products</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-2-mr-vpp-long-term-average-products" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In a second step, we will compute the long term average drought products based on the Medium Resolution Vegetation Phenology and Productivity (MR-VPP) products.</p></div><div id="VTBrW1sgmR" class="relative group/block"><h3 id="set-input-data-collection-ids-1" class="relative group"><span class="heading-text">Set input data collection IDs</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#set-input-data-collection-ids-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>For the second step, we will reuse three input layers defined in step 1.</p></div><div id="cYiVVgdOKS" class="relative group/block"><h3 id="evalscript-for-mr-vpp-500m-products-1" class="relative group"><span class="heading-text">Evalscript for MR-VPP 500m products</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#evalscript-for-mr-vpp-500m-products-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The workflow was written as an <a target="_blank" rel="noreferrer" href="https://docs.sentinel-hub.com/api/latest/evalscript/v3/" class="">Evalscript</a> to enable large-scale processing using Batch API.</p><p>Here we will import the Evalscript:</p></div><div id="d1ZoLucYxh" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Open evalscript
http = urllib3.PoolManager()
response = http.request(&#x27;GET&#x27;, &quot;https://raw.githubusercontent.com/eurodatacube/notebooks/master/notebooks/contributions/example_data/drought_monitoring/mrvpp_500m_lta_raster_stats.js&quot;)
evalscript_mrvpp_lta = response.data.decode(&#x27;utf-8&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="nGsuscvYGmbhKyCzf_UT7" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="MpVenpSlUN" class="relative group/block"><h3 id="create-batch-request" class="relative group"><span class="heading-text">Create Batch Request</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#create-batch-request" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="mt4hjPfVvo" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Set dates for full range
start_date = dt.date(2000, 1, 1)
end_date = dt.date(2021, 1, 1)

# Batch object
batch = SentinelHubBatch(config=config)

request_for_batch = SentinelHubRequest(
    evalscript=evalscript_mrvpp_lta,
    input_data=[
        SentinelHubRequest.input_data(
            data_collection=DataCollection.define_byoc(soil_moisture_id),          
            identifier=&quot;SM&quot;,
            time_interval=(start_date, end_date),          
        ),
        SentinelHubRequest.input_data(
            data_collection=DataCollection.define_byoc(mrvpp_timesat_id),          
            identifier=&quot;TIMESAT&quot;,
            time_interval=(start_date, end_date),          
        ),
        SentinelHubRequest.input_data(
            data_collection=DataCollection.define_byoc(statistical_areas_id),          
            identifier=&quot;INDICES&quot;,
            time_interval=(dt.date(2018, 1, 1), dt.date(2018, 1, 1)),          
        ),
    ],
    responses=[SentinelHubRequest.output_response(&#x27;Long_Term_Soil_Moisture&#x27;, MimeType.TIFF),
               SentinelHubRequest.output_response(&#x27;Long_Term_Drought_Pressure_Intensity&#x27;, MimeType.TIFF),
               SentinelHubRequest.output_response(f&#x27;userdata&#x27;, MimeType.JSON)
              ],
    geometry=andalusia_aoi,
    config=config
)

# Create Batch request
batch_request = batch.create(
    request_for_batch,
    tiling_grid=SentinelHubBatch.tiling_grid(
        grid_id=6,
        resolution=500,
        buffer=(0, 0)
    ),
    description=f&#x27;EEA 500m Long Term Average&#x27;,
    output = SentinelHubBatch.output(
    defaultTilePath = f&quot;s3://{BUCKET_NAME}/MRVPP_FULL_LTA&quot;,
    cog_output = True,
    create_collection = False,
    cog_parameters = {&quot;resamplingAlgorithm&quot;: &quot;nearest&quot;}
    )
)

batch_request = batch.get_request(batch_request)

print(batch_request)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Ihz2Y14pe_JATp6Ba4ZNq" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="TbyNlBHJJc" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Analyse the request
batch.start_analysis(batch_request)

time.sleep(45)

batch_request = batch.get_request(batch_request)
print(batch_request)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="-0svFovQmszuJrmUzJGqQ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="vBXaUrFKxC" class="relative group/block"><h3 id="run-batch-request" class="relative group"><span class="heading-text">Run Batch Request</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#run-batch-request" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="BOWadEOu9P" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">batch.start_job(batch_request)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="l07MJfaZQk8XolIMjprxo" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="GtXSe6hten" class="relative group/block"><h2 id="step-3-hr-vpp-products" class="relative group"><span class="heading-text">Step 3: HR-VPP products</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-3-hr-vpp-products" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In the third step, we will compute the products derived from the High Resolution Vegetation Phenology and Productivity (HR-VPP) layers at 10m resolution. The products are derived from a combination of HR-VPP, and the products computed in the previous steps.</p></div><div id="j5r9EoxBPA" class="relative group/block"><h3 id="set-input-data-collection-ids-2" class="relative group"><span class="heading-text">Set input data collection IDs</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#set-input-data-collection-ids-2" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>For the last step, we will use four input layers that are hosted on CreoDIAS / WEkEO.</p><ul><li><a target="_blank" rel="noreferrer" href="https://land.copernicus.eu/pan-european/biophysical-parameters/high-resolution-vegetation-phenology-and-productivity" class="">HR-VPP season 1</a>: the data for the first season of each year.</li><li><a target="_blank" rel="noreferrer" href="https://land.copernicus.eu/pan-european/biophysical-parameters/high-resolution-vegetation-phenology-and-productivity" class="">HR-VPP season 2</a>: the data for the second season of each year.</li><li>Statistical indices: a combination of <a target="_blank" rel="noreferrer" href="https://ec.europa.eu/eurostat/web/nuts/background" class="">NUTS3</a>, <a target="_blank" rel="noreferrer" href="https://www.eea.europa.eu/data-and-maps/data/corine-land-cover-accounting-layers" class="">CLCA</a>, and <a target="_blank" rel="noreferrer" href="https://www.eea.europa.eu/data-and-maps/data/land-cover-flows-based-on" class="">Land Cover Flow 2000-2018</a>.</li><li>Previous Yearly MR-VPP results. After running the first steps, the results need to be ingested as <a target="_blank" rel="noreferrer" href="https://docs.sentinel-hub.com/api/latest/api/byoc/" class="">BYOC layers</a> in CreoDIAS / WEkEO.</li></ul><p>Please contact us if you need access to these data collections: <code>info@sentinel-hub.com</code>.</p></div><div id="WgeibYVqnc" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Set collection IDs for the input layers
hrvpp_s1_id = &quot;&lt;ID&gt;&quot;
hrvpp_s2_id = &quot;&lt;ID&gt;&quot;
statistical_areas_id = &quot;&lt;ID&gt;&quot;
mrvpp_outputs_id = &quot;&lt;ID&gt;&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="uZzcQHhiN6Qredzuv4HWW" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ejkOog0qI8" class="relative group/block"><h2 id="evalscript-for-mr-vpp-500m-products-2" class="relative group"><span class="heading-text">Evalscript for MR-VPP 500m products</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#evalscript-for-mr-vpp-500m-products-2" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>The workflow was written as an <a target="_blank" rel="noreferrer" href="https://docs.sentinel-hub.com/api/latest/evalscript/v3/" class="">Evalscript</a> to enable large-scale processing using Batch API.</p><p>Here we will import the Evalscript and format it in a way suitable for use with Python:</p><ul><li>the variables <code>YEAR0</code> will be replaced by <code>{0}</code> for Python to pass the parameters</li><li>the <code>{</code> and <code>}</code> in the Evalscript will be escaped to <code>{{</code> and <code>}}</code></li></ul></div><div id="qAJGnOxCf7" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Open evalscript
http = urllib3.PoolManager()
response = http.request(&#x27;GET&#x27;, &quot;https://raw.githubusercontent.com/eurodatacube/notebooks/master/notebooks/contributions/example_data/drought_monitoring/hrvpp_10m_raster_stats.js&quot;)
evalscript_hrvpp = response.data.decode(&#x27;utf-8&#x27;)

# Make replacements
evalscript_hrvpp = evalscript_mrvpp.replace(&#x27;{&#x27;, &#x27;{{&#x27;)
evalscript_hrvpp = evalscript_mrvpp.replace(&#x27;}&#x27;, &#x27;}}&#x27;)
evalscript_hrvpp = evalscript_mrvpp.replace(&#x27;YEAR0&#x27;, &#x27;{0}&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="BQfJVQSdA6zO-7m1hsJYP" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="AuX0h1LUiH" class="relative group/block"><h3 id="requests-for-batch-1" class="relative group"><span class="heading-text">Requests for Batch</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#requests-for-batch-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>In the next cell we prepare a function to run Batch Processing so that we can easily trigger over many years.</p></div><div id="XZcDepLgd7" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def run_batch_year(inyear, aoi, evalscript, BUCKET_NAME, FOLDER_NAME, myconfig):
        
    # Set timesat dates
    start_date = dt.date(2017, 1, 1)
    end_date = dt.date(2021, 1, 1)

    # Batch object
    batch = SentinelHubBatch(config=myconfig)
    
    # Test make the outputs for Process API
    shresponses = [SentinelHubRequest.output_response(f&#x27;TPROD_minmax_{inyear}&#x27;, MimeType.TIFF)]
    shresponses.append(SentinelHubRequest.output_response(f&#x27;SPROD_minmax_{inyear}&#x27;, MimeType.TIFF))
    shresponses.append(SentinelHubRequest.output_response(f&#x27;Total_Drought_Impact_{inyear}&#x27;, MimeType.TIFF))
    shresponses.append(SentinelHubRequest.output_response(f&#x27;Seasonal_Drought_Impact_{inyear}&#x27;, MimeType.TIFF))
    shresponses.append(SentinelHubRequest.output_response(f&#x27;Season_Length_{inyear}&#x27;, MimeType.TIFF))
    shresponses.append(SentinelHubRequest.output_response(f&#x27;Nb_Seasons_{inyear}&#x27;, MimeType.TIFF))
    shresponses.append(SentinelHubRequest.output_response(f&#x27;MR_drought_impact_{inyear}&#x27;, MimeType.TIFF))
    shresponses.append(SentinelHubRequest.output_response(&#x27;userdata&#x27;, MimeType.JSON))

    
    # Make the request for Batch
    request_for_batch = SentinelHubRequest(
        evalscript=evalscript.format(inyear),
        input_data=[
            SentinelHubRequest.input_data(
                data_collection=DataCollection.define_byoc(mrvpp_outputs_id),          
                identifier=&quot;MRVPP&quot;,
                time_interval=(f&#x27;{inyear}-01-01&#x27;, f&#x27;{inyear}-01-01&#x27;),          
            ),
           SentinelHubRequest.input_data(
                data_collection=DataCollection.define_byoc(hrvpp_s1_id),          
                identifier=&quot;VPP1&quot;,
                time_interval=(start_date, end_date),          
            ),
           SentinelHubRequest.input_data(
                data_collection=DataCollection.define_byoc(hrvpp_s2_id),          
                identifier=&quot;VPP2&quot;,
                time_interval=(start_date, end_date),          
            ),
            SentinelHubRequest.input_data(
                    data_collection=DataCollection.define_byoc(statistical_areas_id),          
                    identifier=&quot;INDICES&quot;,
                    time_interval=(&#x27;2018-01-01&#x27;, &#x27;2018-01-01&#x27;),          
                ),
        ],
        responses=shresponses,
        geometry=aoi,
        config=config
    )

    # Create Batch request
    batch_request = batch.create(
        request_for_batch,
        tiling_grid=SentinelHubBatch.tiling_grid(
            grid_id=7,
            resolution=10,
            buffer=(0, 0)
        ),
        description=f&#x27;EEA FULL RUN 10m year {inyear}&#x27;,
        output = SentinelHubBatch.output(
        defaultTilePath = f&quot;s3://{BUCKET_NAME}/{FOLDER_NAME}&quot;,
        cog_output = True,
        create_collection = False,
        cog_parameters = {&quot;resamplingAlgorithm&quot;: &quot;nearest&quot;}
        )
    )
    
    time.sleep(15)
    
    batch_request = batch.get_request(batch_request)

    print(batch_request)
    
    batch.start_analysis(batch_request)
    
    batch_request = batch.get_request(batch_request)
    
   
   
    batch_request = batch.get_request(batch_request)
    status = 0
    
    
    while status == 0:

        time.sleep(15)
        
        batch_request = batch.get_request(batch_request)

        if batch_request.status == BatchRequestStatus.ANALYSIS_DONE:
            status = 1
            failed = False
            print(&quot;Analysis done&quot;)
        elif batch_request.status == BatchRequestStatus.FAILED:
            status = 1
            failed = True
            print(&quot;Failed&quot;)
        elif batch_request.status == BatchRequestStatus.ANALYSING:
            status = 0
            print(&quot;Still analysing&quot;)
            time.sleep(5)
        else:
            print(&quot;Other status&quot;)
            status = 0
            time.sleep(5)
        
    if not failed:
        batch_request = batch.get_request(batch_request)
        batch.start_job(batch_request)
        print(f&quot;Running {batch_request.request_id}&quot;)
    else:
        raise RuntimeError(&quot;Batch failed to analyse&quot;)
    batch_request = batch.get_request(batch_request)    
    return batch_request.request_id</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="r1yVpHo4EJjr0xqWwqdky" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="tHQpsnj5Su" class="relative group/block"><h3 id="run-the-batch-processing-1" class="relative group"><span class="heading-text">Run the Batch Processing</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#run-the-batch-processing-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="glsLPSZNKo" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Collect information about the Batch Process in a list
ids = []</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="iWRvWUrKdjQIiiZ7NI_hD" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="nIjKDGsdYj" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Loop from 2017 to 2020 for this example
for x in list(range(2017, 2021)):
    ids.append(run_batch_year(x, andalusia_aoi, evalscript_hrvpp_avg, BUCKET_NAME, &quot;HRVPP_FULL&quot;, config))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="kIdmq7dcoCsxt7IXxIK73" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div></div></main></article><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/example-viewer/build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-IZFMW3M4.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-HBJK6BW3.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-OHOXABTA.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-CPTH56EW.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-S4SWV34C.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/example-viewer/build/root-QGLRP2PL.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-CB3BH7WY.js"/><link rel="modulepreload" href="/example-viewer/build/routes/$-7JYT5576.js"/><script>window.__remixContext = {"url":"/external-notebooks/eurodatacube/notebooks/notebooks/contributions/drought-monitoring","state":{"loaderData":{"root":{"config":{"version":1,"myst":"1.3.25","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"Euro Data Cube Examples","title":"Euro Data Cube Examples","description":"Collection of example Jupyter notebooks relevant for the Euro Data Cube platform","github":"https://github.com/eurodatacube/example-viewer","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Eoxhub Workspaces","level":2},{"title":"Eoxhub Notebooks","level":3},{"slug":"external-notebooks.eoxhub-workspaces.eoxhub-notebooks.readme","title":"Euro Data Cube notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Pangeo Dask Notebooks","level":4},{"slug":"external-notebooks.eoxhub-workspaces.eoxhub-notebooks.pangeo-dask-notebooks.example-wildfires","title":"Scale your processes with Dask - hands on example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Eurodatacube","level":2},{"title":"Notebooks","level":3},{"slug":"external-notebooks.eurodatacube.notebooks.readme","title":"Jupyter notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Notebooks","level":4},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.readme","title":"Euro Data Cube Notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Contributions","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-ai4arctic-sea-ice","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-biomass-forest-observation-sys","title":"AIREO pilot dataset - Biomass (Forest Observation System)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-cap","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-spacenet7","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aot-covid19","title":"Aerosol Optical Thickness (AOT) Anomaly Detection Using Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.batch-zarr-output","title":"Generating Zarr data cubes with Sentinel Hub Batch API","description":"","date":"","thumbnail":"/example-viewer/build/68dffbf744fa42f4bf3d35e55684984e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.client-side-processing-using-mass-sh","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.cmems-data-download","title":"Cmems Data Download","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.detect-trucks-sentinel2","title":"Detect Trucks using Sentinel-2 data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.drought-monitoring","title":"Drought impact monitoring platform","description":"","date":"","thumbnail":"/example-viewer/build/ad5c19782b006f72352ae57794305840.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-africa-cube-africa-custom-contest","title":"Custom Script Contest – Urban Growth in Africa","description":"","date":"","thumbnail":"/example-viewer/build/undefined","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-byoc-tutorial","title":"How to bring your own data to EDC: Using Sentinel Hub Python package","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-demo-phi-week-v2","title":"xcube-gen and xcube-geodb Hands-On Workshop Φ-Week 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-geodb-4-eurocrops-demo","title":"Demonstration of Eurocrops data use in geoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-notebook-lstm","title":"South Africa Crop Type Classification on Euro Data Cube (EDC)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-usecase-lpis-crop-type-classification","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.eurocrops-crop-classification-example","title":"Crop-classification using Sentinel-2 time-series","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ghsl-urban-delineation","title":"\u003cb\u003eUrban delineation\u003cb\u003e","description":"","date":"","thumbnail":"/example-viewer/build/7bbf545a5eae1d9ebdb91ae42b261063.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.globalearthmonitor-example","title":"Pre-requisites","description":"","date":"","thumbnail":"/example-viewer/build/205c1ded6bd59771975a9fbd3753fd3b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gpu-support-eoxhub","title":"GPU-Support on EOxHub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gran-chaco-phiweek","title":"ESA EO \\phi- week 2020","description":"","date":"","thumbnail":"/example-viewer/build/80cee7db6cdc7002ceedda5689f889fa.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.howtolulc-batch-updated-210621","title":"How To: Land-Use-Land-Cover Prediction for Slovenia - using the Batch Processing API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lpis-lulc-slo","title":"LPIS Use Case for Land Use / Land Cover Classification","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lps2022-leverage-euro-data-cube-services","title":"Living Planet Symposium 2022 Training Session","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-analysis-covid19-lockdowns","title":"Impact of Covid19 induced lockdown on NO2 levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-so2-trend-veda-api-igarss-2023","title":"Using the NASA VEDA EOAPI","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ogc-edc","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.openeo-client-demo","title":"openEO Client Demo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.race-finishedgoodsinventory-inidcator","title":"Finished Goods Inventory indicator for RACE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.third-party-planetscope","title":"Third Party Data Import - PlanetScope","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-access-datasets","title":"Using xcube to access non-commercial and commercial data sets","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-viewer-as-a-service-in-edc1","title":"Visualizing data with xcube viewer in EuroDataCube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-evaluation-workshop","title":"DAPA Evaluation Workshop: Introduction \u0026 Documentation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-1-cube-sentinel-2","title":"DAPA Tutorial #1: Cube - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-2-area-sentinel-2","title":"DAPA Tutorial #2: Area - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-3-timeseries-sentinel-2","title":"DAPA Tutorial #3: Timeseries - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-4-value-sentinel-2","title":"DAPA Tutorial #4: Value - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-5-dem","title":"DAPA Tutorial #5: DEM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.fairicube.fairicube-data-access-demonstration","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-australian-bushfires","title":"Australian Bushfires","description":"","date":"","thumbnail":"/example-viewer/build/ab194b4f8c40a2b9d64d8a85e37ce1fd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["IGARSS-22","EO Dashboard"],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-data-access","title":"Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-detect-trucks-sentinel2","title":"Truck Detection Exercise","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-lockdown-in-venice","title":"Environmental Impacts of Lockdown in Venice, Italy during 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-nasa-api-lockdown-in-venice","title":"Lockdown in Venice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-no2-timeseries-analysis","title":"NO2 timeseries analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-timeseries-stac-api-single-vs-multi","title":"Time series using STAC API statistics endpoints","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.nightlights.night-lights-blending","title":"Monitoring socio-economic activities with nighttime light maps","description":"","date":"","thumbnail":"/example-viewer/build/fb2486d4e1708daa94616c6ae8fc4cc9.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Curated","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.access-iacs-data","title":"How to access IACS Spatial Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-access-cci-data","title":"Access CCI data with xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-first-steps","title":"First steps on the Euro Data Cube platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-1-manage-datasets-v11","title":"Manage Collections in your GeoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-2-explore-datasets-2","title":"Exploring Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-3-share-datasets1","title":"Sharing Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-access-urban-atlas-data-v1","title":"[xcube-geodb] How to accesss EEA Urban Atlas Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-data-access","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-basic","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-ndvi","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-datasets","title":"EDC Sentinel Hub - using xcube to access different data sets in Sentinel Hub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-setup","title":"Setup for EDC core API access using xcube client library","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-xcube-integration","title":"EDC Sentinel Hub - XCUBE integration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-usecase-ndvi-timeline","title":"NDVI timeline","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.eo-learn","title":"Using eo-learn in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/example-viewer/build/5a1f8475f0c3652f4630d03d72891b98.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.esdl-edc-v0-2","title":"Earth System Data Lab Tutorial @ Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.exploring-time-and-space-with-edc","title":"Exploring Time and Space: A guide to accessing, analysing and visualising data in the Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.how-to-access-dem-data-through-sentinel-hub-api","title":"How to access DEM data through Sentinel Hub API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.sentinelhub-py","title":"Using Sentinel Hub Process API in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/example-viewer/build/01e22903839391bc356ac886ec2b2fa7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/example-viewer"},"routes/$":{"config":{"version":1,"myst":"1.3.25","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"Euro Data Cube Examples","title":"Euro Data Cube Examples","description":"Collection of example Jupyter notebooks relevant for the Euro Data Cube platform","github":"https://github.com/eurodatacube/example-viewer","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Eoxhub Workspaces","level":2},{"title":"Eoxhub Notebooks","level":3},{"slug":"external-notebooks.eoxhub-workspaces.eoxhub-notebooks.readme","title":"Euro Data Cube notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Pangeo Dask Notebooks","level":4},{"slug":"external-notebooks.eoxhub-workspaces.eoxhub-notebooks.pangeo-dask-notebooks.example-wildfires","title":"Scale your processes with Dask - hands on example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Eurodatacube","level":2},{"title":"Notebooks","level":3},{"slug":"external-notebooks.eurodatacube.notebooks.readme","title":"Jupyter notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Notebooks","level":4},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.readme","title":"Euro Data Cube Notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Contributions","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-ai4arctic-sea-ice","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-biomass-forest-observation-sys","title":"AIREO pilot dataset - Biomass (Forest Observation System)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-cap","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-spacenet7","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aot-covid19","title":"Aerosol Optical Thickness (AOT) Anomaly Detection Using Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.batch-zarr-output","title":"Generating Zarr data cubes with Sentinel Hub Batch API","description":"","date":"","thumbnail":"/example-viewer/build/68dffbf744fa42f4bf3d35e55684984e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.client-side-processing-using-mass-sh","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.cmems-data-download","title":"Cmems Data Download","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.detect-trucks-sentinel2","title":"Detect Trucks using Sentinel-2 data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.drought-monitoring","title":"Drought impact monitoring platform","description":"","date":"","thumbnail":"/example-viewer/build/ad5c19782b006f72352ae57794305840.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-africa-cube-africa-custom-contest","title":"Custom Script Contest – Urban Growth in Africa","description":"","date":"","thumbnail":"/example-viewer/build/undefined","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-byoc-tutorial","title":"How to bring your own data to EDC: Using Sentinel Hub Python package","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-demo-phi-week-v2","title":"xcube-gen and xcube-geodb Hands-On Workshop Φ-Week 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-geodb-4-eurocrops-demo","title":"Demonstration of Eurocrops data use in geoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-notebook-lstm","title":"South Africa Crop Type Classification on Euro Data Cube (EDC)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-usecase-lpis-crop-type-classification","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.eurocrops-crop-classification-example","title":"Crop-classification using Sentinel-2 time-series","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ghsl-urban-delineation","title":"\u003cb\u003eUrban delineation\u003cb\u003e","description":"","date":"","thumbnail":"/example-viewer/build/7bbf545a5eae1d9ebdb91ae42b261063.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.globalearthmonitor-example","title":"Pre-requisites","description":"","date":"","thumbnail":"/example-viewer/build/205c1ded6bd59771975a9fbd3753fd3b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gpu-support-eoxhub","title":"GPU-Support on EOxHub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gran-chaco-phiweek","title":"ESA EO \\phi- week 2020","description":"","date":"","thumbnail":"/example-viewer/build/80cee7db6cdc7002ceedda5689f889fa.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.howtolulc-batch-updated-210621","title":"How To: Land-Use-Land-Cover Prediction for Slovenia - using the Batch Processing API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lpis-lulc-slo","title":"LPIS Use Case for Land Use / Land Cover Classification","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lps2022-leverage-euro-data-cube-services","title":"Living Planet Symposium 2022 Training Session","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-analysis-covid19-lockdowns","title":"Impact of Covid19 induced lockdown on NO2 levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-so2-trend-veda-api-igarss-2023","title":"Using the NASA VEDA EOAPI","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ogc-edc","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.openeo-client-demo","title":"openEO Client Demo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.race-finishedgoodsinventory-inidcator","title":"Finished Goods Inventory indicator for RACE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.third-party-planetscope","title":"Third Party Data Import - PlanetScope","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-access-datasets","title":"Using xcube to access non-commercial and commercial data sets","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-viewer-as-a-service-in-edc1","title":"Visualizing data with xcube viewer in EuroDataCube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-evaluation-workshop","title":"DAPA Evaluation Workshop: Introduction \u0026 Documentation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-1-cube-sentinel-2","title":"DAPA Tutorial #1: Cube - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-2-area-sentinel-2","title":"DAPA Tutorial #2: Area - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-3-timeseries-sentinel-2","title":"DAPA Tutorial #3: Timeseries - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-4-value-sentinel-2","title":"DAPA Tutorial #4: Value - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-5-dem","title":"DAPA Tutorial #5: DEM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.fairicube.fairicube-data-access-demonstration","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-australian-bushfires","title":"Australian Bushfires","description":"","date":"","thumbnail":"/example-viewer/build/ab194b4f8c40a2b9d64d8a85e37ce1fd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["IGARSS-22","EO Dashboard"],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-data-access","title":"Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-detect-trucks-sentinel2","title":"Truck Detection Exercise","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-lockdown-in-venice","title":"Environmental Impacts of Lockdown in Venice, Italy during 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-nasa-api-lockdown-in-venice","title":"Lockdown in Venice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-no2-timeseries-analysis","title":"NO2 timeseries analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-timeseries-stac-api-single-vs-multi","title":"Time series using STAC API statistics endpoints","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.nightlights.night-lights-blending","title":"Monitoring socio-economic activities with nighttime light maps","description":"","date":"","thumbnail":"/example-viewer/build/fb2486d4e1708daa94616c6ae8fc4cc9.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Curated","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.access-iacs-data","title":"How to access IACS Spatial Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-access-cci-data","title":"Access CCI data with xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-first-steps","title":"First steps on the Euro Data Cube platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-1-manage-datasets-v11","title":"Manage Collections in your GeoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-2-explore-datasets-2","title":"Exploring Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-3-share-datasets1","title":"Sharing Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-access-urban-atlas-data-v1","title":"[xcube-geodb] How to accesss EEA Urban Atlas Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-data-access","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-basic","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-ndvi","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-datasets","title":"EDC Sentinel Hub - using xcube to access different data sets in Sentinel Hub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-setup","title":"Setup for EDC core API access using xcube client library","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-xcube-integration","title":"EDC Sentinel Hub - XCUBE integration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-usecase-ndvi-timeline","title":"NDVI timeline","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.eo-learn","title":"Using eo-learn in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/example-viewer/build/5a1f8475f0c3652f4630d03d72891b98.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.esdl-edc-v0-2","title":"Earth System Data Lab Tutorial @ Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.exploring-time-and-space-with-edc","title":"Exploring Time and Space: A guide to accessing, analysing and visualising data in the Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.how-to-access-dem-data-through-sentinel-hub-api","title":"How to access DEM data through Sentinel Hub API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.sentinelhub-py","title":"Using Sentinel Hub Process API in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/example-viewer/build/01e22903839391bc356ac886ec2b2fa7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6}]}]},"page":{"version":1,"kind":"Notebook","sha256":"b9547518c99bae5cbb704389e1b1a20128215fe675118ee7ec4bda1dfa074ea2","slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.drought-monitoring","location":"/external_notebooks/eurodatacube/notebooks/notebooks/contributions/Drought_Monitoring.ipynb","dependencies":[],"frontmatter":{"title":"Drought impact monitoring platform","content_includes_title":false,"kernelspec":{"name":"conda-env-edc-default-2022.10-14-py","display_name":"Python [conda env:edc-default-2022.10-14]","language":"python"},"github":"https://github.com/eurodatacube/example-viewer","subject":"Euro Data Cube Examples","numbering":{"title":{"offset":5}},"edit_url":"https://github.com/eurodatacube/example-viewer/blob/main/external_notebooks/eurodatacube/notebooks/notebooks/contributions/Drought_Monitoring.ipynb","thumbnail":"/example-viewer/build/ad5c19782b006f72352ae57794305840.png","exports":[{"format":"ipynb","filename":"Drought_Monitoring.ipynb","url":"/example-viewer/build/Drought_Monitoring-0652a60b20469f4960281a63abf7b0ef.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"EO based Digital Twin precursor of a spatio-temporal drought impact monitoring system in Europe","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yW4gUr3XsD"}],"identifier":"eo-based-digital-twin-precursor-of-a-spatio-temporal-drought-impact-monitoring-system-in-europe","label":"EO based Digital Twin precursor of a spatio-temporal drought impact monitoring system in Europe","html_id":"eo-based-digital-twin-precursor-of-a-spatio-temporal-drought-impact-monitoring-system-in-europe","implicit":true,"key":"zQ6dqLQRA4"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Eva Ivits","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"J5cKnsNozD"},{"type":"superscript","children":[{"type":"text","value":"1","key":"hi0lLZH0PO"}],"key":"GYrCANAXkm"},{"type":"text","value":", Lars Eklundh","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"TDCfvXINKd"},{"type":"superscript","children":[{"type":"text","value":"2","key":"tEFGFZVs7E"}],"key":"Oo7s4YXnXZ"},{"type":"text","value":", Roel Van Hoolst","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"mN64FXtTHD"},{"type":"superscript","children":[{"type":"text","value":"3","key":"EFCb4W2rBZ"}],"key":"gzZCt6i7fi"},{"type":"text","value":", Bruno Smets","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"TZqt3UnXV2"},{"type":"superscript","children":[{"type":"text","value":"3","key":"O5MlH33NJ2"}],"key":"YjDyzUKKZB"},{"type":"text","value":", Hongxiao, Zhanzhang","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"znphr28yPz"},{"type":"superscript","children":[{"type":"text","value":"3","key":"SG0WmMK9dd"}],"key":"lvqicj8Qsn"},{"type":"text","value":", Grega Milcinski","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"OPclx28s0Z"},{"type":"superscript","children":[{"type":"text","value":"4","key":"ddLBR2kfr2"}],"key":"S6xEFvXpPA"},{"type":"text","value":", Anja Vrecko","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"xXq2eOgLrC"},{"type":"superscript","children":[{"type":"text","value":"4","key":"HlPtdINHcS"}],"key":"Ct5wP6pTPY"},{"type":"text","value":", Maxim Lamare","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"TUIwKonczE"},{"type":"superscript","children":[{"type":"text","value":"5","key":"bU1jlMMwFV"}],"key":"K6bDhSZasF"}],"key":"BVjSX9mGKP"}],"key":"eOLatuQChK"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"1: European Environment Agency;\n2: Lund University;\n3: VITO;\n4: Sinergise;\n5: Sentinel Hub","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"MJV0MASwhe"}],"key":"i2x38zVhP0"}],"key":"YINzDGdc0a"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Introduction","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"enZ3WHAzSe"}],"identifier":"introduction","label":"Introduction","html_id":"introduction","implicit":true,"key":"uRMI7eLvii"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This Jupyter Notebook presents the workflow developped within the ESA funded Drought impact monitoring platform pilot project. The aim of the project was to develop a pan-European scale drought impact monitoring platform using the new CLMS service High Resolution Vegetation Phenology and Productivity (HR-VPP) derived from Sentinel 2 images. The 10m spatial resolution seasonal trajectories and phenology and productivity parameters were used for studying vegetation dynamics as a response to soil moisture deficit during the period 2017-2020 in Europe. The project was initially based on the workflow developed within the framework of the EEA Drought Impact Indicator (EEA 2021).  However, during the development phase of the project, the scientific principles governing the algorithms were consolidated and an entirely new workflow was proposed.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NPV6T6130p"}],"key":"Hoci8VxAqQ"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"This Jupyter Notebook demonstrates how to derive the following variables based on the MR-VPP and HR-VPP datasets:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"iJqDKcWRrb"}],"key":"BzL7Kqr2pe"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Soil moisture anomaly","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"IyvBVsP7TN"}],"key":"gHkUhgTubJ"}],"key":"xg8A1p93Wm"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Long Term Average soil moisture anomaly","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"xVZxkR5Ufg"}],"key":"XxS93n5E5h"}],"key":"hdyZnKGCjd"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Monthly drought hazard","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"krO71ZbBNP"}],"key":"LcYR3SCQ7g"}],"key":"E0QRDSLfeU"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Drought pressure","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"n5zs0kfHza"}],"key":"LJieeDU1tb"}],"key":"EYFjVg1oQt"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Drought pressure month","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"xAfmvrZiub"}],"key":"dSafM19WGv"}],"key":"K9yVSEzImt"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Drought pressure intensity","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"eoO6J9EQcE"}],"key":"pPovKJvg0z"}],"key":"J2YThW6oOy"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Long Term Average drought pressure intensity","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"P8RLUVenw9"}],"key":"khUHBbzSBK"}],"key":"l90xtGcOKT"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"LINT anomaly","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"h1c8rKj3Yt"}],"key":"YVBSNGuXXt"}],"key":"fNL4S1IbSe"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Drought impact","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"WrvtUMyi2Z"}],"key":"oVD0ySfr1o"}],"key":"aqi8G21eYe"},{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Drought impact mask","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"bap9Xm8rv8"}],"key":"EmSZNOXypT"}],"key":"gYu6GCNctF"},{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Drought impact intensity","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"WHKo2eQGGi"}],"key":"fBdmq6Nx70"}],"key":"YPPh1l1UK8"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Drought impact intensity mask","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"mSMDA6A85t"}],"key":"wYlGOHEjWa"}],"key":"GUhQoPpx33"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"TPROD anomaly","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"IE9T6WXYeZ"}],"key":"OdA3MZXWnA"}],"key":"Gc5Mvltzbz"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"SPROD anomaly","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"c1ugrIrzG8"}],"key":"tkloescfGz"}],"key":"NG1lgsew3O"},{"type":"listItem","spread":true,"position":{"start":{"line":36,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"Total drought impact","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"smB3kAozWT"}],"key":"u8nURiMJ36"}],"key":"DogrK2EAxJ"},{"type":"listItem","spread":true,"position":{"start":{"line":38,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"Seasonal drought impact","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"uV5cuyoXfu"}],"key":"HjqR1v4PkO"}],"key":"z8RrakFlRB"},{"type":"listItem","spread":true,"position":{"start":{"line":40,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"Number of Seasons","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"RDLwYGUVo2"}],"key":"YrdkBJGEh1"}],"key":"QVuOOMTPSX"}],"key":"LmWGYPgcHe"},{"type":"paragraph","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"The variable are generated as raster files, accompanied by statistics aggregated by:","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"FPnQKzkXuA"}],"key":"ivcSVgCh0E"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":45,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":45,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"Adminstrative area (NUTS3 regions)","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"MaYOB9322c"}],"key":"WqGr8VJPFs"}],"key":"Oaj0sWMbeQ"},{"type":"listItem","spread":true,"position":{"start":{"line":47,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"Land Cover type","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"QWhUM6KHZd"}],"key":"uUrC7gd9RJ"}],"key":"otbGikXVqE"},{"type":"listItem","spread":true,"position":{"start":{"line":49,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"text","value":"Land Cover flow","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"PQChV0EW3U"}],"key":"xVg1QUuTe4"}],"key":"lMxo6JBwgV"}],"key":"yBBrOOgoQh"},{"type":"paragraph","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"The workflow is designed to be run at the continental scale. However, for demonstration purposes, this example shows the workflow executed for a single NUTS3 region (Cádiz, Spain).","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"PaoNN9bVzP"}],"key":"dZfP7iZbcq"}],"key":"Wh7cMlyCD3"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Processing workflow","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hNGkBMstlS"}],"identifier":"processing-workflow","label":"Processing workflow","html_id":"processing-workflow","implicit":true,"key":"Fp3WU8lMVm"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The following figure shows the processing workflow that is implemented in this Jupyter Notebook.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QWBS7FMvIJ"}],"key":"i0T3IzBvni"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Dark green boxes represent raster inputs.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"qao3UJFlE5"}],"key":"sjJ1akWMMC"}],"key":"AaThoJUb3R"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Light green boxes represent raster outputs.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"IVrsntxVtC"}],"key":"IFFhAz05jO"}],"key":"ONBPqAzlgF"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Dark grey boxes with a thick frame represent JSON outputs (statistics).","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"HHrB4WgAG1"}],"key":"Og3qz6K2hr"}],"key":"k4WXZnNbZR"}],"key":"xighOrH3If"},{"type":"image","url":"/example-viewer/build/ad5c19782b006f72352ae57794305840.png","alt":"Jupyter Notebook processing workflow","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"Gr8VYomlvQ","urlSource":"https://github.com/eurodatacube/notebooks/blob/master/notebooks/contributions/example_data/drought_monitoring/Drought_diagram.png?raw=true"}],"key":"hOPWeX3KiY"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 1: MR-VPP annual and monthly products","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GJ6yaEnO3A"}],"identifier":"step-1-mr-vpp-annual-and-monthly-products","label":"Step 1: MR-VPP annual and monthly products","html_id":"step-1-mr-vpp-annual-and-monthly-products","implicit":true,"key":"zFOEzG8QJb"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In a first step, we will compute the annual and monthly drought products based on Medium Resolution Vegetation Phenology and Productivity (MR-VPP).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ugTaOzkyV4"}],"key":"uuF478KtRW"}],"key":"WdXUr6C8BC"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Sentinel Hub\nfrom sentinelhub import (SHConfig, Geometry, SentinelHubRequest, DataCollection, MimeType, BBox, SentinelHubBatch, BatchRequestStatus)\n\n# Geospatial\nimport geopandas as gpd\nfrom shapely.geometry import shape, GeometryCollection\n\n# Utilities\nimport json\nimport time\nimport datetime as dt\nimport os\nimport urllib3","key":"H3XaL5hif8"},{"type":"output","id":"_cV5Ip9bP-vWrkzCQeCnC","data":[],"key":"jNWS9DcfNx"}],"key":"RrN7Gr29za"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Credentials","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ceBgy51hIv"}],"identifier":"credentials","label":"Credentials","html_id":"credentials","implicit":true,"key":"mImbWVf0au"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We recommend the use of EDC built-in credentials for Sentinel Hub services.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KIOCZyA0O8"}],"key":"BqZljOSVWe"}],"key":"QpmXHIjRtX"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set the Sentinel Hub credentials based on EDC managed credentials\nconfig = SHConfig()\nconfig.sh_client_id = os.environ[\"SH_CLIENT_ID\"]\nconfig.sh_client_secret = os.environ[\"SH_CLIENT_SECRET\"]\n\n# Change endpoint\nconfig.sh_base_url  = \"https://creodias.sentinel-hub.com\"","key":"evBtdHY9Jv"},{"type":"output","id":"Jqnd4gnBbRd7_Mhb-XuzC","data":[],"key":"sbqHmKMrYQ"}],"key":"tgqqHMq3TG"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Read AOI","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"g4YqeaR09x"}],"identifier":"read-aoi","label":"Read AOI","html_id":"read-aoi","implicit":true,"key":"qpq6Ie0fLD"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the following cells we will specify the geoJSON of the AOI for Batch Processing. Here we will use the NUTS3 region of Cádiz in southern Spain.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gHjPWfAPAj"}],"key":"vboiN08UIv"}],"key":"bqhQf9yr1P"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Open Json\nfullaoi = gpd.read_file(\"https://raw.githubusercontent.com/eurodatacube/notebooks/master/notebooks/contributions/example_data/drought_monitoring/Cadiz.geojson\")\n\n# Buffer 500m to make sure the entire AOI is covered\nbuffered_aoi = fullaoi.iloc[0].geometry.buffer(500)\n\n# Check number of vertices (Sentinel Hub can only process geometries with \u003c 1500 nodes)\nnodes = 0\nfor x in buffered_aoi.geoms:\n    nodes += len(x.exterior.coords)\n\n# If too many nodes, progressively simplify\nsim_nr = 100\n\nwhile nodes \u003e= 1500:\n    \n    # Simplify geometry\n    buffered_aoi = fullaoi.iloc[0].geometry.buffer(500).simplify(sim_nr)\n    sim_nr += 100\n\n    # Recompute nodes\n    nodes = 0\n    for x in buffered_aoi.geoms:\n        nodes += len(x.exterior.coords)\n\ncadiz_aoi = Geometry(buffered_aoi, crs=\"EPSG:3035\")","key":"nC8LjhzFqR"},{"type":"output","id":"KKEuKizLGdz5aoptkiXgJ","data":[],"key":"nKqkpElsQO"}],"key":"wLwpNCCQPv"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Show the geometry\nbuffered_aoi","key":"vhv27v5rGY"},{"type":"output","id":"MmXeh3n7cgy9ZLdvpfyaX","data":[],"key":"wn7iTv4tqn"}],"key":"bgp0qESlez"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Evalscript for MR-VPP 500m products","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BYlIsPLwPV"}],"identifier":"evalscript-for-mr-vpp-500m-products","label":"Evalscript for MR-VPP 500m products","html_id":"evalscript-for-mr-vpp-500m-products","implicit":true,"key":"gubu9iB3nM"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The workflow was written as an ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"oOoBdw72yV"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/evalscript/v3/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Evalscript","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IeUAJl2Kxg"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/evalscript/v3/","key":"OUuSm2fgQU"},{"type":"text","value":" to enable large-scale processing using Batch API.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"eTtp4zeCOX"}],"key":"bBu1llutMz"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Here we will import the Evalscript and format it in a way suitable for use with Python:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"cbS5ayVmWM"}],"key":"EqfBx4IuXe"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"the variables ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"fwUR08XJP6"},{"type":"inlineCode","value":"YEAR0","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"rQBbQZGlJp"},{"type":"text","value":" and ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"esuDOBh66H"},{"type":"inlineCode","value":"YEAR1","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"lle5UNla8t"},{"type":"text","value":" will be replaced by ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Y59quzX4Og"},{"type":"inlineCode","value":"{0}","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"vDyAP4OmeO"},{"type":"text","value":" and ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"t7RpxFdRrU"},{"type":"inlineCode","value":"{1}","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"lf4DgMenFc"},{"type":"text","value":" for Python to pass the parameters","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"UTIlGf9o6B"}],"key":"x3ilrTsPzV"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"the ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"SsffEP1aYK"},{"type":"inlineCode","value":"{","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"FC3eVe1O0N"},{"type":"text","value":" and ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"VOJX6mvs9v"},{"type":"inlineCode","value":"}","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Sh4amZ2HZC"},{"type":"text","value":" in the Evalscript will be escaped to ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"kX3zDpF9GX"},{"type":"inlineCode","value":"{{","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ZVuarqH2kn"},{"type":"text","value":" and ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"F88CWVVzCM"},{"type":"inlineCode","value":"}}","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"KVIbfGBmDL"}],"key":"awD1739dmv"}],"key":"f34mxkdFb5"}],"key":"yEXuAOxHbG"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Open evalscript\nhttp = urllib3.PoolManager()\nresponse = http.request('GET', \"https://raw.githubusercontent.com/eurodatacube/notebooks/master/notebooks/contributions/example_data/drought_monitoring/mrvpp_500m_monthly_annual_raster_stats.js\")\nevalscript_mrvpp = response.data.decode('utf-8')\n\n# Make replacements\nevalscript_mrvpp = evalscript_mrvpp.replace('{', '{{')\nevalscript_mrvpp = evalscript_mrvpp.replace('}', '}}')\nevalscript_mrvpp = evalscript_mrvpp.replace('YEAR0', '{0}')\nevalscript_mrvpp = evalscript_mrvpp.replace('YEAR1', '{1}')","key":"ttdeHlhRlV"},{"type":"output","id":"WO_Fd1oU9G3XO6qHFm3r2","data":[],"key":"K4NWmtMGWc"}],"key":"ZgZdTOKgwJ"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Run first Batch request","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AUBdoZdILd"}],"identifier":"run-first-batch-request","label":"Run first Batch request","html_id":"run-first-batch-request","implicit":true,"key":"rma8IDfNXu"}],"key":"HMx6IMsdPl"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Set CreoDIAS bucket name","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BLh725oCPr"}],"identifier":"set-creodias-bucket-name","label":"Set CreoDIAS bucket name","html_id":"set-creodias-bucket-name","implicit":true,"key":"cYUVICwD8K"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Set the name of the bucket (that was ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"bjeN8SkdCH"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/api/batch/#aws-bucket-settings","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"correctly setup","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"uWQF0utQwV"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/api/batch/#aws-bucket-settings","key":"PrPcsLN0F6"},{"type":"text","value":") where the results will be saved.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WLJ8wIjTc8"}],"key":"c4MCVYcC46"}],"key":"bi35S8DfuD"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"BUCKET_NAME = '\u003cBUCKET-NAME\u003e'","key":"rEeoePXw8g"},{"type":"output","id":"Ds0j_njfVYkMuU_Ko-d1I","data":[],"key":"cciuGtnSjg"}],"key":"CgTIfvSynA"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Set input data collection IDs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qrlHhOqb1G"}],"identifier":"set-input-data-collection-ids","label":"Set input data collection IDs","html_id":"set-input-data-collection-ids","implicit":true,"key":"c5shvXyljK"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For the first step, we will three input layers that are hosted on CreoDIAS / WEkEO.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LzjKugtfwe"}],"key":"usiMuejzVZ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://edo.jrc.ec.europa.eu/documents/factsheets/factsheet_soilmoisture.pdf","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Soil moisture index and anomaly","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"hsnJJVFKhS"}],"urlSource":"https://edo.jrc.ec.europa.eu/documents/factsheets/factsheet_soilmoisture.pdf","key":"fXGiOFfGAq"}],"key":"SVc79RYHl4"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://www.eea.europa.eu/data-and-maps/data/copernicus-land-monitoring-service-medium","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"MR-VPP","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"LYVc0sKfBx"}],"urlSource":"https://www.eea.europa.eu/data-and-maps/data/copernicus-land-monitoring-service-medium","key":"Q5xDNNFSrW"}],"key":"JvifRskYqy"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Statistical indices: a combination of ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"q3Wr7XPYLc"},{"type":"link","url":"https://ec.europa.eu/eurostat/web/nuts/background","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"NUTS3","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"CjRyUPqAgy"}],"urlSource":"https://ec.europa.eu/eurostat/web/nuts/background","key":"NXsRbuOJGI"},{"type":"text","value":", ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"k3MkjIPHkm"},{"type":"link","url":"https://www.eea.europa.eu/data-and-maps/data/corine-land-cover-accounting-layers","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"CLCA","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"SWB2a5nJDz"}],"urlSource":"https://www.eea.europa.eu/data-and-maps/data/corine-land-cover-accounting-layers","key":"sbHf0GPmQM"},{"type":"text","value":", and ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"awnlZTNOS4"},{"type":"link","url":"https://www.eea.europa.eu/data-and-maps/data/land-cover-flows-based-on","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Land Cover Flow 2000-2018","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"BeqTXcAds0"}],"urlSource":"https://www.eea.europa.eu/data-and-maps/data/land-cover-flows-based-on","key":"zIoYEMzBxO"},{"type":"text","value":".","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"NGG15aK7HE"}],"key":"yyy8RRbATY"}],"key":"poIA2hkMb5"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Please contact us if you need access to these data collections: ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"CZkNojFPnj"},{"type":"inlineCode","value":"info@sentinel-hub.com","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"MgvBAo1dRR"},{"type":"text","value":".","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"wAeQMrpCWH"}],"key":"scMOnLejo3"}],"key":"cUdymHW7BI"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set collection IDs for the input layers\nsoil_moisture_id = \"\u003cID\u003e\"\nmrvpp_timesat_id = \"\u003cID\u003e\"\nstatistical_areas_id = \"\u003cID\u003e\"","key":"zgCA6DMzqT"},{"type":"output","id":"K7ipor-eAV03o1qICdZCR","data":[],"key":"c0kYSTv8Sn"}],"key":"zpZTYM2szo"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Requests for Batch","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BDY9KQmfIs"}],"identifier":"requests-for-batch","label":"Requests for Batch","html_id":"requests-for-batch","implicit":true,"key":"Et4rVFRFpN"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the next cell we prepare a function to run Batch Processing so that we can easily trigger over many years.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DyCmqv07H5"}],"key":"aPWDLXziCd"}],"key":"tpNE85jp5o"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"def run_batch_year(thisyear, aoi, evalscript, foldername, myconfig):\n    \n    print(f\"Running Year {thisyear}\")\n        \n    # Set timesat dates\n    timesat_start_date = dt.date(thisyear, 1, 1)\n    timesat_end_date = dt.date(thisyear, 1, 1)\n\n    # Automatically calculate Soil moisture dates\n    sm_start_date = timesat_start_date.replace(year=timesat_start_date.year-1)\n    sm_end_date = dt.date(timesat_end_date.year, 12, 31)\n    \n    # Batch object\n    batch = SentinelHubBatch(config=myconfig)\n    \n    # Make the outputs\n    shresponses = [SentinelHubRequest.output_response(f'Monthly_Drought_Hazard_{x}_{y}', MimeType.TIFF) for y in range(1,12+1) for x in [str(thisyear-1), thisyear]]\n    shresponses.append(SentinelHubRequest.output_response(f'Annual_Soil_Moisture_{thisyear}', MimeType.TIFF))\n    shresponses.append(SentinelHubRequest.output_response(f'Annual_Drought_Pressure_{thisyear}', MimeType.TIFF))\n    shresponses.append(SentinelHubRequest.output_response(f'Drought_Pressure_Month_{thisyear}', MimeType.TIFF))\n    shresponses.append(SentinelHubRequest.output_response(f'Annual_Drought_Pressure_Intensity_{thisyear}', MimeType.TIFF))\n    shresponses.append(SentinelHubRequest.output_response(f'LINT_anomaly_{thisyear}', MimeType.TIFF))\n    shresponses.append(SentinelHubRequest.output_response(f'Drought_Impact_{thisyear}', MimeType.TIFF))\n    shresponses.append(SentinelHubRequest.output_response(f'Drought_Impact_Mask_{thisyear}', MimeType.TIFF))\n    shresponses.append(SentinelHubRequest.output_response(f'Drought_Impact_Intensity_{thisyear}', MimeType.TIFF))\n    shresponses.append(SentinelHubRequest.output_response(f'Drought_Impact_Intensity_Mask_{thisyear}', MimeType.TIFF))\n    shresponses.append(SentinelHubRequest.output_response(f'userdata', MimeType.JSON))\n\n    \n    # Make the request for Batch\n    request_for_batch = SentinelHubRequest(\n        evalscript=evalscript.format(str(thisyear-1), str(thisyear)),\n        input_data=[\n        SentinelHubRequest.input_data(\n            data_collection=DataCollection.define_byoc(soil_moisture_id),          \n            identifier=\"SM\",\n            time_interval=(sm_start_date, sm_end_date),          \n        ),\n       SentinelHubRequest.input_data(\n            data_collection=DataCollection.define_byoc(mrvpp_timesat_id),          \n            identifier=\"TIMESAT\",\n            time_interval=(timesat_start_date, timesat_end_date),          \n        ),\n        SentinelHubRequest.input_data(\n            data_collection=DataCollection.define_byoc(mrvpp_timesat_id),          \n            identifier=\"TIMESATLONG\",\n            time_interval=(dt.date(2000, 1, 1), dt.date(2021, 1, 1)),          \n        ),\n        SentinelHubRequest.input_data(\n            data_collection=DataCollection.define_byoc(statistical_areas_id),          \n            identifier=\"INDICES\",\n            time_interval=(dt.date(2018, 1, 1), dt.date(2018, 1, 1)),          \n        ),\n    ],\n        responses=shresponses,\n        geometry=aoi,\n        config=myconfig\n    )\n    \n    # Create Batch request\n    batch_request = batch.create(\n        request_for_batch,\n        tiling_grid=SentinelHubBatch.tiling_grid(\n            grid_id=6,\n            resolution=500,\n            buffer=(0, 0)\n        ),\n        description=f'EEA MRVPP FULL 500m year {thisyear}',\n        output = SentinelHubBatch.output(\n        defaultTilePath = f\"s3://{BUCKET_NAME}/{foldername}\",\n        cog_output = True,\n        create_collection = False,\n        cog_parameters = {\"resamplingAlgorithm\": \"nearest\"}\n        )\n    )\n    \n    time.sleep(15)\n    \n    batch_request = batch.get_request(batch_request)\n    \n    batch.start_analysis(batch_request)\n    \n    batch_request = batch.get_request(batch_request)\n    \n   \n   \n    batch_request = batch.get_request(batch_request)\n    status = 0\n    cnt = 0\n    \n    while status == 0:\n\n        time.sleep(15)\n        \n        batch_request = batch.get_request(batch_request)\n\n        if batch_request.status == BatchRequestStatus.ANALYSIS_DONE:\n            status = 1\n            failed = False\n            print(\"Analysis done\")\n        elif batch_request.status == BatchRequestStatus.FAILED:\n            status = 1\n            failed = True\n            print(\"Failed\")\n        elif batch_request.status == BatchRequestStatus.ANALYSING:\n            status = 0\n            print(\"Still analysing\")\n            time.sleep(5)\n        else:\n            status = 0\n            time.sleep(5)\n            cnt += 1\n            print(f\"Ping number: {cnt}\")\n        \n    if not failed:\n        batch_request = batch.get_request(batch_request)\n        batch.start_job(batch_request)\n        print(f\"Running {batch_request.request_id}\")\n    else:\n        raise RuntimeError(\"Batch failed to analyse\")\n    batch_request = batch.get_request(batch_request)    \n    return batch_request.request_id","key":"kJ41HvFWcZ"},{"type":"output","id":"buVzQhafUf0QozexAHdxV","data":[],"key":"ohfpbsSRkH"}],"key":"auwiDKmOY6"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Run the Batch Processing","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"d6vPxKiOpE"}],"identifier":"run-the-batch-processing","label":"Run the Batch Processing","html_id":"run-the-batch-processing","implicit":true,"key":"hkYTlQDG94"}],"key":"aQ46Q9NBRC"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Collect information about the Batch Process in a list\nids = []","key":"u3z4EVZms6"},{"type":"output","id":"8Yag3oe52EDnAZlrA91fy","data":[],"key":"KMW7fIN7iE"}],"key":"iWa6upeB7z"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Loop from 2000 to 2003 for this example\nfor x in list(range(2000, 2022)):\n    ids.append(run_batch_year(x, cadiz_aoi, evalscript_mrvpp, \"MRVPP_FULL_ANNUAL_MONTHLY\", config))","visibility":"show","key":"C9kW9RiNW6"},{"type":"output","id":"6tCcGQTFeJwpzY8jQ7LK6","data":[],"visibility":"show","key":"ANVvIqd3Mi"}],"visibility":"show","key":"v7gPMI6TMU"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 2: MR-VPP long term average products","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VCwUFOQn6n"}],"identifier":"step-2-mr-vpp-long-term-average-products","label":"Step 2: MR-VPP long term average products","html_id":"step-2-mr-vpp-long-term-average-products","implicit":true,"key":"yQcd50Rzi3"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In a second step, we will compute the long term average drought products based on the Medium Resolution Vegetation Phenology and Productivity (MR-VPP) products.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tdTp7x66Mm"}],"key":"OxqtGtZxVu"}],"key":"gpCoLuJdLX"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Set input data collection IDs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XPkwxoo7MT"}],"identifier":"set-input-data-collection-ids","label":"Set input data collection IDs","html_id":"set-input-data-collection-ids-1","implicit":true,"key":"hpt5YAZDno"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For the second step, we will reuse three input layers defined in step 1.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hQRc2UKqA4"}],"key":"hByZZLxDS5"}],"key":"VTBrW1sgmR"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Evalscript for MR-VPP 500m products","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sfaKk6Hbkz"}],"identifier":"evalscript-for-mr-vpp-500m-products","label":"Evalscript for MR-VPP 500m products","html_id":"evalscript-for-mr-vpp-500m-products-1","implicit":true,"key":"fpmgmxXnrW"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The workflow was written as an ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"uIimGNV2WY"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/evalscript/v3/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Evalscript","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BYCm8MhCRk"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/evalscript/v3/","key":"NfbgIeauFu"},{"type":"text","value":" to enable large-scale processing using Batch API.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wKYnLNjFCr"}],"key":"WjTEb6UGr6"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Here we will import the Evalscript:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"zQyttyAZB7"}],"key":"dH6yVC9Z72"}],"key":"cYiVVgdOKS"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Open evalscript\nhttp = urllib3.PoolManager()\nresponse = http.request('GET', \"https://raw.githubusercontent.com/eurodatacube/notebooks/master/notebooks/contributions/example_data/drought_monitoring/mrvpp_500m_lta_raster_stats.js\")\nevalscript_mrvpp_lta = response.data.decode('utf-8')","key":"vP72X01ejb"},{"type":"output","id":"nGsuscvYGmbhKyCzf_UT7","data":[],"key":"o7iuYr9yW2"}],"key":"d1ZoLucYxh"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create Batch Request","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lxmLpiTNyg"}],"identifier":"create-batch-request","label":"Create Batch Request","html_id":"create-batch-request","implicit":true,"key":"YpqBApQ1Qk"}],"key":"MpVenpSlUN"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set dates for full range\nstart_date = dt.date(2000, 1, 1)\nend_date = dt.date(2021, 1, 1)\n\n# Batch object\nbatch = SentinelHubBatch(config=config)\n\nrequest_for_batch = SentinelHubRequest(\n    evalscript=evalscript_mrvpp_lta,\n    input_data=[\n        SentinelHubRequest.input_data(\n            data_collection=DataCollection.define_byoc(soil_moisture_id),          \n            identifier=\"SM\",\n            time_interval=(start_date, end_date),          \n        ),\n        SentinelHubRequest.input_data(\n            data_collection=DataCollection.define_byoc(mrvpp_timesat_id),          \n            identifier=\"TIMESAT\",\n            time_interval=(start_date, end_date),          \n        ),\n        SentinelHubRequest.input_data(\n            data_collection=DataCollection.define_byoc(statistical_areas_id),          \n            identifier=\"INDICES\",\n            time_interval=(dt.date(2018, 1, 1), dt.date(2018, 1, 1)),          \n        ),\n    ],\n    responses=[SentinelHubRequest.output_response('Long_Term_Soil_Moisture', MimeType.TIFF),\n               SentinelHubRequest.output_response('Long_Term_Drought_Pressure_Intensity', MimeType.TIFF),\n               SentinelHubRequest.output_response(f'userdata', MimeType.JSON)\n              ],\n    geometry=andalusia_aoi,\n    config=config\n)\n\n# Create Batch request\nbatch_request = batch.create(\n    request_for_batch,\n    tiling_grid=SentinelHubBatch.tiling_grid(\n        grid_id=6,\n        resolution=500,\n        buffer=(0, 0)\n    ),\n    description=f'EEA 500m Long Term Average',\n    output = SentinelHubBatch.output(\n    defaultTilePath = f\"s3://{BUCKET_NAME}/MRVPP_FULL_LTA\",\n    cog_output = True,\n    create_collection = False,\n    cog_parameters = {\"resamplingAlgorithm\": \"nearest\"}\n    )\n)\n\nbatch_request = batch.get_request(batch_request)\n\nprint(batch_request)","key":"jzI6OjdllT"},{"type":"output","id":"Ihz2Y14pe_JATp6Ba4ZNq","data":[],"key":"JXBXAygqPC"}],"key":"mt4hjPfVvo"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Analyse the request\nbatch.start_analysis(batch_request)\n\ntime.sleep(45)\n\nbatch_request = batch.get_request(batch_request)\nprint(batch_request)","key":"Axx7Zrxruv"},{"type":"output","id":"-0svFovQmszuJrmUzJGqQ","data":[],"key":"tayD5mRUp9"}],"key":"TbyNlBHJJc"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Run Batch Request","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RUHjAQI63M"}],"identifier":"run-batch-request","label":"Run Batch Request","html_id":"run-batch-request","implicit":true,"key":"mBX853TQu7"}],"key":"vBXaUrFKxC"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"batch.start_job(batch_request)","key":"CdAtDZPKRP"},{"type":"output","id":"l07MJfaZQk8XolIMjprxo","data":[],"key":"NF7EtNPoFn"}],"key":"BOWadEOu9P"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 3: HR-VPP products","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GQ67ARRnnF"}],"identifier":"step-3-hr-vpp-products","label":"Step 3: HR-VPP products","html_id":"step-3-hr-vpp-products","implicit":true,"key":"smVCMIXzmc"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the third step, we will compute the products derived from the High Resolution Vegetation Phenology and Productivity (HR-VPP) layers at 10m resolution. The products are derived from a combination of HR-VPP, and the products computed in the previous steps.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UHANrnYMZn"}],"key":"MqquLzk8sh"}],"key":"GtXSe6hten"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Set input data collection IDs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cGiZRAMDtg"}],"identifier":"set-input-data-collection-ids","label":"Set input data collection IDs","html_id":"set-input-data-collection-ids-2","implicit":true,"key":"Fr21UKBC0Q"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For the last step, we will use four input layers that are hosted on CreoDIAS / WEkEO.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"p6rVzO6iTH"}],"key":"swB5D3eldC"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://land.copernicus.eu/pan-european/biophysical-parameters/high-resolution-vegetation-phenology-and-productivity","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"HR-VPP season 1","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"HAzOf4zO70"}],"urlSource":"https://land.copernicus.eu/pan-european/biophysical-parameters/high-resolution-vegetation-phenology-and-productivity","key":"FeIOrjLeMK"},{"type":"text","value":": the data for the first season of each year.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"jeBo2XWUTM"}],"key":"BsG1M2NljI"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://land.copernicus.eu/pan-european/biophysical-parameters/high-resolution-vegetation-phenology-and-productivity","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"HR-VPP season 2","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"tDMqMEQ7uC"}],"urlSource":"https://land.copernicus.eu/pan-european/biophysical-parameters/high-resolution-vegetation-phenology-and-productivity","key":"m8dI39I9YE"},{"type":"text","value":": the data for the second season of each year.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"vnyzTNi0SM"}],"key":"ukAHsWwojm"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Statistical indices: a combination of ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"FbKbeSeWip"},{"type":"link","url":"https://ec.europa.eu/eurostat/web/nuts/background","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"NUTS3","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"pY5awCic7b"}],"urlSource":"https://ec.europa.eu/eurostat/web/nuts/background","key":"e5A37Z2mwv"},{"type":"text","value":", ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"pSVEuwrrPC"},{"type":"link","url":"https://www.eea.europa.eu/data-and-maps/data/corine-land-cover-accounting-layers","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"CLCA","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"gQWusiWuX5"}],"urlSource":"https://www.eea.europa.eu/data-and-maps/data/corine-land-cover-accounting-layers","key":"t6liZFIZmY"},{"type":"text","value":", and ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"er4NxqAuD9"},{"type":"link","url":"https://www.eea.europa.eu/data-and-maps/data/land-cover-flows-based-on","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Land Cover Flow 2000-2018","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"lrJogcqiio"}],"urlSource":"https://www.eea.europa.eu/data-and-maps/data/land-cover-flows-based-on","key":"YJbpPZqGab"},{"type":"text","value":".","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"nHYiWwrYVs"}],"key":"Nlp5BmjPub"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Previous Yearly MR-VPP results. After running the first steps, the results need to be ingested as ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"S4jhJtu71J"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/api/byoc/","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"BYOC layers","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"VI4M6ny4ac"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/api/byoc/","key":"L2sGqPeCYS"},{"type":"text","value":" in CreoDIAS / WEkEO.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"wcE6Vqf1Od"}],"key":"YNHk1Cr8O0"}],"key":"npVJEHtuYO"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Please contact us if you need access to these data collections: ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"rh0N421JSJ"},{"type":"inlineCode","value":"info@sentinel-hub.com","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"JvFYe3ObVG"},{"type":"text","value":".","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"RqGVd20qb6"}],"key":"FM1Er9PP0D"}],"key":"j5r9EoxBPA"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set collection IDs for the input layers\nhrvpp_s1_id = \"\u003cID\u003e\"\nhrvpp_s2_id = \"\u003cID\u003e\"\nstatistical_areas_id = \"\u003cID\u003e\"\nmrvpp_outputs_id = \"\u003cID\u003e\"","key":"E0RT7l7YKv"},{"type":"output","id":"uZzcQHhiN6Qredzuv4HWW","data":[],"key":"bMKnvZsj7a"}],"key":"WgeibYVqnc"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Evalscript for MR-VPP 500m products","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DIqQhyjmIy"}],"identifier":"evalscript-for-mr-vpp-500m-products","label":"Evalscript for MR-VPP 500m products","html_id":"evalscript-for-mr-vpp-500m-products-2","implicit":true,"key":"WdmypVVfyr"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The workflow was written as an ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NpHWuRmvo9"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/evalscript/v3/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Evalscript","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lgfwYAnky1"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/evalscript/v3/","key":"hkoqkCifRS"},{"type":"text","value":" to enable large-scale processing using Batch API.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"b9GleuZ3Ft"}],"key":"bkWwy2OM5v"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Here we will import the Evalscript and format it in a way suitable for use with Python:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"vXHe0w2PAV"}],"key":"DfLXLfOLc8"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"the variables ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"P98aFq29ET"},{"type":"inlineCode","value":"YEAR0","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"QNJBoCJfyg"},{"type":"text","value":" will be replaced by ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"PErRCU4VAL"},{"type":"inlineCode","value":"{0}","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LrlUHlyhGi"},{"type":"text","value":" for Python to pass the parameters","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"lWrgcaXJH4"}],"key":"vCVAPJCJfI"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"the ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"PYQm97uOHe"},{"type":"inlineCode","value":"{","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"bz7MWxo3Yz"},{"type":"text","value":" and ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"W1y6a7i1xG"},{"type":"inlineCode","value":"}","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"gUbkBYuDms"},{"type":"text","value":" in the Evalscript will be escaped to ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"H2KUBhGuEZ"},{"type":"inlineCode","value":"{{","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"V3acq80LNZ"},{"type":"text","value":" and ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"diAW9777S5"},{"type":"inlineCode","value":"}}","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"CGlOSQUIIz"}],"key":"nV3npKd0ZK"}],"key":"yJ50TUtkoA"}],"key":"ejkOog0qI8"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Open evalscript\nhttp = urllib3.PoolManager()\nresponse = http.request('GET', \"https://raw.githubusercontent.com/eurodatacube/notebooks/master/notebooks/contributions/example_data/drought_monitoring/hrvpp_10m_raster_stats.js\")\nevalscript_hrvpp = response.data.decode('utf-8')\n\n# Make replacements\nevalscript_hrvpp = evalscript_mrvpp.replace('{', '{{')\nevalscript_hrvpp = evalscript_mrvpp.replace('}', '}}')\nevalscript_hrvpp = evalscript_mrvpp.replace('YEAR0', '{0}')","key":"KaxbSylbK9"},{"type":"output","id":"BQfJVQSdA6zO-7m1hsJYP","data":[],"key":"gkh9GiVa1v"}],"key":"qAJGnOxCf7"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Requests for Batch","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"T19aFss4pU"}],"identifier":"requests-for-batch","label":"Requests for Batch","html_id":"requests-for-batch-1","implicit":true,"key":"eVlgJn2Q9C"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the next cell we prepare a function to run Batch Processing so that we can easily trigger over many years.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lQ7lCYHxuL"}],"key":"qrmMjORnPS"}],"key":"AuX0h1LUiH"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"def run_batch_year(inyear, aoi, evalscript, BUCKET_NAME, FOLDER_NAME, myconfig):\n        \n    # Set timesat dates\n    start_date = dt.date(2017, 1, 1)\n    end_date = dt.date(2021, 1, 1)\n\n    # Batch object\n    batch = SentinelHubBatch(config=myconfig)\n    \n    # Test make the outputs for Process API\n    shresponses = [SentinelHubRequest.output_response(f'TPROD_minmax_{inyear}', MimeType.TIFF)]\n    shresponses.append(SentinelHubRequest.output_response(f'SPROD_minmax_{inyear}', MimeType.TIFF))\n    shresponses.append(SentinelHubRequest.output_response(f'Total_Drought_Impact_{inyear}', MimeType.TIFF))\n    shresponses.append(SentinelHubRequest.output_response(f'Seasonal_Drought_Impact_{inyear}', MimeType.TIFF))\n    shresponses.append(SentinelHubRequest.output_response(f'Season_Length_{inyear}', MimeType.TIFF))\n    shresponses.append(SentinelHubRequest.output_response(f'Nb_Seasons_{inyear}', MimeType.TIFF))\n    shresponses.append(SentinelHubRequest.output_response(f'MR_drought_impact_{inyear}', MimeType.TIFF))\n    shresponses.append(SentinelHubRequest.output_response('userdata', MimeType.JSON))\n\n    \n    # Make the request for Batch\n    request_for_batch = SentinelHubRequest(\n        evalscript=evalscript.format(inyear),\n        input_data=[\n            SentinelHubRequest.input_data(\n                data_collection=DataCollection.define_byoc(mrvpp_outputs_id),          \n                identifier=\"MRVPP\",\n                time_interval=(f'{inyear}-01-01', f'{inyear}-01-01'),          \n            ),\n           SentinelHubRequest.input_data(\n                data_collection=DataCollection.define_byoc(hrvpp_s1_id),          \n                identifier=\"VPP1\",\n                time_interval=(start_date, end_date),          \n            ),\n           SentinelHubRequest.input_data(\n                data_collection=DataCollection.define_byoc(hrvpp_s2_id),          \n                identifier=\"VPP2\",\n                time_interval=(start_date, end_date),          \n            ),\n            SentinelHubRequest.input_data(\n                    data_collection=DataCollection.define_byoc(statistical_areas_id),          \n                    identifier=\"INDICES\",\n                    time_interval=('2018-01-01', '2018-01-01'),          \n                ),\n        ],\n        responses=shresponses,\n        geometry=aoi,\n        config=config\n    )\n\n    # Create Batch request\n    batch_request = batch.create(\n        request_for_batch,\n        tiling_grid=SentinelHubBatch.tiling_grid(\n            grid_id=7,\n            resolution=10,\n            buffer=(0, 0)\n        ),\n        description=f'EEA FULL RUN 10m year {inyear}',\n        output = SentinelHubBatch.output(\n        defaultTilePath = f\"s3://{BUCKET_NAME}/{FOLDER_NAME}\",\n        cog_output = True,\n        create_collection = False,\n        cog_parameters = {\"resamplingAlgorithm\": \"nearest\"}\n        )\n    )\n    \n    time.sleep(15)\n    \n    batch_request = batch.get_request(batch_request)\n\n    print(batch_request)\n    \n    batch.start_analysis(batch_request)\n    \n    batch_request = batch.get_request(batch_request)\n    \n   \n   \n    batch_request = batch.get_request(batch_request)\n    status = 0\n    \n    \n    while status == 0:\n\n        time.sleep(15)\n        \n        batch_request = batch.get_request(batch_request)\n\n        if batch_request.status == BatchRequestStatus.ANALYSIS_DONE:\n            status = 1\n            failed = False\n            print(\"Analysis done\")\n        elif batch_request.status == BatchRequestStatus.FAILED:\n            status = 1\n            failed = True\n            print(\"Failed\")\n        elif batch_request.status == BatchRequestStatus.ANALYSING:\n            status = 0\n            print(\"Still analysing\")\n            time.sleep(5)\n        else:\n            print(\"Other status\")\n            status = 0\n            time.sleep(5)\n        \n    if not failed:\n        batch_request = batch.get_request(batch_request)\n        batch.start_job(batch_request)\n        print(f\"Running {batch_request.request_id}\")\n    else:\n        raise RuntimeError(\"Batch failed to analyse\")\n    batch_request = batch.get_request(batch_request)    \n    return batch_request.request_id","key":"Mqp3i2yiMQ"},{"type":"output","id":"r1yVpHo4EJjr0xqWwqdky","data":[],"key":"uak8I2R1wE"}],"key":"XZcDepLgd7"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Run the Batch Processing","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"De8MwF0bIm"}],"identifier":"run-the-batch-processing","label":"Run the Batch Processing","html_id":"run-the-batch-processing-1","implicit":true,"key":"JEbzVl15lJ"}],"key":"tHQpsnj5Su"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Collect information about the Batch Process in a list\nids = []","key":"au4rHWDGPa"},{"type":"output","id":"iWRvWUrKdjQIiiZ7NI_hD","data":[],"key":"E3avbFsved"}],"key":"glsLPSZNKo"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Loop from 2017 to 2020 for this example\nfor x in list(range(2017, 2021)):\n    ids.append(run_batch_year(x, andalusia_aoi, evalscript_hrvpp_avg, BUCKET_NAME, \"HRVPP_FULL\", config))","visibility":"show","key":"IcKCeUrQXm"},{"type":"output","id":"kIdmq7dcoCsxt7IXxIK73","data":[],"visibility":"show","key":"YRSESqxwqj"}],"visibility":"show","key":"nIjKDGsdYj"}],"key":"SYR9GZtcjy"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Detect Trucks using Sentinel-2 data","url":"/external-notebooks/eurodatacube/notebooks/notebooks/contributions/detect-trucks-sentinel2","group":"Contributions"},"next":{"title":"Custom Script Contest – Urban Growth in Africa","url":"/external-notebooks/eurodatacube/notebooks/notebooks/contributions/edc-africa-cube-africa-custom-contest","group":"Contributions"}}},"domain":"http://localhost:3000"},"project":{"subject":"Euro Data Cube Examples","title":"Euro Data Cube Examples","description":"Collection of example Jupyter notebooks relevant for the Euro Data Cube platform","github":"https://github.com/eurodatacube/example-viewer","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Eoxhub Workspaces","level":2},{"title":"Eoxhub Notebooks","level":3},{"slug":"external-notebooks.eoxhub-workspaces.eoxhub-notebooks.readme","title":"Euro Data Cube notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Pangeo Dask Notebooks","level":4},{"slug":"external-notebooks.eoxhub-workspaces.eoxhub-notebooks.pangeo-dask-notebooks.example-wildfires","title":"Scale your processes with Dask - hands on example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Eurodatacube","level":2},{"title":"Notebooks","level":3},{"slug":"external-notebooks.eurodatacube.notebooks.readme","title":"Jupyter notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Notebooks","level":4},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.readme","title":"Euro Data Cube Notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Contributions","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-ai4arctic-sea-ice","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-biomass-forest-observation-sys","title":"AIREO pilot dataset - Biomass (Forest Observation System)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-cap","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-spacenet7","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aot-covid19","title":"Aerosol Optical Thickness (AOT) Anomaly Detection Using Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.batch-zarr-output","title":"Generating Zarr data cubes with Sentinel Hub Batch API","description":"","date":"","thumbnail":"/example-viewer/build/68dffbf744fa42f4bf3d35e55684984e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.client-side-processing-using-mass-sh","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.cmems-data-download","title":"Cmems Data Download","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.detect-trucks-sentinel2","title":"Detect Trucks using Sentinel-2 data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.drought-monitoring","title":"Drought impact monitoring platform","description":"","date":"","thumbnail":"/example-viewer/build/ad5c19782b006f72352ae57794305840.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-africa-cube-africa-custom-contest","title":"Custom Script Contest – Urban Growth in Africa","description":"","date":"","thumbnail":"/example-viewer/build/undefined","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-byoc-tutorial","title":"How to bring your own data to EDC: Using Sentinel Hub Python package","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-demo-phi-week-v2","title":"xcube-gen and xcube-geodb Hands-On Workshop Φ-Week 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-geodb-4-eurocrops-demo","title":"Demonstration of Eurocrops data use in geoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-notebook-lstm","title":"South Africa Crop Type Classification on Euro Data Cube (EDC)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-usecase-lpis-crop-type-classification","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.eurocrops-crop-classification-example","title":"Crop-classification using Sentinel-2 time-series","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ghsl-urban-delineation","title":"\u003cb\u003eUrban delineation\u003cb\u003e","description":"","date":"","thumbnail":"/example-viewer/build/7bbf545a5eae1d9ebdb91ae42b261063.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.globalearthmonitor-example","title":"Pre-requisites","description":"","date":"","thumbnail":"/example-viewer/build/205c1ded6bd59771975a9fbd3753fd3b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gpu-support-eoxhub","title":"GPU-Support on EOxHub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gran-chaco-phiweek","title":"ESA EO \\phi- week 2020","description":"","date":"","thumbnail":"/example-viewer/build/80cee7db6cdc7002ceedda5689f889fa.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.howtolulc-batch-updated-210621","title":"How To: Land-Use-Land-Cover Prediction for Slovenia - using the Batch Processing API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lpis-lulc-slo","title":"LPIS Use Case for Land Use / Land Cover Classification","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lps2022-leverage-euro-data-cube-services","title":"Living Planet Symposium 2022 Training Session","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-analysis-covid19-lockdowns","title":"Impact of Covid19 induced lockdown on NO2 levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-so2-trend-veda-api-igarss-2023","title":"Using the NASA VEDA EOAPI","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ogc-edc","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.openeo-client-demo","title":"openEO Client Demo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.race-finishedgoodsinventory-inidcator","title":"Finished Goods Inventory indicator for RACE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.third-party-planetscope","title":"Third Party Data Import - PlanetScope","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-access-datasets","title":"Using xcube to access non-commercial and commercial data sets","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-viewer-as-a-service-in-edc1","title":"Visualizing data with xcube viewer in EuroDataCube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-evaluation-workshop","title":"DAPA Evaluation Workshop: Introduction \u0026 Documentation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-1-cube-sentinel-2","title":"DAPA Tutorial #1: Cube - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-2-area-sentinel-2","title":"DAPA Tutorial #2: Area - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-3-timeseries-sentinel-2","title":"DAPA Tutorial #3: Timeseries - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-4-value-sentinel-2","title":"DAPA Tutorial #4: Value - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-5-dem","title":"DAPA Tutorial #5: DEM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.fairicube.fairicube-data-access-demonstration","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-australian-bushfires","title":"Australian Bushfires","description":"","date":"","thumbnail":"/example-viewer/build/ab194b4f8c40a2b9d64d8a85e37ce1fd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["IGARSS-22","EO Dashboard"],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-data-access","title":"Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-detect-trucks-sentinel2","title":"Truck Detection Exercise","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-lockdown-in-venice","title":"Environmental Impacts of Lockdown in Venice, Italy during 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-nasa-api-lockdown-in-venice","title":"Lockdown in Venice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-no2-timeseries-analysis","title":"NO2 timeseries analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-timeseries-stac-api-single-vs-multi","title":"Time series using STAC API statistics endpoints","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.nightlights.night-lights-blending","title":"Monitoring socio-economic activities with nighttime light maps","description":"","date":"","thumbnail":"/example-viewer/build/fb2486d4e1708daa94616c6ae8fc4cc9.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Curated","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.access-iacs-data","title":"How to access IACS Spatial Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-access-cci-data","title":"Access CCI data with xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-first-steps","title":"First steps on the Euro Data Cube platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-1-manage-datasets-v11","title":"Manage Collections in your GeoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-2-explore-datasets-2","title":"Exploring Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-3-share-datasets1","title":"Sharing Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-access-urban-atlas-data-v1","title":"[xcube-geodb] How to accesss EEA Urban Atlas Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-data-access","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-basic","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-ndvi","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-datasets","title":"EDC Sentinel Hub - using xcube to access different data sets in Sentinel Hub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-setup","title":"Setup for EDC core API access using xcube client library","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-xcube-integration","title":"EDC Sentinel Hub - XCUBE integration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-usecase-ndvi-timeline","title":"NDVI timeline","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.eo-learn","title":"Using eo-learn in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/example-viewer/build/5a1f8475f0c3652f4630d03d72891b98.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.esdl-edc-v0-2","title":"Earth System Data Lab Tutorial @ Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.exploring-time-and-space-with-edc","title":"Exploring Time and Space: A guide to accessing, analysing and visualising data in the Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.how-to-access-dem-data-through-sentinel-hub-api","title":"How to access DEM data through Sentinel Hub API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.sentinelhub-py","title":"Using Sentinel Hub Process API in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/example-viewer/build/01e22903839391bc356ac886ec2b2fa7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/example-viewer/build/manifest-B4831781.js";
import * as route0 from "/example-viewer/build/root-QGLRP2PL.js";
import * as route1 from "/example-viewer/build/routes/$-7JYT5576.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/example-viewer/build/entry.client-UNPC4GT3.js");</script></body></html>