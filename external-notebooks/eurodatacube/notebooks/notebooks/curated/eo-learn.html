<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Using eo-learn in EDC: a starter’s guide. - Euro Data Cube Examples</title><meta property="og:title" content="Using eo-learn in EDC: a starter’s guide. - Euro Data Cube Examples"/><meta name="generator" content="mystmd"/><meta name="description" content="Collection of example Jupyter notebooks relevant for the Euro Data Cube platform"/><meta property="og:description" content="Collection of example Jupyter notebooks relevant for the Euro Data Cube platform"/><meta name="keywords" content=""/><meta name="image" content="/example-viewer/build/5a1f8475f0c3652f4630d03d72891b98.png"/><meta property="og:image" content="/example-viewer/build/5a1f8475f0c3652f4630d03d72891b98.png"/><link rel="stylesheet" href="/example-viewer/build/_assets/app-SP33RAUV.css"/><link rel="stylesheet" href="/example-viewer/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/example-viewer/favicon.ico"/><link rel="stylesheet" href="/example-viewer/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/example-viewer/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R74op:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode." aria-label="Toggle theme between light and dark mode."><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><article class="article content article-grid grid-gap"><main class="article-grid subgrid-gap col-screen"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center h-6 mb-5 text-sm font-light"><div class="flex-none pr-2 smallcaps">Euro Data Cube Examples</div><div class="flex-grow"></div><a href="https://github.com/eurodatacube/example-viewer" title="GitHub Repository: eurodatacube/example-viewer" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><div class="inline-block mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block"><title>Jupyter Notebook</title><path d="M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"></path></svg></div><a href="https://github.com/eurodatacube/example-viewer/blob/main/external_notebooks/eurodatacube/notebooks/notebooks/curated/eo-learn.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8top:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">Using eo-learn in EDC: a starter’s guide.</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="uSHP5qR4Te" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from edc import check_compatibility
check_compatibility(&quot;user-2023.10-01&quot;, dependencies=[&quot;SH&quot;])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="OLUAlsinPKxSxgpLlkxMz" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="uDTSjIB0kR" class="relative group/block"><h1 id="using-eo-learn-in-edc-a-starters-guide" class="relative group"><span class="heading-text">Using eo-learn in EDC: a starter’s guide.</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#using-eo-learn-in-edc-a-starters-guide" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><hr class="py-2 my-5 translate-y-2"/><p>Source: <a target="_blank" rel="noreferrer" href="https://eo-learn.readthedocs.io/en/latest/" class="">eo-learn Python package documentation</a></p><h2 id="getting-started-with-eo-learn" class="relative group"><span class="heading-text">Getting started with <code>eo-learn</code></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#getting-started-with-eo-learn" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p><strong>eo-learn</strong> is a collection of open source Python packages that have been developed to seamlessly access and process spatio-temporal image sequences acquired by any satellite fleet in a timely and automatic manner. eo-learn is easy to use, it’s design modular, and encourages collaboration – sharing and reusing of specific tasks in a typical EO-value-extraction workflows, such as cloud masking, image co-registration, feature extraction, classification, etc.</p><p>eo-learn makes extraction of valuable information from satellite imagery as easy as defining a sequence of operations to be performed on satellite imagery. Image below illustrates a processing chain that maps water in satellite imagery by thresholding the Normalised Difference Water Index in user specified region of interest.</p><img id="SRmTx2IBow" style="margin:0 auto" src="/example-viewer/build/5a1f8475f0c3652f4630d03d72891b98.png" alt="eo-learn workflow" data-canonical-url="https://eo-learn.readthedocs.io/en/latest/_images/eo-learn-illustration.png"/><p><strong>eo-learn</strong> acts as a bridge between Earth observation/Remote sensing field and Python ecosystem for data science and machine learning. The library is written in Python and uses NumPy arrays to store and handle remote sensing data. Its aim is to make entry easier for non-experts to the field of remote sensing on one hand and bring the state-of-the-art tools for computer vision, machine learning, and deep learning existing in Python ecosystem to remote sensing experts.</p><p><strong>eo-learn</strong> is divided into several subpackages according to different functionalities and external package dependencies. Therefore it is not necessary for user to install entire package but only the parts that he needs.</p><p>At the moment there are the following subpackages:</p><ul><li><p><em>eo-learn-core</em> - The main subpackage which implements basic building blocks (EOPatch, EOTask and EOWorkflow) and commonly used functionalities.</p></li><li><p><em>eo-learn-coregistration</em> - The subpackage that deals with image co-registraion.</p></li><li><p><em>eo-learn-features</em> - A collection of utilities for extracting data properties and feature manipulation.</p></li><li><p><em>eo-learn-geometry</em> - Geometry subpackage used for geometric transformation and conversion between vector and raster data.</p></li><li><p><em>eo-learn-io</em> - Input/output subpackage that deals with obtaining data from Sentinel Hub services or saving and loading data locally.</p></li><li><p><em>eo-learn-mask</em> - The subpackage used for masking of data and calculation of cloud masks.</p></li><li><p><em>eo-learn-ml-tools</em> - Various tools that can be used before or after the machine learning process.</p></li><li><p><em>eo-learn-visualization</em> - Visualization tools for core elements of eo-learn.</p></li></ul><h2 id="outline" class="relative group"><span class="heading-text">Outline</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#outline" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In this demonstration Jupyter Notebook, based on the <a href="https://github.com/sentinel-hub/eo-learn/blob/master/examples/features/SpatioTemporalFeatures.ipynb" class="italic" target="_blank" rel="noreferrer" data-state="closed">Spatio-Temporal Feature notebook</a>, we will learn how to:</p><ul><li><span data-state="closed"><a href="#create-an-eoworkflow" class="hover-link">Create an <code>EOWorkflow</code></a></span></li><li><span data-state="closed"><a href="#visualize-the-eopatch-output-from-the-eoworkflow" class="hover-link">Visualize the <code>EOPatch</code> output from the <code>EOWorkflow</code></a></span><ul><li><a target="_blank" rel="noreferrer" href="#VALID_DATA-mask" class=""><code>VALID_DATA</code> mask</a></li><li><span data-state="closed"><a href="#cloud-cover" class="hover-link">Cloud cover</a></span></li><li><span data-state="closed"><a href="#spatiotemporal-features-of-a-specific-field" class="hover-link">Spatiotemporal features of a specific field</a></span></li><li><span data-state="closed"><a href="#distribution-of-temporal-indices" class="hover-link">Distribution of temporal indices</a></span></li><li><span data-state="closed"><a href="#false-color-images-of-ndvi-features" class="hover-link">False color images of NDVI features</a></span></li></ul></li><li><span data-state="closed"><a href="#load-an-existing-eopatch-from-a-filesystem-to-build-another-eoworkflow" class="hover-link">Load an existing <code>EOPatch</code> from a filesystem to build another <code>EOWorkflow</code></a></span></li></ul></div><div id="hRjrdq5lbc" class="relative group/block"><h2 id="prerequisites" class="relative group"><span class="heading-text">Prerequisites</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#prerequisites" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Before starting to build our own processing chain for Earth Observation (EO) data, we need to import necessary Python libraries (already configured in your EDC workplace) and generate credentials automatically to access the services.</p></div><div id="mefx6vUBPb" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># EDC libraries
# from edc import setup_environment_variables

# Utilities
import os
import warnings
import itertools as it
import numpy as np
import matplotlib.pyplot as plt
from datetime import timedelta
from matplotlib.colors import ListedColormap, BoundaryNorm
from mpl_toolkits.axes_grid1 import make_axes_locatable

# eo-learn
from eolearn.core import (LoadTask, SaveTask, EONode, EOWorkflow, FeatureType, EOPatch, 
                          EOTask, ZipFeatureTask, OutputTask)
from eolearn.io import SentinelHubInputTask
from eolearn.features.ndi import NormalizedDifferenceIndexTask
from eolearn.features.extra.interpolation import LinearInterpolationTask

# Sentinel Hub
from sentinelhub import BBox, CRS, DataCollection, SHConfig</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="SOOB0NWMrC0er2-72lULL" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="thLXSgELr6" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Supress warnings for a neater notebook
warnings.filterwarnings(&quot;ignore&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="2nOMunmtCAeSgAPPMzTJt" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="CbWEgOK71Y" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Add plot to the Jupyter Notebook
%matplotlib inline</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="weZoijfpMfL02CCY1-75a" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="emmAGgtixp" class="relative group/block"><h2 id="define-required-eotask" class="relative group"><span class="heading-text">Define required EOTask</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#define-required-eotask" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In the following cell, we will create self-defined EOTasks which will be used in this example.</p></div><div id="lq888qiNNt" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Define a task using ZipFeatureTask
class AddValidDataMaskTask(ZipFeatureTask):
    def zip_method(self, *mask):
        return np.logical_and(
            mask[0].astype(bool), # 0 to False and 1 to True
            np.logical_not((mask[1] != 0).astype(bool)) # CLM==1 or CLM==255 (clouds and no data) to False CLM==0 (clear) to True
        )

class AddSpatioTemporalFeaturesTask(EOTask):
    &quot;&quot;&quot;Task that implements and adds to eopatch the spatio-temporal features proposed in [1].

    This task assumes that the argmax/argmin of NDVI, NDVI slope and B4 are present in eopatch. The computed
    spatio-temporal features correspond to the concatenation of reflectance (green, red, near-infrared and short-wave
    infrared in [1]) values taken at dates where:

    1) NDVI is maximum
    2) NDVI is minimum
    3) red reflectances are maximum
    4) NDVI slope is maximum
    5) NDVI slope is minimum

    The features are added to the `data_timeless` attribute dictionary of eopatch.

    [1] Waldner et al. &quot;Automated annual cropland mapping using knowledge-based temporal features&quot;, ISPRS Journal of
    Photogrammetry and Remote Sensing, 2015

    &quot;&quot;&quot;

    def __init__(
        self,
        argmax_ndvi=&quot;ARGMAX_NDVI&quot;,
        argmin_ndvi=&quot;ARGMIN_NDVI&quot;,
        argmax_red=&quot;ARGMAX_B4&quot;,
        argmax_ndvi_slope=&quot;ARGMAX_NDVI_SLOPE&quot;,
        argmin_ndvi_slope=&quot;ARGMIN_NDVI_SLOPE&quot;,
        feats_feature=&quot;STF&quot;,
        data_feature=&quot;BANDS-S2-L1C&quot;,
        indices=None,
    ):
        &quot;&quot;&quot;Class constructor

        Initialisation of task variables. The name of the dictionary keys that will be used for the computation of the
        features needs to be specified. These features are assumed to be existing in the eopatch. The indices of the
        reflectances to be used as features is an input parameter. If `None` is used, the data attribute is supposed to
        have 13 bands and indices for green/red/infrared/short-wave-infrared are used.

        :param argmax_ndvi: Name of `argmax_ndvi` feature in eopatch. Default is `&#x27;ARGMAX_NDVI&#x27;`
        :param argmin_ndvi: Name of `argmin_ndvi` feature in eopatch. Default is `&#x27;ARGMIN_NDVI&#x27;`
        :param argmax_red: Name of `argmax_red` feature in eopatch. Default is `&#x27;ARGMAX_B4&#x27;`
        :param argmax_ndvi_slope: Name of `argmax_ndvi_slope` feature in eopatch. Default is `&#x27;ARGMAX_NDVI_SLOPE&#x27;`
        :param argmin_ndvi_slope: Name of `argmin_ndvi_slope` feature in eopatch. Default is `&#x27;ARGMIN_NDVI_SLOPE&#x27;`
        :param feats_feature: Name of feature containing spatio-temporal features. Default is `&#x27;STF&#x27;`
        :param data_feature: Name of feature containing the reflectances to be used as features. Default is
            `&#x27;BANDS-S2-L1C&#x27;`
        :param indices: List of indices from `data_feature` to be used as features. Default is `None`, corresponding to
            [2, 3, 7, 11] indices
        &quot;&quot;&quot;
        self.argmax_ndvi = argmax_ndvi
        self.argmin_ndvi = argmin_ndvi
        self.argmax_red = argmax_red
        self.argmax_ndvi_slope = argmax_ndvi_slope
        self.argmin_ndvi_slope = argmin_ndvi_slope
        self.feats_feature = feats_feature
        self.data_feature = data_feature
        if indices is None:
            indices = [2, 3, 7, 11]
        self.indices = indices

    def execute(self, eopatch: EOPatch) -&gt; EOPatch:
        &quot;&quot;&quot;Compute spatio-temporal features for input eopatch

        :param eopatch: Input eopatch
        :return: eopatch with computed spatio-temporal features
        &quot;&quot;&quot;
        # pylint: disable=invalid-name
        amax_ndvi, amin_ndvi = eopatch.data_timeless[self.argmax_ndvi], eopatch.data_timeless[self.argmin_ndvi]
        amax_ndvi_slope = eopatch.data_timeless[self.argmax_ndvi_slope]
        amin_ndvi_slope = eopatch.data_timeless[self.argmin_ndvi_slope]
        amax_red = eopatch.data_timeless[self.argmax_red]

        stf_idx = [amax_ndvi, amin_ndvi, amax_ndvi_slope, amin_ndvi_slope, amax_red]

        bands = eopatch.data[self.data_feature][..., self.indices]

        _, h, w, _ = bands.shape
        hh, ww = np.ogrid[:h, :w]
        stf = np.concatenate([bands[ii.squeeze(), hh, ww] for ii in stf_idx if ii is not None], axis=-1)

        eopatch.data_timeless[self.feats_feature] = stf

        return eopatch


class AddMaxMinTemporalIndicesTask(EOTask):
    &quot;&quot;&quot;Task to compute temporal indices of the maximum and minimum of a data feature

    This class computes the `argmax` and `argmin` of a data feature in the input eopatch (e.g. NDVI, B4). The data
    can be masked out by setting the `mask_data` flag to `True`. In that case, the `&#x27;VALID_DATA&#x27;` mask feature is
    used for masking. If `mask_data` is `False`, the data is masked using the `&#x27;IS_DATA&#x27;` feature.

    Two new features are added to the `data_timeless` attribute.
    &quot;&quot;&quot;

    def __init__(
        self,
        data_feature=&quot;NDVI&quot;,
        data_index=None,
        amax_data_feature=&quot;ARGMAX_NDVI&quot;,
        amin_data_feature=&quot;ARGMIN_NDVI&quot;,
        mask_data=True,
    ):
        &quot;&quot;&quot;Task constructor

        :param data_feature: Name of the feature in data used for computation of max/min. Default is `&#x27;NDVI&#x27;`
        :param data_index: Index of to be extracted from last dimension in `data_feature`. If None, last dimension of
            data array is assumed ot be of size 1 (e.g. as in NDVI). Default is `None`
        :param amax_data_feature: Name of feature to be associated to computed feature of argmax values
        :param amin_data_feature: Name of feature to be associated to computed feature of argmin values
        :param mask_data: Flag specifying whether to mask data with `&#x27;VALID_DATA&#x27;` mask. If `False`, the `&#x27;IS_DATA&#x27;`
            mask is used
        &quot;&quot;&quot;
        self.data_feature = data_feature
        self.data_index = data_index
        self.mask_data = mask_data
        self.amax_feature = amax_data_feature
        self.amin_feature = amin_data_feature

    def execute(self, eopatch: EOPatch) -&gt; EOPatch:
        &quot;&quot;&quot;Compute argmax/argmin of specified `data_feature` and `data_index`

        :param eopatch: Input eopatch
        :return: eopatch with added argmax/argmin features
        &quot;&quot;&quot;
        valid_data_mask = eopatch.mask[&quot;VALID_DATA&quot;] if self.mask_data else eopatch.mask[&quot;IS_DATA&quot;]

        data = (
            eopatch.data[self.data_feature]
            if self.data_index is None
            else eopatch.data[self.data_feature][..., self.data_index][..., np.newaxis]
        )

        madata = np.ma.array(data, dtype=np.float32, mask=np.logical_or(~valid_data_mask.astype(bool), np.isnan(data)))

        argmax_data = np.ma.MaskedArray.argmax(madata, axis=0)
        argmin_data = np.ma.MaskedArray.argmin(madata, axis=0)

        if argmax_data.ndim == 2:
            argmax_data = argmax_data.reshape(argmax_data.shape + (1,))

        if argmin_data.ndim == 2:
            argmin_data = argmin_data.reshape(argmin_data.shape + (1,))

        eopatch.data_timeless[self.amax_feature] = argmax_data
        eopatch.data_timeless[self.amin_feature] = argmin_data

        return eopatch


class AddMaxMinNDVISlopeIndicesTask(EOTask):
    &quot;&quot;&quot;Task to compute the argmax and argmin of the NDVI slope

    This task computes the slope of the NDVI feature using central differences. The NDVI feature can be masked using the
    `&#x27;VALID_DATA&#x27;` mask. Current implementation loops through every location of eopatch, and is therefore slow.

    The NDVI slope at date t is computed as $(NDVI_{t+1}-NDVI_{t-1})/(date_{t+1}-date_{t-1})$.
    &quot;&quot;&quot;

    def __init__(
        self,
        data_feature=&quot;NDVI&quot;,
        argmax_feature=&quot;ARGMAX_NDVI_SLOPE&quot;,
        argmin_feature=&quot;ARGMIN_NDVI_SLOPE&quot;,
        mask_data=True,
    ):
        &quot;&quot;&quot;Task constructor

        :param data_feature: Name of data feature with NDVI values. Default is `&#x27;NDVI&#x27;`
        :param argmax_feature: Name of feature with computed argmax values of the NDVI slope
        :param argmin_feature: Name of feature with computed argmin values of the NDVI slope
        :param mask_data: Flag for masking NDVI data. Default is `True`
        &quot;&quot;&quot;
        self.data_feature = data_feature
        self.argmax_feature = argmax_feature
        self.argmin_feature = argmin_feature
        self.mask_data = mask_data

    def execute(self, eopatch: EOPatch) -&gt; EOPatch:
        &quot;&quot;&quot;Computation of NDVI slope using finite central differences

        This implementation loops through every spatial location, considers the valid NDVI values and approximates their
        first order derivative using central differences. The argument of min and max is added to the eopatch.

        The NDVI slope at date t is computed as $(NDVI_{t+1}-NDVI_{t-1})/(date_{t+1}-date_{t-1})$.

        :param eopatch: Input eopatch
        :return: eopatch with NDVI slope argmin/argmax features
        &quot;&quot;&quot;
        # pylint: disable=invalid-name
        if self.mask_data:
            valid_data_mask = eopatch.mask[&quot;VALID_DATA&quot;]
        else:
            valid_data_mask = eopatch.mask[&quot;IS_DATA&quot;]

        ndvi = np.ma.array(eopatch.data[self.data_feature], dtype=np.float32, mask=~valid_data_mask.astype(bool))

        all_dates = np.asarray([x.toordinal() for x in eopatch.timestamps])

        if ndvi.ndim == 4:
            h, w = ndvi.shape[1:3]
        else:
            raise ValueError(f&quot;{self.data_feature} feature has incorrect number of dimensions&quot;)

        argmax_ndvi_slope, argmin_ndvi_slope = np.zeros((h, w, 1), dtype=np.uint8), np.zeros((h, w, 1), dtype=np.uint8)

        for ih, iw in it.product(range(h), range(w)):
            ndvi_curve = ndvi[:, ih, iw, :]
            valid_idx = np.where(~ndvi.mask[:, ih, iw])[0]

            ndvi_curve = ndvi_curve[valid_idx]
            valid_dates = all_dates[valid_idx]

            ndvi_slope = np.convolve(ndvi_curve.squeeze(), [1, 0, -1], &quot;valid&quot;) / np.convolve(
                valid_dates, [1, 0, -1], &quot;valid&quot;
            )

            # +1 to compensate for the &#x27;valid&#x27; convolution which eliminates first and last
            argmax_ndvi_slope[ih, iw] = valid_idx[np.argmax(ndvi_slope) + 1]
            argmin_ndvi_slope[ih, iw] = valid_idx[np.argmin(ndvi_slope) + 1]

            del ndvi_curve, valid_idx, valid_dates, ndvi_slope

        eopatch.data_timeless[self.argmax_feature] = argmax_ndvi_slope
        eopatch.data_timeless[self.argmin_feature] = argmin_ndvi_slope

        return eopatch</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="nJprqEXLmMRcVn3hWaRCi" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="T8ZcIqlbwi" class="relative group/block"><p><strong>Quick tip:</strong></p><p><code>SentinelHubInputTask()</code>, <code>NormalizedDifferenceIndexTask()</code>, <code>AddMaxMinTemporalIndicesTask()</code>, <code>AddMaxMinTemporalIndicesTask()</code>, <code>AddMaxMinNDVISlopeIndicesTask()</code>, <code>AddSpatioTemporalFeaturesTask()</code>, <code>SaveTask()</code>, <code>OutputTask</code> are self-defined EOTasks performing the tasks listed above. You can also defined your own <code>EOTask</code> as shown below:</p><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm bg-stone-200/10"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class FooTask(EOTask):
    def __init__(self, foo_param):
        self.foo_param = foo_param
        
    def execute(self, eopatch, *, patch_specific_param):
        # do what foo does on input eopatch and return it
        return eopatch</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>For more detail and other pre-defined functions please refer to our <code>eo-learn</code> <a target="_blank" rel="noreferrer" href="https://eo-learn.readthedocs.io/en/latest/eolearn.html" class="">documentation</a>.</p></div><div id="R38FHiJeFK" class="relative group/block"><h4 id="credentials" class="relative group"><span class="heading-text">Credentials</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#credentials" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Credentials for Sentinel Hub services are automatically injected as environement variables. It is therefore easy to populate Sentinel Hub’s credential manager with the values.</p></div><div id="Or0NSweol5" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Pass Sentinel Hub credentials to SHConfig
config = SHConfig()
config.sh_client_id = os.environ[&quot;SH_CLIENT_ID&quot;]
config.sh_client_secret = os.environ[&quot;SH_CLIENT_SECRET&quot;]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="-DORGJiTVUDTP3T9fcsdt" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Ogydahly2A" class="relative group/block"><h2 id="create-an-eoworkflow" class="relative group"><span class="heading-text">Create an <code>EOWorkflow</code></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#create-an-eoworkflow" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In the following cell, we will create an <code>EOWorkflow</code> implementing the spatiotemporal features proposed by <em>Waldner et al., 2015</em> [1].</p><p>The workflow consists of:</p><ul><li>a task to download Sentinel-2 data</li><li>a task to calculate NDVI</li><li>a task to generate valid data mask</li><li>a task to compute the argmax and argmin of NDVI</li><li>a task to compute the argmax and argmin of the red band</li><li>a task to compute the argmax and argmin of NDVI slope</li><li>a task to compute spatiotemporal features correspond to the concatenation of reflectance (green, red, NIR and SWIR) values taken at dates where:<ul><li>NDVI is maximum</li><li>NDVI is minimum</li><li>red reflectance are maximum</li><li>NDVI slope is maximum</li><li>NDVI slope is minimum</li></ul></li><li>a task to save the given <code>EOPatch</code> to a filesystem</li><li>a task to keep the eo-patch in memory after the completion of the workflow</li></ul><p>After each task is defined as an <code>EOTask</code>, we can wrap <code>EOTasks</code> into <code>EONodes</code> and assemble all <code>EONodes</code> to form an <code>EOWorkflow</code> ready to be executed.</p><p>[1] Waldner et al. “Automated Annual Cropland Mapping Using Knowledge-based Temporal Features”, 2015 ISPRS Journal of Photogrammetrz and Remote Sensing.</p></div><div id="OAQNkW0U1k" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Define `EOTasks`
add_data_task = SentinelHubInputTask(
    data_collection = DataCollection.SENTINEL2_L1C, 
    bands_feature=(FeatureType.DATA, &#x27;BANDS-S2-L1C&#x27;),
    time_difference = timedelta(hours=2),
    resolution=20,
    additional_data = [
        (FeatureType.MASK, &#x27;CLM&#x27;),
        (FeatureType.MASK, &#x27;dataMask&#x27;, &#x27;IS_DATA&#x27;), # assigning &#x27;dataMask&#x27; band to &#x27;IS_DATA&#x27;
    ],
    config=config
)

ndvi_task = NormalizedDifferenceIndexTask(
    input_feature=(FeatureType.DATA, &#x27;BANDS-S2-L1C&#x27;),
    output_feature=(FeatureType.DATA, &#x27;NDVI&#x27;),
    bands = [7,2]    
)

add_valmask = AddValidDataMaskTask({FeatureType.MASK: [&#x27;IS_DATA&#x27;, &#x27;CLM&#x27;]}, (FeatureType.MASK, &#x27;VALID_DATA&#x27;))

add_maxmin_ndvi = AddMaxMinTemporalIndicesTask(mask_data=True)

add_maxmin_red = AddMaxMinTemporalIndicesTask(data_feature=&#x27;BANDS-S2-L1C&#x27;, 
                                              data_index=3, 
                                              amax_data_feature=&#x27;ARGMAX_B4&#x27;,
                                              amin_data_feature=&#x27;ARGMIN_B4&#x27;,
                                              mask_data=True)

add_maxmin_ndvi_sl = AddMaxMinNDVISlopeIndicesTask()

add_stf = AddSpatioTemporalFeaturesTask()

save_task = SaveTask(&#x27;./stf&#x27;, overwrite_permission=1, compress_level=0)

output_task = OutputTask(&quot;eopatch&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="2b-01nbCZU3ZcVGll1eZF" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="vgPylcNyHi" class="relative group/block"><p>Next, we can wrap <code>EOTasks</code> into <code>EONode</code>, join all the <code>EONodes</code> together into an acyclic executable <code>EOWorkflow</code>, and visualize it with <code>dependency_graph()</code> function. Below demonstrates the most comprehensive way to build a <code>EOWorkflow</code>. Other simplified methods can be found in the <a target="_blank" rel="noreferrer" href="https://eo-learn.readthedocs.io/en/latest/examples/core/CoreOverview.html#EONode-and-EOWorkflow" class="">documentation</a>.</p></div><div id="qpMeBXBa21" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Wrap `EOTasks` into `EONode`
add_data_node = EONode(add_data_task, inputs=[], name=&quot;Sentinel Hub Input Task&quot;)
ndvi_node = EONode(ndvi_task, inputs=[add_data_node], name=&quot;Compute NDVI Task&quot;)
add_valmask_node = EONode(add_valmask, inputs=[ndvi_node], name=&quot;Add Valid Mask Task&quot;)
add_maxmin_ndvi_node = EONode(add_maxmin_ndvi, inputs=[add_valmask_node], name=&quot;Add MaxMin NDVI Task&quot;)
add_maxmin_red_node = EONode(add_maxmin_red, inputs=[add_maxmin_ndvi_node], name=&quot;Add ArgMaxMin Red Task&quot;)
add_maxmin_ndvi_sl_node = EONode(add_maxmin_ndvi_sl, inputs=[add_maxmin_red_node], name=&quot;Add MaxMin NDVI Slope Task&quot;)
add_stf_node = EONode(add_stf, inputs=[add_maxmin_ndvi_sl_node], name=&quot;Add Spatiotemporal Features Task&quot;)
save_task_node = EONode(save_task, inputs=[add_stf_node], name=&quot;Save Task&quot;)
output_node = EONode(output_task, inputs=[save_task_node], name=&quot;Output EOPatch&quot;)

# Assemble `EOTasks` to an `EOWorkflow`
workflow = EOWorkflow(
    [
        add_data_node,
        ndvi_node,
        add_valmask_node,
        add_maxmin_ndvi_node,
        add_maxmin_red_node,
        add_maxmin_ndvi_sl_node,
        add_stf_node,
        save_task_node,
        output_node
    ]
)


# Visualize the `EOWorkflow`
workflow.dependency_graph()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="mc_FfW4O9h3lZ4LBLZoT-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="X6mgdlEo6m" class="relative group/block"><p>Now we need to define an area of interest and a time interval for the implementation of our <code>EOWorkflow</code>.</p></div><div id="K5FGJLoAeA" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Define the area of interest and time interval
aoi_bbox = BBox(bbox=[5.60, 52.68, 5.75, 52.63], crs=CRS.WGS84)
time_interval = (&#x27;2017-04-01&#x27;, &#x27;2017-10-31&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="iIQCiuM4RxNvWCPMfdy_b" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ziiYYGO5FZ" class="relative group/block"><p>Finally, we execute the workflow in the following cell.</p></div><div id="oyTlObvwe8" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">result = workflow.execute({
    add_data_node: {&#x27;bbox&#x27;: aoi_bbox, &#x27;time_interval&#x27;: time_interval},
    save_task_node: {&#x27;eopatch_folder&#x27;: &#x27;eopatch&#x27;}
})</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Yg7azQjNev_eEIr4NwpUA" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="briYQlhruT" class="relative group/block"><h2 id="visualize-the-eopatch-output-from-the-eoworkflow" class="relative group"><span class="heading-text">Visualize the <code>EOPatch</code> output from the <code>EOWorkflow</code></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#visualize-the-eopatch-output-from-the-eoworkflow" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Once the <code>EOWorkflow</code> is run and done processing, we can open the result as an <code>EOPatch</code>. The following cell shows the way to open the results of an <code>EOWorkflow</code> as an <code>EOPatch</code> and the structure of EO data stored inside it.</p></div><div id="M9sQG5LogO" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Open data output from `EOWorkflow`
# The key of outputs is defined by OutputTask()
eop = result.outputs[&quot;eopatch&quot;]
eop</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="vwZlynvryTpY1ymQr-zGd" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="font-mono text-sm whitespace-pre-wrap"><code><span>EOPatch(
  bbox=BBox(((5.6, 52.63), (5.75, 52.68)), crs=CRS(&#x27;4326&#x27;))
  timestamps=[datetime.datetime(2017, 4, 3, 10, 41, 38), ..., datetime.datetime(2017, 10, 30, 10, 41, 50)], length=66
  data_timeless={
    ARGMAX_B4: numpy.ndarray(shape=(297, 497, 1), dtype=int64)
    ARGMAX_NDVI: numpy.ndarray(shape=(297, 497, 1), dtype=int64)
    ARGMAX_NDVI_SLOPE: numpy.ndarray(shape=(297, 497, 1), dtype=uint8)
    ARGMIN_B4: numpy.ndarray(shape=(297, 497, 1), dtype=int64)
    ARGMIN_NDVI: numpy.ndarray(shape=(297, 497, 1), dtype=int64)
    ARGMIN_NDVI_SLOPE: numpy.ndarray(shape=(297, 497, 1), dtype=uint8)
    STF: numpy.ndarray(shape=(297, 497, 20), dtype=float32)
  }
  mask={
    CLM: numpy.ndarray(shape=(66, 297, 497, 1), dtype=uint8)
    IS_DATA: numpy.ndarray(shape=(66, 297, 497, 1), dtype=bool)
    VALID_DATA: numpy.ndarray(shape=(66, 297, 497, 1), dtype=bool)
  }
  data={
    BANDS-S2-L1C: numpy.ndarray(shape=(66, 297, 497, 13), dtype=float32)
    NDVI: numpy.ndarray(shape=(66, 297, 497, 1), dtype=float32)
  }
)</span></code></div></div></div><div id="zYn1SmCJl0" class="relative group/block"><h3 id="valid-data-mask" class="relative group"><span class="heading-text"><code>VALID_DATA</code> mask</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#valid-data-mask" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Below we visualize how a valid data mask is generated. <a target="_blank" rel="noreferrer" href="https://eo-learn.readthedocs.io/en/latest/eolearn.core.core_tasks.html#eolearn.core.core_tasks.ZipFeatureTask" class=""><code>ZipFeatureTask</code></a> allows us to feed in a self-defined formula that takes multiple inputs and returns a single output. In this Jupyter Notebook we define <code>AddValidDataMaskTask()</code> on the top of <code>ZipFeatureTask</code> to combine <code>IS_DATA</code> (taken from <a target="_blank" rel="noreferrer" href="https://docs.sentinel-hub.com/api/latest/user-guides/datamask/" class="">dataMask</a>) and <code>CLM</code> (see <a target="_blank" rel="noreferrer" href="https://docs.sentinel-hub.com/api/latest/user-guides/cloud-masks/" class="">description</a>) to form the <code>VALID_DATA</code> mask. Pixel values are valid only if <code>IS_DATA</code> is <code>True</code> (there is data) and <code>CLM</code> is <code>False</code> (no clouds).</p></div><div id="cdai7z5rqe" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ts_idx = 5

subplot_kw = {&#x27;xticks&#x27;: [], &#x27;yticks&#x27;: [], &#x27;frame_on&#x27;: True}
fig, axs = plt.subplots(nrows=1, ncols=3, figsize=(15,5), subplot_kw=subplot_kw)

ax = axs[0]
ax.imshow(eop.mask[&#x27;IS_DATA&#x27;][ts_idx].squeeze(), vmin=0, vmax=1, cmap=&#x27;gray&#x27;)
ax.set_title(&#x27;IS_DATA&#x27;)

ax = axs[1]
ax.imshow(eop.mask[&#x27;CLM&#x27;][ts_idx].squeeze(),  vmin=0, vmax=1, cmap=&#x27;gray&#x27;)
ax.set_title(&#x27;CLM&#x27;)

ax = axs[2]
im = ax.imshow(eop.mask[&#x27;VALID_DATA&#x27;][ts_idx].squeeze(),
               cmap=ListedColormap([&#x27;#000000&#x27;, &#x27;#ffffff&#x27;]), 
               norm=BoundaryNorm([-0.5, 0.5, 1.5], 2))
ax.set_title(&#x27;VALID_DATA&#x27;)

cb = fig.colorbar(im, ax=axs.ravel().tolist(), orientation=&#x27;horizontal&#x27;, pad=0.05, aspect=100)
cb.set_ticks([0,1])
cb.ax.set_xticklabels([False, True], fontsize=12);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="dsbP2_no7i2G4k15ZGiM-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/example-viewer/build/c134dd61d3d909d222b9395001d39838.png" alt="&lt;Figure size 1500x500 with 4 Axes&gt;"/></div></div><div id="GCGdW5J8vB" class="relative group/block"><h3 id="cloud-cover" class="relative group"><span class="heading-text">Cloud cover</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#cloud-cover" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We can also calculate the cloud cover percentage and visualize its changes along the timestamps of data.</p></div><div id="G45GZEp4IJ" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># cloud coverage
cc = [np.sum(x)/(np.prod(x.shape)) for x in eop.mask[&#x27;CLM&#x27;]]

fix, ax = plt.subplots(1,1,figsize=(15,5))
plt.plot(eop.timestamp, cc, &#x27;*--&#x27;)
plt.ylabel(&#x27;Cloud coverage&#x27;)
plt.xlabel(&#x27;Time&#x27;)
plt.title(&#x27;Cloud coverage over an area in the Netherlands - 2017&#x27;);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="H-gQvDS81KwZLegEu6ZXv" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/example-viewer/build/834608f61d2e97d9b5157e7101676ff5.png" alt="&lt;Figure size 1500x500 with 1 Axes&gt;"/></div></div><div id="XPCgR3EvE2" class="relative group/block"><h3 id="spatiotemporal-features-of-a-specific-field" class="relative group"><span class="heading-text">Spatiotemporal features of a specific field</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#spatiotemporal-features-of-a-specific-field" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>If we’re looking into a specific field, it is easy to slice the field out of the <code>EOPatch</code> and visualize its NDVI variation thourghout the timestamps.</p></div><div id="zLdoGMUF1k" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">field_mask = (slice(None), slice(227, 241), slice(314,330))
ndvi_patch = eop.data[&#x27;NDVI&#x27;][field_mask].squeeze(-1)

fix, axs = plt.subplots(1,2,figsize=(20,8))

ax = axs[0]
ax.imshow(ndvi_patch[20])
ax.set_aspect(&#x27;auto&#x27;)

ax = axs[1]
mean = np.mean(ndvi_patch, axis=(1,2))
std = np.std(ndvi_patch, axis=(1,2))
ax.plot(eop.timestamp, mean, color=&#x27;g&#x27;, label=&#x27;NDVI&#x27;)
ax.fill_between(eop.timestamp, mean-std, mean+std, alpha=0.2, color=&#x27;g&#x27;);
ax.set_aspect(&#x27;auto&#x27;)

plt.legend(fontsize=15);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="uF68pmUjD7cB0DDZTpXBq" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/example-viewer/build/68ffbed2eb5352105cef0cae0e694064.png" alt="&lt;Figure size 2000x800 with 2 Axes&gt;"/></div></div><div id="lUaIq6Rnoz" class="relative group/block"><h3 id="distribution-of-temporal-indices" class="relative group"><span class="heading-text">Distribution of temporal indices</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#distribution-of-temporal-indices" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>In the following cell we visualize the distribution of temporal indices having the maximum or minimum values of NDVI features, which gives an overview on when most of the fields have maximum or minimum values of NDVI features.</p></div><div id="cb3RBm4DM6" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">subplot_kw = {&#x27;xticks&#x27;: [], &#x27;yticks&#x27;: [], &#x27;frame_on&#x27;: True}
fig, axs = plt.subplots(nrows = 2, ncols = 3, figsize=(20,8), subplot_kw = subplot_kw)

ax = axs[0,0]
im = ax.imshow(eop.data_timeless[&#x27;ARGMAX_NDVI&#x27;].squeeze())
ax.set_title(&quot;Temporal indices for argmax NDVI - no interpolation&quot;, fontsize=15)
divider = make_axes_locatable(ax)
cax = divider.append_axes(&quot;right&quot;, size=&quot;2%&quot;, pad=0.05)
fig.colorbar(im, cax=cax)

ax = axs[0,1]
im = ax.imshow(eop.data_timeless[&#x27;ARGMIN_NDVI&#x27;].squeeze())
ax.set_title(&quot;Temporal indices for argmin NDVI - no interpolation&quot;, fontsize=15)
divider = make_axes_locatable(ax)
cax = divider.append_axes(&quot;right&quot;, size=&quot;2%&quot;, pad=0.05)
fig.colorbar(im, cax=cax)

ax = axs[0,2]
im = ax.imshow(eop.data_timeless[&#x27;ARGMAX_NDVI_SLOPE&#x27;].squeeze())
ax.set_title(&quot;Temporal indices for argmax NDVI slope&quot;, fontsize=15)
divider = make_axes_locatable(ax)
cax = divider.append_axes(&quot;right&quot;, size=&quot;2%&quot;, pad=0.05)
fig.colorbar(im, cax=cax)

ax = axs[1,1]
im = ax.imshow(eop.data_timeless[&#x27;ARGMIN_NDVI_SLOPE&#x27;].squeeze())
ax.set_title(&quot;Temporal indices for argmin NDVI slope&quot;, fontsize=15)
divider = make_axes_locatable(ax)
cax = divider.append_axes(&quot;right&quot;, size=&quot;2%&quot;, pad=0.05)
fig.colorbar(im, cax=cax)

ax = axs[1,0]
im = ax.imshow(eop.data_timeless[&#x27;ARGMAX_B4&#x27;].squeeze())
ax.set_title(&quot;Temporal indices for argmax red&quot;, fontsize=15)
divider = make_axes_locatable(ax)
cax = divider.append_axes(&quot;right&quot;, size=&quot;2%&quot;, pad=0.05)
fig.colorbar(im, cax=cax)

ax = axs[1,2]
ax.axis(False);

plt.tight_layout()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="aQj0tXGxz9TXg5ScbZ9G4" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/example-viewer/build/4d5a69e678d0e25dd5f087869352d932.png" alt="&lt;Figure size 2000x800 with 11 Axes&gt;"/></div></div><div id="CTZJee0wUI" class="relative group/block"><h3 id="false-color-images-of-ndvi-features" class="relative group"><span class="heading-text">False color images of NDVI features</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#false-color-images-of-ndvi-features" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Traditionally a combination of infrared-red-green false color image is useful for vegetation monitoring. Below we visualize the false color images of NDVI features to have an overview on vegetation changes during a crop cycle.</p></div><div id="Ez6CU42Snt" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">subplot_kw = {&#x27;xticks&#x27;: [], &#x27;yticks&#x27;: [], &#x27;frame_on&#x27;: True}
fig, axs = plt.subplots(nrows = 2, ncols = 3, figsize=(20,10), subplot_kw = subplot_kw)

ax = axs[0,0]
ax.imshow(np.clip(eop.data_timeless[&#x27;STF&#x27;][:,:,[2,1,0]], 0, 1))
ax.set_title(&quot;IR-R-G reflectances for argmax NDVI&quot;, fontsize=15)

ax = axs[0,1]
ax.imshow(np.clip(eop.data_timeless[&#x27;STF&#x27;][:,:,[6,5,4]], 0, 1))
ax.set_title(&quot;IR-R-G reflectances for argmin NDVI&quot;, fontsize=15)

ax = axs[0,2]
ax.imshow(np.clip(eop.data_timeless[&#x27;STF&#x27;][:,:,[10,9,8]], 0, 1))
ax.set_title(&quot;IR-R-G reflectances for argmax NDVI slope&quot;, fontsize=15)

ax = axs[1,1]
ax.imshow(np.clip(eop.data_timeless[&#x27;STF&#x27;][:,:,[14,13,12]], 0, 1))
ax.set_title(&quot;IR-R-G reflectances for argmin NDVI slope&quot;, fontsize=15)

ax = axs[1,0]
ax.imshow(np.clip(eop.data_timeless[&#x27;STF&#x27;][:,:,[18,17,16]], 0, 1))
ax.set_title(&quot;IR-R-G reflectances for argmax red&quot;, fontsize=15);

ax = axs[1,2]
ax.axis(False);

plt.tight_layout()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="lQCnaQvwdrKNlHh9Ynd1f" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/example-viewer/build/982dd91fd1d666c53814aa8b7146b2fb.png" alt="&lt;Figure size 2000x1000 with 6 Axes&gt;"/></div></div><div id="LJ4UyvGIIT" class="relative group/block"><h2 id="load-an-existing-eopatch-from-a-filesystem-to-build-another-eoworkflow" class="relative group"><span class="heading-text">Load an existing <code>EOPatch</code> from a filesystem to build another <code>EOWorkflow</code></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#load-an-existing-eopatch-from-a-filesystem-to-build-another-eoworkflow" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In the previous processing chain, we calculated spatiotemporal indices via masking out invalid data which could lead to data gaps within the time interval. From a machine learning perspective, we train models to recognize features of indices’ temporal changes, meaning that data gaps should be avoided. One way to solve this problem is to create a homogenous temporal data-stack using interpolation. Since the changes of vegetation is usually a slow process over time, it is reasonable to implement a linear interpolation to fill up the missing data to make our data better for ML training. Here we will show how to build another <code>EOWorkflow</code> to implement interpolation before calculating spatiotemporal indices in a few steps:</p><ul><li>Load the previously saved <code>EOPatch</code></li><li>Define <code>EOTasks</code> implementing interpolation</li><li>Wrap <code>EOTasks</code> into <code>EONodes</code></li><li>Build a new <code>EOWorkflow</code> from <code>EONodes</code></li></ul></div><div id="sDCPiNUekR" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Load existing `EOPatch`
load_task = LoadTask(&#x27;./stf/&#x27;)

# Define new `EOTasks`
interp_ndvi = LinearInterpolationTask((FeatureType.DATA, &#x27;NDVI&#x27;), mask_feature=(FeatureType.MASK, &#x27;VALID_DATA&#x27;))

interp_bands = LinearInterpolationTask((FeatureType.DATA, &#x27;BANDS-S2-L1C&#x27;), mask_feature=(FeatureType.MASK, &#x27;VALID_DATA&#x27;))

add_maxmin_ndvi = AddMaxMinTemporalIndicesTask(mask_data=False)

add_maxmin_red = AddMaxMinTemporalIndicesTask(data_feature=&#x27;BANDS-S2-L1C&#x27;, 
                                              data_index=3, 
                                              amax_data_feature=&#x27;ARGMAX_B4&#x27;,
                                              amin_data_feature=&#x27;ARGMIN_B4&#x27;,
                                              mask_data=False)

add_maxmin_ndvi_sl = AddMaxMinNDVISlopeIndicesTask()

add_stf = AddSpatioTemporalFeaturesTask()

output = OutputTask(&quot;interp_eopatch&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="cqLL2hZqEBupvXm6GjKxV" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ikNdKZE2Kd" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Wrap `EOTasks` into `EONodes`
load_node = EONode(load_task, inputs=[], name=&quot;Load EOPatch&quot;)
interp_ndvi_node = EONode(interp_ndvi, inputs=[load_node], name=&quot;Interpolate NDVI Task&quot;)
interp_bands_node = EONode(interp_bands, inputs=[interp_ndvi_node], name=&quot;Interpolate Bands Task&quot;)
add_maxmin_ndvi_node = EONode(add_maxmin_ndvi, inputs=[interp_bands_node], name=&quot;Add MaxMin NDVI Task&quot;)
add_maxmin_red_node = EONode(add_maxmin_red, inputs=[add_maxmin_ndvi_node], name=&quot;Add ArgMaxMin Red Task&quot;)
add_maxmin_ndvi_sl_node = EONode(add_maxmin_ndvi_sl, inputs=[add_maxmin_red_node], name=&quot;Add MaxMin NDVI Slope Task&quot;)
add_stf_node = EONode(add_stf, inputs=[add_maxmin_ndvi_sl_node], name=&quot;Add Spatiotemporal Features Task&quot;)
output_node = EONode(output, inputs=[add_stf_node], name=&quot;Output Interpolated EOPatch&quot;)

# Assemble `EONodes` to an `EOWorkflow`
workflow_with_interp = EOWorkflow(
    [
        load_node,
        interp_ndvi_node,
        interp_bands_node,
        add_maxmin_ndvi_node,
        add_maxmin_red_node,
        add_maxmin_ndvi_sl_node,
        add_stf_node,
        output_node
    ]
)

# Visualize new `EOWorkflow`
workflow_with_interp.dependency_graph()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="yWyvLoSWavhBIpkeOXb4K" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="Yzw4mZAqVt" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Execute new `EOWorkflow`
result_with_interp = workflow_with_interp.execute({
    load_node: {&#x27;eopatch_folder&#x27;:&#x27;eopatch&#x27;}
})</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="yZrVioMchPHohyPpCmAad" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="DqqIczlNMM" class="relative group/block"><h2 id="visualize-interpolated-data" class="relative group"><span class="heading-text">Visualize interpolated data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#visualize-interpolated-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Again we can vasualize the interpolated data in the same way as demonstrated above and see how data gaps over time could affect on the features of indices’ temporal variation.</p></div><div id="dBlVAKr8DA" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Open data output from `EOWorkflow`
eop_interp = result_with_interp.outputs[&quot;interp_eopatch&quot;]
eop_interp</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="VxqCsLMrTTYSkEbq4OF8r" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="font-mono text-sm whitespace-pre-wrap"><code><span>EOPatch(
  bbox=BBox(((5.6, 52.63), (5.75, 52.68)), crs=CRS(&#x27;4326&#x27;))
  timestamps=[datetime.datetime(2017, 4, 3, 10, 41, 38), ..., datetime.datetime(2017, 10, 30, 10, 41, 50)], length=66
  data_timeless={
    ARGMAX_B4: numpy.ndarray(shape=(297, 497, 1), dtype=int64)
    ARGMAX_NDVI: numpy.ndarray(shape=(297, 497, 1), dtype=int64)
    ARGMAX_NDVI_SLOPE: numpy.ndarray(shape=(297, 497, 1), dtype=uint8)
    ARGMIN_B4: numpy.ndarray(shape=(297, 497, 1), dtype=int64)
    ARGMIN_NDVI: numpy.ndarray(shape=(297, 497, 1), dtype=int64)
    ARGMIN_NDVI_SLOPE: numpy.ndarray(shape=(297, 497, 1), dtype=uint8)
    STF: numpy.ndarray(shape=(297, 497, 20), dtype=float64)
  }
  mask={
    CLM: numpy.ndarray(shape=(66, 297, 497, 1), dtype=uint8)
    IS_DATA: numpy.ndarray(shape=(66, 297, 497, 1), dtype=bool)
    VALID_DATA: numpy.ndarray(shape=(66, 297, 497, 1), dtype=bool)
  }
  data={
    BANDS-S2-L1C: numpy.ndarray(shape=(66, 297, 497, 13), dtype=float64)
    NDVI: numpy.ndarray(shape=(66, 297, 497, 1), dtype=float64)
  }
)</span></code></div></div></div><div id="vLLpfg7xxJ" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Visualize spatiotemporal features of a specific field
field_mask = (slice(None), slice(227, 241), slice(314,330))
ndvi_patch = eop_interp.data[&#x27;NDVI&#x27;][field_mask].squeeze(-1)

fix, axs = plt.subplots(1,2,figsize=(20,8))

ax = axs[0]
ax.imshow(ndvi_patch[20])
ax.set_aspect(&#x27;auto&#x27;)

ax = axs[1]
mean = np.mean(ndvi_patch, axis=(1,2))
std = np.std(ndvi_patch, axis=(1,2))
ax.plot(eop_interp.timestamp, mean, color=&#x27;g&#x27;, label=&#x27;NDVI&#x27;)
ax.fill_between(eop_interp.timestamp, mean-std, mean+std, alpha=0.2, color=&#x27;g&#x27;);
ax.set_aspect(&#x27;auto&#x27;)

plt.legend(fontsize=15);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="rU-1OLbWYoxEEAkP6Gokj" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/example-viewer/build/af69eabd0d8ef75a87cc07d481bdcce2.png" alt="&lt;Figure size 2000x800 with 2 Axes&gt;"/></div></div><div id="KNdndIAIYJ" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Distribution of temporal indices
subplot_kw = {&#x27;xticks&#x27;: [], &#x27;yticks&#x27;: [], &#x27;frame_on&#x27;: True}
fig, axs = plt.subplots(nrows = 2, ncols = 3, figsize=(20,8), subplot_kw = subplot_kw)

ax = axs[0,0]
im = ax.imshow(eop_interp.data_timeless[&#x27;ARGMAX_NDVI&#x27;].squeeze())
ax.set_title(&quot;Temporal indices for argmax NDVI&quot;, fontsize=15)
divider = make_axes_locatable(ax)
cax = divider.append_axes(&quot;right&quot;, size=&quot;2%&quot;, pad=0.05)
fig.colorbar(im, cax=cax)

ax = axs[0,1]
im = ax.imshow(eop_interp.data_timeless[&#x27;ARGMIN_NDVI&#x27;].squeeze())
ax.set_title(&quot;Temporal indices for argmin NDVI&quot;, fontsize=15)
divider = make_axes_locatable(ax)
cax = divider.append_axes(&quot;right&quot;, size=&quot;2%&quot;, pad=0.05)
fig.colorbar(im, cax=cax)

ax = axs[0,2]
im = ax.imshow(eop_interp.data_timeless[&#x27;ARGMAX_NDVI_SLOPE&#x27;].squeeze())
ax.set_title(&quot;Temporal indices for argmax NDVI slope&quot;, fontsize=15)
divider = make_axes_locatable(ax)
cax = divider.append_axes(&quot;right&quot;, size=&quot;2%&quot;, pad=0.05)
fig.colorbar(im, cax=cax)

ax = axs[1,1]
im = ax.imshow(eop_interp.data_timeless[&#x27;ARGMIN_NDVI_SLOPE&#x27;].squeeze())
ax.set_title(&quot;Temporal indices for argmin NDVI slope&quot;, fontsize=15)
divider = make_axes_locatable(ax)
cax = divider.append_axes(&quot;right&quot;, size=&quot;2%&quot;, pad=0.05)
fig.colorbar(im, cax=cax)

ax = axs[1,0]
im = ax.imshow(eop_interp.data_timeless[&#x27;ARGMAX_B4&#x27;].squeeze())
ax.set_title(&quot;Temporal indices for argmax red&quot;, fontsize=15)
divider = make_axes_locatable(ax)
cax = divider.append_axes(&quot;right&quot;, size=&quot;2%&quot;, pad=0.05)
fig.colorbar(im, cax=cax)

ax = axs[1,2]
ax.axis(False);

plt.tight_layout()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Atd9qojP_dnhtK5sq0Umu" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/example-viewer/build/f7abb85f159b913035908b899e987bfc.png" alt="&lt;Figure size 2000x800 with 11 Axes&gt;"/></div></div><div id="NHLytoKY73" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># False color images of NDVI features
subplot_kw = {&#x27;xticks&#x27;: [], &#x27;yticks&#x27;: [], &#x27;frame_on&#x27;: True}
fig, axs = plt.subplots(nrows = 2, ncols = 3, figsize=(20,10), subplot_kw = subplot_kw)

ax = axs[0,0]
ax.imshow(np.clip(eop_interp.data_timeless[&#x27;STF&#x27;][:,:,[2,1,0]], 0, 1))
ax.set_title(&quot;IR-R-G reflectances for argmax NDVI&quot;, fontsize=15)

ax = axs[0,1]
ax.imshow(np.clip(eop_interp.data_timeless[&#x27;STF&#x27;][:,:,[6,5,4]], 0, 1))
ax.set_title(&quot;IR-R-G reflectances for argmin NDVI&quot;, fontsize=15)

ax = axs[0,2]
ax.imshow(np.clip(eop_interp.data_timeless[&#x27;STF&#x27;][:,:,[10,9,8]], 0, 1))
ax.set_title(&quot;IR-R-G reflectances for argmax NDVI slope&quot;, fontsize=15)

ax = axs[1,1]
ax.imshow(np.clip(eop_interp.data_timeless[&#x27;STF&#x27;][:,:,[14,13,12]], 0, 1))
ax.set_title(&quot;IR-R-G reflectances for argmin NDVI slope&quot;, fontsize=15)

ax = axs[1,0]
ax.imshow(np.clip(eop_interp.data_timeless[&#x27;STF&#x27;][:,:,[18,17,16]], 0, 1))
ax.set_title(&quot;IR-R-G reflectances for argmax red&quot;, fontsize=15);

ax = axs[1,2]
ax.axis(False);

plt.tight_layout()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="MD9MH_iilsTJ7-wAzSxQt" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/example-viewer/build/00ebf0fca107078f83c6fa1b8f93d144.png" alt="&lt;Figure size 2000x1000 with 6 Axes&gt;"/></div></div><div></div></main></article><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/example-viewer/build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-TMJFFFM7.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-HBJK6BW3.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-OHOXABTA.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-CPTH56EW.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-S4SWV34C.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/example-viewer/build/root-LMCDRB6W.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-GOFUXLLW.js"/><link rel="modulepreload" href="/example-viewer/build/routes/$-SJYMRUNJ.js"/><script>window.__remixContext = {"url":"/external-notebooks/eurodatacube/notebooks/notebooks/curated/eo-learn","state":{"loaderData":{"root":{"config":{"version":1,"myst":"1.3.25","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"Euro Data Cube Examples","title":"Euro Data Cube Examples","description":"Collection of example Jupyter notebooks relevant for the Euro Data Cube platform","github":"https://github.com/eurodatacube/example-viewer","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Eoxhub Workspaces","level":2},{"title":"Eoxhub Notebooks","level":3},{"slug":"external-notebooks.eoxhub-workspaces.eoxhub-notebooks.readme","title":"Euro Data Cube notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Pangeo Dask Notebooks","level":4},{"slug":"external-notebooks.eoxhub-workspaces.eoxhub-notebooks.pangeo-dask-notebooks.example-wildfires","title":"Scale your processes with Dask - hands on example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Eurodatacube","level":2},{"title":"Notebooks","level":3},{"slug":"external-notebooks.eurodatacube.notebooks.readme","title":"Jupyter notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Notebooks","level":4},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.readme","title":"Euro Data Cube Notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Contributions","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-ai4arctic-sea-ice","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-biomass-forest-observation-sys","title":"AIREO pilot dataset - Biomass (Forest Observation System)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-cap","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-spacenet7","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aot-covid19","title":"Aerosol Optical Thickness (AOT) Anomaly Detection Using Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.batch-zarr-output","title":"Generating Zarr data cubes with Sentinel Hub Batch API","description":"","date":"","thumbnail":"/example-viewer/build/68dffbf744fa42f4bf3d35e55684984e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.client-side-processing-using-mass-sh","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.cmems-data-download","title":"Cmems Data Download","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.detect-trucks-sentinel2","title":"Detect Trucks using Sentinel-2 data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.drought-monitoring","title":"Drought impact monitoring platform","description":"","date":"","thumbnail":"/example-viewer/build/ad5c19782b006f72352ae57794305840.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-africa-cube-africa-custom-contest","title":"Custom Script Contest – Urban Growth in Africa","description":"","date":"","thumbnail":"/example-viewer/build/undefined","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-byoc-tutorial","title":"How to bring your own data to EDC: Using Sentinel Hub Python package","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-demo-phi-week-v2","title":"xcube-gen and xcube-geodb Hands-On Workshop Φ-Week 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-geodb-4-eurocrops-demo","title":"Demonstration of Eurocrops data use in geoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-notebook-lstm","title":"South Africa Crop Type Classification on Euro Data Cube (EDC)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-usecase-lpis-crop-type-classification","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.eurocrops-crop-classification-example","title":"Crop-classification using Sentinel-2 time-series","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ghsl-urban-delineation","title":"\u003cb\u003eUrban delineation\u003cb\u003e","description":"","date":"","thumbnail":"/example-viewer/build/7bbf545a5eae1d9ebdb91ae42b261063.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.globalearthmonitor-example","title":"Pre-requisites","description":"","date":"","thumbnail":"/example-viewer/build/205c1ded6bd59771975a9fbd3753fd3b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gpu-support-eoxhub","title":"GPU-Support on EOxHub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gran-chaco-phiweek","title":"ESA EO \\phi- week 2020","description":"","date":"","thumbnail":"/example-viewer/build/80cee7db6cdc7002ceedda5689f889fa.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.howtolulc-batch-updated-210621","title":"How To: Land-Use-Land-Cover Prediction for Slovenia - using the Batch Processing API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lpis-lulc-slo","title":"LPIS Use Case for Land Use / Land Cover Classification","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lps2022-leverage-euro-data-cube-services","title":"Living Planet Symposium 2022 Training Session","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-analysis-covid19-lockdowns","title":"Impact of Covid19 induced lockdown on NO2 levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-so2-trend-veda-api-igarss-2023","title":"Using the NASA VEDA EOAPI","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ogc-edc","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.openeo-client-demo","title":"openEO Client Demo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.race-finishedgoodsinventory-inidcator","title":"Finished Goods Inventory indicator for RACE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.third-party-planetscope","title":"Third Party Data Import - PlanetScope","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-access-datasets","title":"Using xcube to access non-commercial and commercial data sets","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-viewer-as-a-service-in-edc1","title":"Visualizing data with xcube viewer in EuroDataCube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-evaluation-workshop","title":"DAPA Evaluation Workshop: Introduction \u0026 Documentation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-1-cube-sentinel-2","title":"DAPA Tutorial #1: Cube - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-2-area-sentinel-2","title":"DAPA Tutorial #2: Area - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-3-timeseries-sentinel-2","title":"DAPA Tutorial #3: Timeseries - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-4-value-sentinel-2","title":"DAPA Tutorial #4: Value - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-5-dem","title":"DAPA Tutorial #5: DEM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.fairicube.fairicube-data-access-demonstration","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-australian-bushfires","title":"Australian Bushfires","description":"","date":"","thumbnail":"/example-viewer/build/ab194b4f8c40a2b9d64d8a85e37ce1fd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["IGARSS-22","EO Dashboard"],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-data-access","title":"Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-detect-trucks-sentinel2","title":"Truck Detection Exercise","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-lockdown-in-venice","title":"Environmental Impacts of Lockdown in Venice, Italy during 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-nasa-api-lockdown-in-venice","title":"Lockdown in Venice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-no2-timeseries-analysis","title":"NO2 timeseries analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-timeseries-stac-api-single-vs-multi","title":"Time series using STAC API statistics endpoints","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.nightlights.night-lights-blending","title":"Monitoring socio-economic activities with nighttime light maps","description":"","date":"","thumbnail":"/example-viewer/build/fb2486d4e1708daa94616c6ae8fc4cc9.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Curated","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.access-iacs-data","title":"How to access IACS Spatial Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-access-cci-data","title":"Access CCI data with xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-first-steps","title":"First steps on the Euro Data Cube platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-1-manage-datasets-v11","title":"Manage Collections in your GeoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-2-explore-datasets-2","title":"Exploring Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-3-share-datasets1","title":"Sharing Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-access-urban-atlas-data-v1","title":"[xcube-geodb] How to accesss EEA Urban Atlas Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-data-access","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-basic","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-ndvi","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-datasets","title":"EDC Sentinel Hub - using xcube to access different data sets in Sentinel Hub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-setup","title":"Setup for EDC core API access using xcube client library","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-xcube-integration","title":"EDC Sentinel Hub - XCUBE integration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-usecase-ndvi-timeline","title":"NDVI timeline","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.eo-learn","title":"Using eo-learn in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/example-viewer/build/5a1f8475f0c3652f4630d03d72891b98.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.esdl-edc-v0-2","title":"Earth System Data Lab Tutorial @ Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.exploring-time-and-space-with-edc","title":"Exploring Time and Space: A guide to accessing, analysing and visualising data in the Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.how-to-access-dem-data-through-sentinel-hub-api","title":"How to access DEM data through Sentinel Hub API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.sentinelhub-py","title":"Using Sentinel Hub Process API in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/example-viewer/build/01e22903839391bc356ac886ec2b2fa7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/example-viewer"},"routes/$":{"config":{"version":1,"myst":"1.3.25","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"Euro Data Cube Examples","title":"Euro Data Cube Examples","description":"Collection of example Jupyter notebooks relevant for the Euro Data Cube platform","github":"https://github.com/eurodatacube/example-viewer","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Eoxhub Workspaces","level":2},{"title":"Eoxhub Notebooks","level":3},{"slug":"external-notebooks.eoxhub-workspaces.eoxhub-notebooks.readme","title":"Euro Data Cube notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Pangeo Dask Notebooks","level":4},{"slug":"external-notebooks.eoxhub-workspaces.eoxhub-notebooks.pangeo-dask-notebooks.example-wildfires","title":"Scale your processes with Dask - hands on example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Eurodatacube","level":2},{"title":"Notebooks","level":3},{"slug":"external-notebooks.eurodatacube.notebooks.readme","title":"Jupyter notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Notebooks","level":4},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.readme","title":"Euro Data Cube Notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Contributions","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-ai4arctic-sea-ice","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-biomass-forest-observation-sys","title":"AIREO pilot dataset - Biomass (Forest Observation System)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-cap","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-spacenet7","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aot-covid19","title":"Aerosol Optical Thickness (AOT) Anomaly Detection Using Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.batch-zarr-output","title":"Generating Zarr data cubes with Sentinel Hub Batch API","description":"","date":"","thumbnail":"/example-viewer/build/68dffbf744fa42f4bf3d35e55684984e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.client-side-processing-using-mass-sh","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.cmems-data-download","title":"Cmems Data Download","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.detect-trucks-sentinel2","title":"Detect Trucks using Sentinel-2 data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.drought-monitoring","title":"Drought impact monitoring platform","description":"","date":"","thumbnail":"/example-viewer/build/ad5c19782b006f72352ae57794305840.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-africa-cube-africa-custom-contest","title":"Custom Script Contest – Urban Growth in Africa","description":"","date":"","thumbnail":"/example-viewer/build/undefined","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-byoc-tutorial","title":"How to bring your own data to EDC: Using Sentinel Hub Python package","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-demo-phi-week-v2","title":"xcube-gen and xcube-geodb Hands-On Workshop Φ-Week 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-geodb-4-eurocrops-demo","title":"Demonstration of Eurocrops data use in geoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-notebook-lstm","title":"South Africa Crop Type Classification on Euro Data Cube (EDC)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-usecase-lpis-crop-type-classification","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.eurocrops-crop-classification-example","title":"Crop-classification using Sentinel-2 time-series","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ghsl-urban-delineation","title":"\u003cb\u003eUrban delineation\u003cb\u003e","description":"","date":"","thumbnail":"/example-viewer/build/7bbf545a5eae1d9ebdb91ae42b261063.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.globalearthmonitor-example","title":"Pre-requisites","description":"","date":"","thumbnail":"/example-viewer/build/205c1ded6bd59771975a9fbd3753fd3b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gpu-support-eoxhub","title":"GPU-Support on EOxHub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gran-chaco-phiweek","title":"ESA EO \\phi- week 2020","description":"","date":"","thumbnail":"/example-viewer/build/80cee7db6cdc7002ceedda5689f889fa.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.howtolulc-batch-updated-210621","title":"How To: Land-Use-Land-Cover Prediction for Slovenia - using the Batch Processing API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lpis-lulc-slo","title":"LPIS Use Case for Land Use / Land Cover Classification","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lps2022-leverage-euro-data-cube-services","title":"Living Planet Symposium 2022 Training Session","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-analysis-covid19-lockdowns","title":"Impact of Covid19 induced lockdown on NO2 levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-so2-trend-veda-api-igarss-2023","title":"Using the NASA VEDA EOAPI","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ogc-edc","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.openeo-client-demo","title":"openEO Client Demo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.race-finishedgoodsinventory-inidcator","title":"Finished Goods Inventory indicator for RACE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.third-party-planetscope","title":"Third Party Data Import - PlanetScope","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-access-datasets","title":"Using xcube to access non-commercial and commercial data sets","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-viewer-as-a-service-in-edc1","title":"Visualizing data with xcube viewer in EuroDataCube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-evaluation-workshop","title":"DAPA Evaluation Workshop: Introduction \u0026 Documentation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-1-cube-sentinel-2","title":"DAPA Tutorial #1: Cube - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-2-area-sentinel-2","title":"DAPA Tutorial #2: Area - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-3-timeseries-sentinel-2","title":"DAPA Tutorial #3: Timeseries - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-4-value-sentinel-2","title":"DAPA Tutorial #4: Value - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-5-dem","title":"DAPA Tutorial #5: DEM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.fairicube.fairicube-data-access-demonstration","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-australian-bushfires","title":"Australian Bushfires","description":"","date":"","thumbnail":"/example-viewer/build/ab194b4f8c40a2b9d64d8a85e37ce1fd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["IGARSS-22","EO Dashboard"],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-data-access","title":"Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-detect-trucks-sentinel2","title":"Truck Detection Exercise","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-lockdown-in-venice","title":"Environmental Impacts of Lockdown in Venice, Italy during 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-nasa-api-lockdown-in-venice","title":"Lockdown in Venice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-no2-timeseries-analysis","title":"NO2 timeseries analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-timeseries-stac-api-single-vs-multi","title":"Time series using STAC API statistics endpoints","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.nightlights.night-lights-blending","title":"Monitoring socio-economic activities with nighttime light maps","description":"","date":"","thumbnail":"/example-viewer/build/fb2486d4e1708daa94616c6ae8fc4cc9.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Curated","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.access-iacs-data","title":"How to access IACS Spatial Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-access-cci-data","title":"Access CCI data with xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-first-steps","title":"First steps on the Euro Data Cube platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-1-manage-datasets-v11","title":"Manage Collections in your GeoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-2-explore-datasets-2","title":"Exploring Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-3-share-datasets1","title":"Sharing Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-access-urban-atlas-data-v1","title":"[xcube-geodb] How to accesss EEA Urban Atlas Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-data-access","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-basic","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-ndvi","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-datasets","title":"EDC Sentinel Hub - using xcube to access different data sets in Sentinel Hub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-setup","title":"Setup for EDC core API access using xcube client library","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-xcube-integration","title":"EDC Sentinel Hub - XCUBE integration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-usecase-ndvi-timeline","title":"NDVI timeline","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.eo-learn","title":"Using eo-learn in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/example-viewer/build/5a1f8475f0c3652f4630d03d72891b98.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.esdl-edc-v0-2","title":"Earth System Data Lab Tutorial @ Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.exploring-time-and-space-with-edc","title":"Exploring Time and Space: A guide to accessing, analysing and visualising data in the Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.how-to-access-dem-data-through-sentinel-hub-api","title":"How to access DEM data through Sentinel Hub API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.sentinelhub-py","title":"Using Sentinel Hub Process API in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/example-viewer/build/01e22903839391bc356ac886ec2b2fa7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6}]}]},"page":{"version":1,"kind":"Notebook","sha256":"8c2dfe876ed1e7d6f10c6b74286e3b73e819947802206c7f2a28f58c1de2323e","slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.eo-learn","location":"/external_notebooks/eurodatacube/notebooks/notebooks/curated/eo-learn.ipynb","dependencies":[],"frontmatter":{"title":"Using eo-learn in EDC: a starter’s guide.","content_includes_title":true,"kernelspec":{"name":"conda-env-users-edc-2023.10-01-py","display_name":"Python 3 (ipykernel)","language":"python"},"github":"https://github.com/eurodatacube/example-viewer","subject":"Euro Data Cube Examples","numbering":{"title":{"offset":5}},"edit_url":"https://github.com/eurodatacube/example-viewer/blob/main/external_notebooks/eurodatacube/notebooks/notebooks/curated/eo-learn.ipynb","thumbnail":"/example-viewer/build/5a1f8475f0c3652f4630d03d72891b98.png","exports":[{"format":"ipynb","filename":"eo-learn.ipynb","url":"/example-viewer/build/eo-learn-44e3553f22179eb8617aca971bdd1a05.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:57:54.524205Z","iopub.status.busy":"2023-10-24T07:57:54.523958Z","iopub.status.idle":"2023-10-24T07:57:54.567413Z","shell.execute_reply":"2023-10-24T07:57:54.566962Z"},"papermill":{"duration":0.07697,"end_time":"2023-10-24T07:57:54.568403","exception":false,"start_time":"2023-10-24T07:57:54.491433","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from edc import check_compatibility\ncheck_compatibility(\"user-2023.10-01\", dependencies=[\"SH\"])","visibility":"show","key":"oVUzjQOi99"},{"type":"output","id":"OLUAlsinPKxSxgpLlkxMz","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\u003cscript type=\"text/javascript\"\u003e\n        function toggle(id) {\n            el = document.getElementById(id);\n            el.style.display = el.style.display === \"none\" ? \"block\" : \"none\";\n        }\n    \u003c/script\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cIPython.core.display.HTML object\u003e","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"This notebook is compatible with this base image version (user-2023.10-01).","content_type":"text/html"},"text/plain":{"content":"\u003cIPython.core.display.HTML object\u003e","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/markdown":{"content":"\n\n---------\n\nThe following environment variables are available:\n\n* `SH_CLIENT_ID`, `SH_INSTANCE_ID`, `SH_CLIENT_NAME`, `SH_CLIENT_SECRET`\n","content_type":"text/markdown"},"text/plain":{"content":"\u003cIPython.core.display.Markdown object\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"dYqICfpsb2"}],"visibility":"show","key":"uSHP5qR4Te"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.024533,"end_time":"2023-10-24T07:57:54.637481","exception":false,"start_time":"2023-10-24T07:57:54.612948","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Using eo-learn in EDC: a starter’s guide.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QTDK9SuyKg"}],"identifier":"using-eo-learn-in-edc-a-starters-guide","label":"Using eo-learn in EDC: a starter’s guide.","html_id":"using-eo-learn-in-edc-a-starters-guide","implicit":true,"key":"cft1pUgEId"},{"type":"thematicBreak","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"wFS7UUxeLA"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Source: ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"H2ADzBrjGp"},{"type":"link","url":"https://eo-learn.readthedocs.io/en/latest/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"eo-learn Python package documentation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VN0AXEz57t"}],"urlSource":"https://eo-learn.readthedocs.io/en/latest/","key":"XUqvwf6v9t"}],"key":"dnBWKq8c6O"},{"type":"heading","depth":2,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Getting started with ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"WG4q3HUUWp"},{"type":"inlineCode","value":"eo-learn","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"r51zdAtyDt"}],"identifier":"getting-started-with-eo-learn","label":"Getting started with eo-learn","html_id":"getting-started-with-eo-learn","implicit":true,"key":"kCDQvPEIjZ"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"eo-learn","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"s7QuFw2e5i"}],"key":"oHLW15X3vd"},{"type":"text","value":" is a collection of open source Python packages that have been developed to seamlessly access and process spatio-temporal image sequences acquired by any satellite fleet in a timely and automatic manner. eo-learn is easy to use, it’s design modular, and encourages collaboration – sharing and reusing of specific tasks in a typical EO-value-extraction workflows, such as cloud masking, image co-registration, feature extraction, classification, etc.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"v5okXdXNgd"}],"key":"GCVZGLtZWt"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"eo-learn makes extraction of valuable information from satellite imagery as easy as defining a sequence of operations to be performed on satellite imagery. Image below illustrates a processing chain that maps water in satellite imagery by thresholding the Normalised Difference Water Index in user specified region of interest.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"iGAdVkPINb"}],"key":"b3QF958Aob"},{"type":"image","url":"/example-viewer/build/5a1f8475f0c3652f4630d03d72891b98.png","alt":"eo-learn workflow","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"SRmTx2IBow","urlSource":"https://eo-learn.readthedocs.io/en/latest/_images/eo-learn-illustration.png"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"eo-learn","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"wfHhR7pyzU"}],"key":"VORRR0H3PH"},{"type":"text","value":" acts as a bridge between Earth observation/Remote sensing field and Python ecosystem for data science and machine learning. The library is written in Python and uses NumPy arrays to store and handle remote sensing data. Its aim is to make entry easier for non-experts to the field of remote sensing on one hand and bring the state-of-the-art tools for computer vision, machine learning, and deep learning existing in Python ecosystem to remote sensing experts.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"wzrV95AaQB"}],"key":"FJL2TCnuTd"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"eo-learn","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"D6WIuUYtTm"}],"key":"nLhfeIgiT2"},{"type":"text","value":" is divided into several subpackages according to different functionalities and external package dependencies. Therefore it is not necessary for user to install entire package but only the parts that he needs.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"uHxehkK4RQ"}],"key":"Obwyh2jgBf"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"At the moment there are the following subpackages:","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"QXNmU7NyzG"}],"key":"RxXMMYnm9b"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":19,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"eo-learn-core","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"Vjm6C7IjtE"}],"key":"ZMzL1dfqhL"},{"type":"text","value":" - The main subpackage which implements basic building blocks (EOPatch, EOTask and EOWorkflow) and commonly used functionalities.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"m1XhVpaOx2"}],"key":"G8AnnTTvkF"}],"key":"yLkxTq3vmH"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"eo-learn-coregistration","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"TAusiqOZ35"}],"key":"jW7Q081LKk"},{"type":"text","value":" - The subpackage that deals with image co-registraion.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"m0MClUasSJ"}],"key":"cF50Z8DHEJ"}],"key":"VSLmRQQm7y"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"eo-learn-features","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"kGOsGMgnwM"}],"key":"GZ030ZO7ZY"},{"type":"text","value":" - A collection of utilities for extracting data properties and feature manipulation.","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"iVkWtFDmxo"}],"key":"BfCBNBN8hi"}],"key":"AGzWkqZOvV"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"eo-learn-geometry","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"tvbojOGRI9"}],"key":"ubewjWgMeG"},{"type":"text","value":" - Geometry subpackage used for geometric transformation and conversion between vector and raster data.","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"MeweSYjylp"}],"key":"QLkYrf1Nyf"}],"key":"ALduJRCRiQ"},{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"eo-learn-io","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"uDfOmwvsUD"}],"key":"XFpfk86eqT"},{"type":"text","value":" - Input/output subpackage that deals with obtaining data from Sentinel Hub services or saving and loading data locally.","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"DPUiEKZJck"}],"key":"YQfxojik60"}],"key":"WbOzBYM1m7"},{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"eo-learn-mask","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"I1z0tj7aZM"}],"key":"LwkUqtgwpM"},{"type":"text","value":" - The subpackage used for masking of data and calculation of cloud masks.","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"z957UGeQ75"}],"key":"p5rHrrcLXs"}],"key":"zMgFWwh1jt"},{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"eo-learn-ml-tools","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"gdzqq3XVMa"}],"key":"fATaCSQMuU"},{"type":"text","value":" - Various tools that can be used before or after the machine learning process.","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"zMpQZaMiZQ"}],"key":"AeQtdJzRS8"}],"key":"EyeTar0Kpn"},{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"eo-learn-visualization","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"YfYzrK5Aqg"}],"key":"ljP8FaIYLL"},{"type":"text","value":" - Visualization tools for core elements of eo-learn.","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"XJM1Kz2uEB"}],"key":"ifPlYsVyWO"}],"key":"oexM6odkPQ"}],"key":"MUQzT9pw8o"},{"type":"heading","depth":2,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Outline","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"XMCrjVzmb5"}],"identifier":"outline","label":"Outline","html_id":"outline","implicit":true,"key":"b5HHnbs5JO"},{"type":"paragraph","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"In this demonstration Jupyter Notebook, based on the ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"aT30O1fZqj"},{"type":"link","url":"https://github.com/sentinel-hub/eo-learn/blob/master/examples/features/SpatioTemporalFeatures.ipynb","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"Spatio-Temporal Feature notebook","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"n8ABpDEfHE"}],"urlSource":"https://github.com/sentinel-hub/eo-learn/blob/master/examples/features/SpatioTemporalFeatures.ipynb","data":{"kind":"file","org":"sentinel-hub","repo":"eo-learn","reference":"master","file":"examples/features/SpatioTemporalFeatures.ipynb","raw":"https://raw.githubusercontent.com/sentinel-hub/eo-learn/master/examples/features/SpatioTemporalFeatures.ipynb"},"internal":false,"protocol":"github","key":"HAjV9bDkQj"},{"type":"text","value":", we will learn how to:","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"bseEuIfIqt"}],"key":"qmbGm5dSMz"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":39,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"Create an ","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"zWCQWi0X7a"},{"type":"inlineCode","value":"EOWorkflow","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"vJcQJSnCIp"}],"identifier":"create-an-eoworkflow","label":"Create-an-EOWorkflow","kind":"heading","template":"{name}","resolved":true,"html_id":"create-an-eoworkflow","key":"nCuV8xdoXQ"}],"key":"oH3VdnXHsN"},{"type":"listItem","spread":true,"position":{"start":{"line":40,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"Visualize the ","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"ly0lavqKn9"},{"type":"inlineCode","value":"EOPatch","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"wDno2ekMs7"},{"type":"text","value":" output from the ","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"pqRMao8NVH"},{"type":"inlineCode","value":"EOWorkflow","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"gxlYYWGcZL"}],"identifier":"visualize-the-eopatch-output-from-the-eoworkflow","label":"Visualize-the-EOPatch-output-from-the-EOWorkflow","kind":"heading","template":"{name}","resolved":true,"html_id":"visualize-the-eopatch-output-from-the-eoworkflow","key":"m9QXAaiWIa"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":41,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"link","url":"#VALID_DATA-mask","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"inlineCode","value":"VALID_DATA","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"lVHJbZMkpj"},{"type":"text","value":" mask","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"YEXhwc0G3u"}],"urlSource":"#VALID_DATA-mask","key":"FO3R8S81UF"}],"key":"Sw17c99ZWm"},{"type":"listItem","spread":true,"position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"Cloud cover","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"Yh0ZRd9fWP"}],"identifier":"cloud-cover","label":"Cloud-cover","kind":"heading","template":"{name}","resolved":true,"html_id":"cloud-cover","key":"pkSCeXT9sl"}],"key":"EOdgN4sCgF"},{"type":"listItem","spread":true,"position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"Spatiotemporal features of a specific field","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"TSv24tQ3qm"}],"identifier":"spatiotemporal-features-of-a-specific-field","label":"Spatiotemporal-features-of-a-specific-field","kind":"heading","template":"{name}","resolved":true,"html_id":"spatiotemporal-features-of-a-specific-field","key":"JArORonToX"}],"key":"Ujty7QvFn5"},{"type":"listItem","spread":true,"position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"Distribution of temporal indices","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"mMWQM4xFqs"}],"identifier":"distribution-of-temporal-indices","label":"Distribution-of-temporal-indices","kind":"heading","template":"{name}","resolved":true,"html_id":"distribution-of-temporal-indices","key":"u7GBs3yMnG"}],"key":"wQlt6veCmq"},{"type":"listItem","spread":true,"position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"False color images of NDVI features","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"WhFIdP9XNn"}],"identifier":"false-color-images-of-ndvi-features","label":"False-color-images-of-NDVI-features","kind":"heading","template":"{name}","resolved":true,"html_id":"false-color-images-of-ndvi-features","key":"hdec57NFUz"}],"key":"DcPXIydfjB"}],"key":"dSnhuXP7TA"}],"key":"QtgRUHwPmr"},{"type":"listItem","spread":true,"position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"Load an existing ","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"VYYUWi7e7F"},{"type":"inlineCode","value":"EOPatch","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"Rk6BGuTGAd"},{"type":"text","value":" from a filesystem to build another ","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"xeMI4wbbWq"},{"type":"inlineCode","value":"EOWorkflow","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"GK5SZjOPH9"}],"identifier":"load-an-existing-eopatch-from-a-filesystem-to-build-another-eoworkflow","label":"Load-an-existing-EOPatch-from-a-filesystem-to-build-another-EOWorkflow","kind":"heading","template":"{name}","resolved":true,"html_id":"load-an-existing-eopatch-from-a-filesystem-to-build-another-eoworkflow","key":"vzhjSqgU6h"}],"key":"F3A2tEg3Sn"}],"key":"LyZROrmObE"}],"visibility":"show","key":"uDTSjIB0kR"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.024016,"end_time":"2023-10-24T07:57:54.700066","exception":false,"start_time":"2023-10-24T07:57:54.676050","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lXTkmf22pJ"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"HtE8TN0I5M"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Before starting to build our own processing chain for Earth Observation (EO) data, we need to import necessary Python libraries (already configured in your EDC workplace) and generate credentials automatically to access the services.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Ei8d0NZxTk"}],"key":"sMf24YlkDx"}],"visibility":"show","key":"hRjrdq5lbc"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:57:54.766377Z","iopub.status.busy":"2023-10-24T07:57:54.765940Z","iopub.status.idle":"2023-10-24T07:57:57.257913Z","shell.execute_reply":"2023-10-24T07:57:57.257435Z"},"papermill":{"duration":2.518331,"end_time":"2023-10-24T07:57:57.259363","exception":false,"start_time":"2023-10-24T07:57:54.741032","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# EDC libraries\n# from edc import setup_environment_variables\n\n# Utilities\nimport os\nimport warnings\nimport itertools as it\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom datetime import timedelta\nfrom matplotlib.colors import ListedColormap, BoundaryNorm\nfrom mpl_toolkits.axes_grid1 import make_axes_locatable\n\n# eo-learn\nfrom eolearn.core import (LoadTask, SaveTask, EONode, EOWorkflow, FeatureType, EOPatch, \n                          EOTask, ZipFeatureTask, OutputTask)\nfrom eolearn.io import SentinelHubInputTask\nfrom eolearn.features.ndi import NormalizedDifferenceIndexTask\nfrom eolearn.features.extra.interpolation import LinearInterpolationTask\n\n# Sentinel Hub\nfrom sentinelhub import BBox, CRS, DataCollection, SHConfig","visibility":"show","key":"tIgubT7SJW"},{"type":"output","id":"SOOB0NWMrC0er2-72lULL","data":[],"visibility":"show","key":"CG1dOaMBeG"}],"visibility":"show","key":"mefx6vUBPb"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:57:57.323982Z","iopub.status.busy":"2023-10-24T07:57:57.323386Z","iopub.status.idle":"2023-10-24T07:57:57.326225Z","shell.execute_reply":"2023-10-24T07:57:57.325810Z"},"papermill":{"duration":0.029351,"end_time":"2023-10-24T07:57:57.327195","exception":false,"start_time":"2023-10-24T07:57:57.297844","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Supress warnings for a neater notebook\nwarnings.filterwarnings(\"ignore\")","visibility":"show","key":"PxSOgDIB9d"},{"type":"output","id":"2nOMunmtCAeSgAPPMzTJt","data":[],"visibility":"show","key":"SIDkjjRixE"}],"visibility":"show","key":"thLXSgELr6"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:57:57.397343Z","iopub.status.busy":"2023-10-24T07:57:57.396996Z","iopub.status.idle":"2023-10-24T07:57:57.403598Z","shell.execute_reply":"2023-10-24T07:57:57.403213Z"},"papermill":{"duration":0.038037,"end_time":"2023-10-24T07:57:57.404674","exception":false,"start_time":"2023-10-24T07:57:57.366637","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Add plot to the Jupyter Notebook\n%matplotlib inline","visibility":"show","key":"HYY5hVPgzo"},{"type":"output","id":"weZoijfpMfL02CCY1-75a","data":[],"visibility":"show","key":"r3TVBXsXcX"}],"visibility":"show","key":"CbWEgOK71Y"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.025713,"end_time":"2023-10-24T07:57:57.471525","exception":false,"start_time":"2023-10-24T07:57:57.445812","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define required EOTask","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vlsen3NK10"}],"identifier":"define-required-eotask","label":"Define required EOTask","html_id":"define-required-eotask","implicit":true,"key":"N5WFbpjf7U"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the following cell, we will create self-defined EOTasks which will be used in this example.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"kclz6dLo21"}],"key":"em35TnKpBb"}],"visibility":"show","key":"emmAGgtixp"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:57:57.533411Z","iopub.status.busy":"2023-10-24T07:57:57.533139Z","iopub.status.idle":"2023-10-24T07:57:57.547112Z","shell.execute_reply":"2023-10-24T07:57:57.546627Z"},"papermill":{"duration":0.039137,"end_time":"2023-10-24T07:57:57.548207","exception":false,"start_time":"2023-10-24T07:57:57.509070","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Define a task using ZipFeatureTask\nclass AddValidDataMaskTask(ZipFeatureTask):\n    def zip_method(self, *mask):\n        return np.logical_and(\n            mask[0].astype(bool), # 0 to False and 1 to True\n            np.logical_not((mask[1] != 0).astype(bool)) # CLM==1 or CLM==255 (clouds and no data) to False CLM==0 (clear) to True\n        )\n\nclass AddSpatioTemporalFeaturesTask(EOTask):\n    \"\"\"Task that implements and adds to eopatch the spatio-temporal features proposed in [1].\n\n    This task assumes that the argmax/argmin of NDVI, NDVI slope and B4 are present in eopatch. The computed\n    spatio-temporal features correspond to the concatenation of reflectance (green, red, near-infrared and short-wave\n    infrared in [1]) values taken at dates where:\n\n    1) NDVI is maximum\n    2) NDVI is minimum\n    3) red reflectances are maximum\n    4) NDVI slope is maximum\n    5) NDVI slope is minimum\n\n    The features are added to the `data_timeless` attribute dictionary of eopatch.\n\n    [1] Waldner et al. \"Automated annual cropland mapping using knowledge-based temporal features\", ISPRS Journal of\n    Photogrammetry and Remote Sensing, 2015\n\n    \"\"\"\n\n    def __init__(\n        self,\n        argmax_ndvi=\"ARGMAX_NDVI\",\n        argmin_ndvi=\"ARGMIN_NDVI\",\n        argmax_red=\"ARGMAX_B4\",\n        argmax_ndvi_slope=\"ARGMAX_NDVI_SLOPE\",\n        argmin_ndvi_slope=\"ARGMIN_NDVI_SLOPE\",\n        feats_feature=\"STF\",\n        data_feature=\"BANDS-S2-L1C\",\n        indices=None,\n    ):\n        \"\"\"Class constructor\n\n        Initialisation of task variables. The name of the dictionary keys that will be used for the computation of the\n        features needs to be specified. These features are assumed to be existing in the eopatch. The indices of the\n        reflectances to be used as features is an input parameter. If `None` is used, the data attribute is supposed to\n        have 13 bands and indices for green/red/infrared/short-wave-infrared are used.\n\n        :param argmax_ndvi: Name of `argmax_ndvi` feature in eopatch. Default is `'ARGMAX_NDVI'`\n        :param argmin_ndvi: Name of `argmin_ndvi` feature in eopatch. Default is `'ARGMIN_NDVI'`\n        :param argmax_red: Name of `argmax_red` feature in eopatch. Default is `'ARGMAX_B4'`\n        :param argmax_ndvi_slope: Name of `argmax_ndvi_slope` feature in eopatch. Default is `'ARGMAX_NDVI_SLOPE'`\n        :param argmin_ndvi_slope: Name of `argmin_ndvi_slope` feature in eopatch. Default is `'ARGMIN_NDVI_SLOPE'`\n        :param feats_feature: Name of feature containing spatio-temporal features. Default is `'STF'`\n        :param data_feature: Name of feature containing the reflectances to be used as features. Default is\n            `'BANDS-S2-L1C'`\n        :param indices: List of indices from `data_feature` to be used as features. Default is `None`, corresponding to\n            [2, 3, 7, 11] indices\n        \"\"\"\n        self.argmax_ndvi = argmax_ndvi\n        self.argmin_ndvi = argmin_ndvi\n        self.argmax_red = argmax_red\n        self.argmax_ndvi_slope = argmax_ndvi_slope\n        self.argmin_ndvi_slope = argmin_ndvi_slope\n        self.feats_feature = feats_feature\n        self.data_feature = data_feature\n        if indices is None:\n            indices = [2, 3, 7, 11]\n        self.indices = indices\n\n    def execute(self, eopatch: EOPatch) -\u003e EOPatch:\n        \"\"\"Compute spatio-temporal features for input eopatch\n\n        :param eopatch: Input eopatch\n        :return: eopatch with computed spatio-temporal features\n        \"\"\"\n        # pylint: disable=invalid-name\n        amax_ndvi, amin_ndvi = eopatch.data_timeless[self.argmax_ndvi], eopatch.data_timeless[self.argmin_ndvi]\n        amax_ndvi_slope = eopatch.data_timeless[self.argmax_ndvi_slope]\n        amin_ndvi_slope = eopatch.data_timeless[self.argmin_ndvi_slope]\n        amax_red = eopatch.data_timeless[self.argmax_red]\n\n        stf_idx = [amax_ndvi, amin_ndvi, amax_ndvi_slope, amin_ndvi_slope, amax_red]\n\n        bands = eopatch.data[self.data_feature][..., self.indices]\n\n        _, h, w, _ = bands.shape\n        hh, ww = np.ogrid[:h, :w]\n        stf = np.concatenate([bands[ii.squeeze(), hh, ww] for ii in stf_idx if ii is not None], axis=-1)\n\n        eopatch.data_timeless[self.feats_feature] = stf\n\n        return eopatch\n\n\nclass AddMaxMinTemporalIndicesTask(EOTask):\n    \"\"\"Task to compute temporal indices of the maximum and minimum of a data feature\n\n    This class computes the `argmax` and `argmin` of a data feature in the input eopatch (e.g. NDVI, B4). The data\n    can be masked out by setting the `mask_data` flag to `True`. In that case, the `'VALID_DATA'` mask feature is\n    used for masking. If `mask_data` is `False`, the data is masked using the `'IS_DATA'` feature.\n\n    Two new features are added to the `data_timeless` attribute.\n    \"\"\"\n\n    def __init__(\n        self,\n        data_feature=\"NDVI\",\n        data_index=None,\n        amax_data_feature=\"ARGMAX_NDVI\",\n        amin_data_feature=\"ARGMIN_NDVI\",\n        mask_data=True,\n    ):\n        \"\"\"Task constructor\n\n        :param data_feature: Name of the feature in data used for computation of max/min. Default is `'NDVI'`\n        :param data_index: Index of to be extracted from last dimension in `data_feature`. If None, last dimension of\n            data array is assumed ot be of size 1 (e.g. as in NDVI). Default is `None`\n        :param amax_data_feature: Name of feature to be associated to computed feature of argmax values\n        :param amin_data_feature: Name of feature to be associated to computed feature of argmin values\n        :param mask_data: Flag specifying whether to mask data with `'VALID_DATA'` mask. If `False`, the `'IS_DATA'`\n            mask is used\n        \"\"\"\n        self.data_feature = data_feature\n        self.data_index = data_index\n        self.mask_data = mask_data\n        self.amax_feature = amax_data_feature\n        self.amin_feature = amin_data_feature\n\n    def execute(self, eopatch: EOPatch) -\u003e EOPatch:\n        \"\"\"Compute argmax/argmin of specified `data_feature` and `data_index`\n\n        :param eopatch: Input eopatch\n        :return: eopatch with added argmax/argmin features\n        \"\"\"\n        valid_data_mask = eopatch.mask[\"VALID_DATA\"] if self.mask_data else eopatch.mask[\"IS_DATA\"]\n\n        data = (\n            eopatch.data[self.data_feature]\n            if self.data_index is None\n            else eopatch.data[self.data_feature][..., self.data_index][..., np.newaxis]\n        )\n\n        madata = np.ma.array(data, dtype=np.float32, mask=np.logical_or(~valid_data_mask.astype(bool), np.isnan(data)))\n\n        argmax_data = np.ma.MaskedArray.argmax(madata, axis=0)\n        argmin_data = np.ma.MaskedArray.argmin(madata, axis=0)\n\n        if argmax_data.ndim == 2:\n            argmax_data = argmax_data.reshape(argmax_data.shape + (1,))\n\n        if argmin_data.ndim == 2:\n            argmin_data = argmin_data.reshape(argmin_data.shape + (1,))\n\n        eopatch.data_timeless[self.amax_feature] = argmax_data\n        eopatch.data_timeless[self.amin_feature] = argmin_data\n\n        return eopatch\n\n\nclass AddMaxMinNDVISlopeIndicesTask(EOTask):\n    \"\"\"Task to compute the argmax and argmin of the NDVI slope\n\n    This task computes the slope of the NDVI feature using central differences. The NDVI feature can be masked using the\n    `'VALID_DATA'` mask. Current implementation loops through every location of eopatch, and is therefore slow.\n\n    The NDVI slope at date t is computed as $(NDVI_{t+1}-NDVI_{t-1})/(date_{t+1}-date_{t-1})$.\n    \"\"\"\n\n    def __init__(\n        self,\n        data_feature=\"NDVI\",\n        argmax_feature=\"ARGMAX_NDVI_SLOPE\",\n        argmin_feature=\"ARGMIN_NDVI_SLOPE\",\n        mask_data=True,\n    ):\n        \"\"\"Task constructor\n\n        :param data_feature: Name of data feature with NDVI values. Default is `'NDVI'`\n        :param argmax_feature: Name of feature with computed argmax values of the NDVI slope\n        :param argmin_feature: Name of feature with computed argmin values of the NDVI slope\n        :param mask_data: Flag for masking NDVI data. Default is `True`\n        \"\"\"\n        self.data_feature = data_feature\n        self.argmax_feature = argmax_feature\n        self.argmin_feature = argmin_feature\n        self.mask_data = mask_data\n\n    def execute(self, eopatch: EOPatch) -\u003e EOPatch:\n        \"\"\"Computation of NDVI slope using finite central differences\n\n        This implementation loops through every spatial location, considers the valid NDVI values and approximates their\n        first order derivative using central differences. The argument of min and max is added to the eopatch.\n\n        The NDVI slope at date t is computed as $(NDVI_{t+1}-NDVI_{t-1})/(date_{t+1}-date_{t-1})$.\n\n        :param eopatch: Input eopatch\n        :return: eopatch with NDVI slope argmin/argmax features\n        \"\"\"\n        # pylint: disable=invalid-name\n        if self.mask_data:\n            valid_data_mask = eopatch.mask[\"VALID_DATA\"]\n        else:\n            valid_data_mask = eopatch.mask[\"IS_DATA\"]\n\n        ndvi = np.ma.array(eopatch.data[self.data_feature], dtype=np.float32, mask=~valid_data_mask.astype(bool))\n\n        all_dates = np.asarray([x.toordinal() for x in eopatch.timestamps])\n\n        if ndvi.ndim == 4:\n            h, w = ndvi.shape[1:3]\n        else:\n            raise ValueError(f\"{self.data_feature} feature has incorrect number of dimensions\")\n\n        argmax_ndvi_slope, argmin_ndvi_slope = np.zeros((h, w, 1), dtype=np.uint8), np.zeros((h, w, 1), dtype=np.uint8)\n\n        for ih, iw in it.product(range(h), range(w)):\n            ndvi_curve = ndvi[:, ih, iw, :]\n            valid_idx = np.where(~ndvi.mask[:, ih, iw])[0]\n\n            ndvi_curve = ndvi_curve[valid_idx]\n            valid_dates = all_dates[valid_idx]\n\n            ndvi_slope = np.convolve(ndvi_curve.squeeze(), [1, 0, -1], \"valid\") / np.convolve(\n                valid_dates, [1, 0, -1], \"valid\"\n            )\n\n            # +1 to compensate for the 'valid' convolution which eliminates first and last\n            argmax_ndvi_slope[ih, iw] = valid_idx[np.argmax(ndvi_slope) + 1]\n            argmin_ndvi_slope[ih, iw] = valid_idx[np.argmin(ndvi_slope) + 1]\n\n            del ndvi_curve, valid_idx, valid_dates, ndvi_slope\n\n        eopatch.data_timeless[self.argmax_feature] = argmax_ndvi_slope\n        eopatch.data_timeless[self.argmin_feature] = argmin_ndvi_slope\n\n        return eopatch","visibility":"show","key":"YAW6l9z3XU"},{"type":"output","id":"nJprqEXLmMRcVn3hWaRCi","data":[],"visibility":"show","key":"eff2wDiUUO"}],"visibility":"show","key":"lq888qiNNt"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.036518,"end_time":"2023-10-24T07:57:57.623943","exception":false,"start_time":"2023-10-24T07:57:57.587425","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Quick tip:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ePhG1d85TL"}],"key":"ssE1Xkn6Na"}],"key":"DBO4sLGR48"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"inlineCode","value":"SentinelHubInputTask()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EApqatTW62"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mRwn75QS4R"},{"type":"inlineCode","value":"NormalizedDifferenceIndexTask()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"khQTN8EHGy"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"eJxBe5Tm8G"},{"type":"inlineCode","value":"AddMaxMinTemporalIndicesTask()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rmaYV49XHc"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"coB8z2Wddu"},{"type":"inlineCode","value":"AddMaxMinTemporalIndicesTask()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aOAKJ8Nf4y"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yBJsH6sKh9"},{"type":"inlineCode","value":"AddMaxMinNDVISlopeIndicesTask()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cLmoFSRyqT"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZDJg3PhEgK"},{"type":"inlineCode","value":"AddSpatioTemporalFeaturesTask()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JFs9dt6mOm"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NqjdpLU207"},{"type":"inlineCode","value":"SaveTask()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hRdKG91iTS"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"dPtYNZ30cS"},{"type":"inlineCode","value":"OutputTask","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UPPL1cv1yp"},{"type":"text","value":" are self-defined EOTasks performing the tasks listed above. You can also defined your own ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NNF8hHkvLS"},{"type":"inlineCode","value":"EOTask","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"a7NyiWReqV"},{"type":"text","value":" as shown below:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fe8Jle1g3S"}],"key":"UcbUwJSB21"},{"type":"code","lang":"python","value":"class FooTask(EOTask):\n    def __init__(self, foo_param):\n        self.foo_param = foo_param\n        \n    def execute(self, eopatch, *, patch_specific_param):\n        # do what foo does on input eopatch and return it\n        return eopatch","position":{"start":{"line":4,"column":1},"end":{"line":12,"column":1}},"key":"o1mOSeaukJ"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"For more detail and other pre-defined functions please refer to our ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"Ajf5XLDTZ4"},{"type":"inlineCode","value":"eo-learn","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"upQcnnFzZ8"},{"type":"text","value":" ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"n1RkXH5MX5"},{"type":"link","url":"https://eo-learn.readthedocs.io/en/latest/eolearn.html","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"documentation","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"oelLOrrGcM"}],"urlSource":"https://eo-learn.readthedocs.io/en/latest/eolearn.html","key":"FTyc9wRKWp"},{"type":"text","value":".","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"czdSS2m3FY"}],"key":"ZtcjbnVpFo"}],"visibility":"show","key":"T8ZcIqlbwi"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.023888,"end_time":"2023-10-24T07:57:57.685025","exception":false,"start_time":"2023-10-24T07:57:57.661137","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Credentials","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mhMGSnhxPj"}],"identifier":"credentials","label":"Credentials","html_id":"credentials","implicit":true,"key":"hfaSSCxbqf"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Credentials for Sentinel Hub services are automatically injected as environement variables. It is therefore easy to populate Sentinel Hub’s credential manager with the values.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UnzdcIB8iL"}],"key":"NEIbc138JK"}],"visibility":"show","key":"R38FHiJeFK"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:57:57.747068Z","iopub.status.busy":"2023-10-24T07:57:57.746658Z","iopub.status.idle":"2023-10-24T07:57:57.750141Z","shell.execute_reply":"2023-10-24T07:57:57.749658Z"},"papermill":{"duration":0.029485,"end_time":"2023-10-24T07:57:57.751198","exception":false,"start_time":"2023-10-24T07:57:57.721713","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Pass Sentinel Hub credentials to SHConfig\nconfig = SHConfig()\nconfig.sh_client_id = os.environ[\"SH_CLIENT_ID\"]\nconfig.sh_client_secret = os.environ[\"SH_CLIENT_SECRET\"]","visibility":"show","key":"iJBP9yoPva"},{"type":"output","id":"-DORGJiTVUDTP3T9fcsdt","data":[],"visibility":"show","key":"dpXjRlEcWe"}],"visibility":"show","key":"Or0NSweol5"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.024316,"end_time":"2023-10-24T07:57:57.815965","exception":false,"start_time":"2023-10-24T07:57:57.791649","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create an ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qzTtfeuxGb"},{"type":"inlineCode","value":"EOWorkflow","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"btX6bvIqUn"}],"identifier":"create-an-eoworkflow","label":"Create an EOWorkflow","html_id":"create-an-eoworkflow","implicit":true,"key":"YjTeWk42pY"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the following cell, we will create an ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IHrI79IDZw"},{"type":"inlineCode","value":"EOWorkflow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Iwil5IrrAO"},{"type":"text","value":" implementing the spatiotemporal features proposed by ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rAreBFff1e"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Waldner et al., 2015","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vJBhZQXZC7"}],"key":"Z70yONUeRo"},{"type":"text","value":" [1].","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WwPFHIXWRj"}],"key":"xbSrosqSq8"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The workflow consists of:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"RbnEUfsSzC"}],"key":"YfqISYcmg3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"a task to download Sentinel-2 data","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"neicbNRKVp"}],"key":"VKNXJCFzTM"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"a task to calculate NDVI","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"fy47kuktlC"}],"key":"FlD174xt3D"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"a task to generate valid data mask","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"zG90Jo9bZr"}],"key":"EezYoxQ7V1"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"a task to compute the argmax and argmin of NDVI","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"vIkdsCsWqS"}],"key":"zVdeVVsjFX"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"a task to compute the argmax and argmin of the red band","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"mWVwm3R0H2"}],"key":"ZUvr0KFglJ"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"a task to compute the argmax and argmin of NDVI slope","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"sGKavq7BlP"}],"key":"UrymBHpy8S"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"a task to compute spatiotemporal features correspond to the concatenation of reflectance (green, red, NIR and SWIR) values taken at dates where:","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"dQWdw0wuTQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":13,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"NDVI is maximum","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"XPuyjA4XD5"}],"key":"hZIUFIxW7i"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"NDVI is minimum","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"cmoTX3gH3Y"}],"key":"mvV497PKps"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"red reflectance are maximum","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"g2l95jECN8"}],"key":"gt3IwE2OxU"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"NDVI slope is maximum","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"mmFFStmi4J"}],"key":"TwCIOqOw9J"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"NDVI slope is minimum","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"LUSRyuTU1i"}],"key":"uJ02AXH5oA"}],"key":"Ih1vHFARJ4"}],"key":"N8epTkC821"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"a task to save the given ","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"hgkDjVvTBV"},{"type":"inlineCode","value":"EOPatch","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"lyw64q33eS"},{"type":"text","value":" to a filesystem","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"j6w2tyUSh4"}],"key":"LnP1dJXYWd"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"a task to keep the eo-patch in memory after the completion of the workflow","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"ILr6LtYZ5r"}],"key":"ZuZFwOSXKc"}],"key":"bO6czAwnZO"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"After each task is defined as an ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"A1dNq385sf"},{"type":"inlineCode","value":"EOTask","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"Pp72r1Mtdd"},{"type":"text","value":", we can wrap ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"PZJLS2Camc"},{"type":"inlineCode","value":"EOTasks","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"sbWPzhTgiR"},{"type":"text","value":" into ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"CmFGkkqUKf"},{"type":"inlineCode","value":"EONodes","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"a4pINiG015"},{"type":"text","value":" and assemble all ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"R4dSj1Kxib"},{"type":"inlineCode","value":"EONodes","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"pVH3L29bph"},{"type":"text","value":" to form an ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"fw6LB1EDhb"},{"type":"inlineCode","value":"EOWorkflow","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"qP7De1qqRY"},{"type":"text","value":" ready to be executed.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"UvPNwJ1Aca"}],"key":"cMRUrscMqF"},{"type":"paragraph","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"[1] Waldner et al. “Automated Annual Cropland Mapping Using Knowledge-based Temporal Features”, 2015 ISPRS Journal of Photogrammetrz and Remote Sensing.","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"TrRZfbGVGe"}],"key":"Q5soRVrkLO"}],"visibility":"show","key":"Ogydahly2A"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:57:57.878432Z","iopub.status.busy":"2023-10-24T07:57:57.878198Z","iopub.status.idle":"2023-10-24T07:57:57.884439Z","shell.execute_reply":"2023-10-24T07:57:57.883932Z"},"papermill":{"duration":0.032034,"end_time":"2023-10-24T07:57:57.885591","exception":false,"start_time":"2023-10-24T07:57:57.853557","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Define `EOTasks`\nadd_data_task = SentinelHubInputTask(\n    data_collection = DataCollection.SENTINEL2_L1C, \n    bands_feature=(FeatureType.DATA, 'BANDS-S2-L1C'),\n    time_difference = timedelta(hours=2),\n    resolution=20,\n    additional_data = [\n        (FeatureType.MASK, 'CLM'),\n        (FeatureType.MASK, 'dataMask', 'IS_DATA'), # assigning 'dataMask' band to 'IS_DATA'\n    ],\n    config=config\n)\n\nndvi_task = NormalizedDifferenceIndexTask(\n    input_feature=(FeatureType.DATA, 'BANDS-S2-L1C'),\n    output_feature=(FeatureType.DATA, 'NDVI'),\n    bands = [7,2]    \n)\n\nadd_valmask = AddValidDataMaskTask({FeatureType.MASK: ['IS_DATA', 'CLM']}, (FeatureType.MASK, 'VALID_DATA'))\n\nadd_maxmin_ndvi = AddMaxMinTemporalIndicesTask(mask_data=True)\n\nadd_maxmin_red = AddMaxMinTemporalIndicesTask(data_feature='BANDS-S2-L1C', \n                                              data_index=3, \n                                              amax_data_feature='ARGMAX_B4',\n                                              amin_data_feature='ARGMIN_B4',\n                                              mask_data=True)\n\nadd_maxmin_ndvi_sl = AddMaxMinNDVISlopeIndicesTask()\n\nadd_stf = AddSpatioTemporalFeaturesTask()\n\nsave_task = SaveTask('./stf', overwrite_permission=1, compress_level=0)\n\noutput_task = OutputTask(\"eopatch\")","visibility":"show","key":"tMersKkAZD"},{"type":"output","id":"2b-01nbCZU3ZcVGll1eZF","data":[],"visibility":"show","key":"d311HI10LY"}],"visibility":"show","key":"OAQNkW0U1k"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.02219,"end_time":"2023-10-24T07:57:57.945260","exception":false,"start_time":"2023-10-24T07:57:57.923070","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Next, we can wrap ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rNSGhQXJST"},{"type":"inlineCode","value":"EOTasks","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ipQCamf2rJ"},{"type":"text","value":" into ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JSVqMajPaA"},{"type":"inlineCode","value":"EONode","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BfFkXTmFsy"},{"type":"text","value":", join all the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EqMky0Bh5X"},{"type":"inlineCode","value":"EONodes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EYD5Ixb6xZ"},{"type":"text","value":" together into an acyclic executable ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EPCQ8r8wWL"},{"type":"inlineCode","value":"EOWorkflow","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TX7dh0WGKt"},{"type":"text","value":", and visualize it with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wZXOYnS6yc"},{"type":"inlineCode","value":"dependency_graph()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nL227UTqjF"},{"type":"text","value":" function. Below demonstrates the most comprehensive way to build a ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"U1rQfoqi4B"},{"type":"inlineCode","value":"EOWorkflow","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"S7ElXAXncW"},{"type":"text","value":". Other simplified methods can be found in the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VGgoZxeM6i"},{"type":"link","url":"https://eo-learn.readthedocs.io/en/latest/examples/core/CoreOverview.html#EONode-and-EOWorkflow","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"documentation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FJGRvsFgTV"}],"urlSource":"https://eo-learn.readthedocs.io/en/latest/examples/core/CoreOverview.html#EONode-and-EOWorkflow","key":"OWUWEUZtzo"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QBYTt6ntNQ"}],"key":"e4HEJyfsrd"}],"visibility":"show","key":"vgPylcNyHi"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:57:58.009319Z","iopub.status.busy":"2023-10-24T07:57:58.008885Z","iopub.status.idle":"2023-10-24T07:57:58.135577Z","shell.execute_reply":"2023-10-24T07:57:58.135145Z"},"papermill":{"duration":0.153463,"end_time":"2023-10-24T07:57:58.136817","exception":false,"start_time":"2023-10-24T07:57:57.983354","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Wrap `EOTasks` into `EONode`\nadd_data_node = EONode(add_data_task, inputs=[], name=\"Sentinel Hub Input Task\")\nndvi_node = EONode(ndvi_task, inputs=[add_data_node], name=\"Compute NDVI Task\")\nadd_valmask_node = EONode(add_valmask, inputs=[ndvi_node], name=\"Add Valid Mask Task\")\nadd_maxmin_ndvi_node = EONode(add_maxmin_ndvi, inputs=[add_valmask_node], name=\"Add MaxMin NDVI Task\")\nadd_maxmin_red_node = EONode(add_maxmin_red, inputs=[add_maxmin_ndvi_node], name=\"Add ArgMaxMin Red Task\")\nadd_maxmin_ndvi_sl_node = EONode(add_maxmin_ndvi_sl, inputs=[add_maxmin_red_node], name=\"Add MaxMin NDVI Slope Task\")\nadd_stf_node = EONode(add_stf, inputs=[add_maxmin_ndvi_sl_node], name=\"Add Spatiotemporal Features Task\")\nsave_task_node = EONode(save_task, inputs=[add_stf_node], name=\"Save Task\")\noutput_node = EONode(output_task, inputs=[save_task_node], name=\"Output EOPatch\")\n\n# Assemble `EOTasks` to an `EOWorkflow`\nworkflow = EOWorkflow(\n    [\n        add_data_node,\n        ndvi_node,\n        add_valmask_node,\n        add_maxmin_ndvi_node,\n        add_maxmin_red_node,\n        add_maxmin_ndvi_sl_node,\n        add_stf_node,\n        save_task_node,\n        output_node\n    ]\n)\n\n\n# Visualize the `EOWorkflow`\nworkflow.dependency_graph()","visibility":"show","key":"NXT3oe6ki9"},{"type":"output","id":"mc_FfW4O9h3lZ4LBLZoT-","data":[{"output_type":"execute_result","execution_count":8,"metadata":{},"data":{"image/svg+xml":{"content":"\u003c?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?\u003e\n\u003c!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"\u003e\n\u003c!-- Generated by graphviz version 8.0.3 (20230418.1244)\n --\u003e\n\u003c!-- Pages: 1 --\u003e\n\u003csvg width=\"2401pt\" height=\"44pt\"\n viewBox=\"0.00 0.00 2400.51 44.00\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\u003e\n\u003cg id=\"graph0\" class=\"graph\" transform=\"scale(1 1) rotate(0) translate(4 40)\"\u003e\n\u003cpolygon fill=\"white\" stroke=\"none\" points=\"-4,4 -4,-40 2396.51,-40 2396.51,4 -4,4\"/\u003e\n\u003c!-- Sentinel Hub Input Task --\u003e\n\u003cg id=\"node1\" class=\"node\"\u003e\n\u003ctitle\u003eSentinel Hub Input Task\u003c/title\u003e\n\u003cellipse fill=\"none\" stroke=\"black\" cx=\"123.49\" cy=\"-18\" rx=\"123.48\" ry=\"18\"/\u003e\n\u003ctext text-anchor=\"middle\" x=\"123.49\" y=\"-14.3\" font-family=\"Times,serif\" font-size=\"14.00\"\u003eSentinel Hub Input Task\u003c/text\u003e\n\u003c/g\u003e\n\u003c!-- Compute NDVI Task --\u003e\n\u003cg id=\"node2\" class=\"node\"\u003e\n\u003ctitle\u003eCompute NDVI Task\u003c/title\u003e\n\u003cellipse fill=\"none\" stroke=\"black\" cx=\"387.62\" cy=\"-18\" rx=\"104.78\" ry=\"18\"/\u003e\n\u003ctext text-anchor=\"middle\" x=\"387.62\" y=\"-14.3\" font-family=\"Times,serif\" font-size=\"14.00\"\u003eCompute NDVI Task\u003c/text\u003e\n\u003c/g\u003e\n\u003c!-- Sentinel Hub Input Task\u0026#45;\u0026gt;Compute NDVI Task --\u003e\n\u003cg id=\"edge1\" class=\"edge\"\u003e\n\u003ctitle\u003eSentinel Hub Input Task\u0026#45;\u0026gt;Compute NDVI Task\u003c/title\u003e\n\u003cpath fill=\"none\" stroke=\"black\" d=\"M247.11,-18C255.36,-18 263.65,-18 271.85,-18\"/\u003e\n\u003cpolygon fill=\"black\" stroke=\"black\" points=\"271.58,-21.5 281.58,-18 271.58,-14.5 271.58,-21.5\"/\u003e\n\u003c/g\u003e\n\u003c!-- Add Valid Mask Task --\u003e\n\u003cg id=\"node3\" class=\"node\"\u003e\n\u003ctitle\u003eAdd Valid Mask Task\u003c/title\u003e\n\u003cellipse fill=\"none\" stroke=\"black\" cx=\"634.85\" cy=\"-18\" rx=\"106.68\" ry=\"18\"/\u003e\n\u003ctext text-anchor=\"middle\" x=\"634.85\" y=\"-14.3\" font-family=\"Times,serif\" font-size=\"14.00\"\u003eAdd Valid Mask Task\u003c/text\u003e\n\u003c/g\u003e\n\u003c!-- Compute NDVI Task\u0026#45;\u0026gt;Add Valid Mask Task --\u003e\n\u003cg id=\"edge2\" class=\"edge\"\u003e\n\u003ctitle\u003eCompute NDVI Task\u0026#45;\u0026gt;Add Valid Mask Task\u003c/title\u003e\n\u003cpath fill=\"none\" stroke=\"black\" d=\"M492.62,-18C500.61,-18 508.7,-18 516.77,-18\"/\u003e\n\u003cpolygon fill=\"black\" stroke=\"black\" points=\"516.73,-21.5 526.73,-18 516.73,-14.5 516.73,-21.5\"/\u003e\n\u003c/g\u003e\n\u003c!-- Add MaxMin NDVI Task --\u003e\n\u003cg id=\"node4\" class=\"node\"\u003e\n\u003ctitle\u003eAdd MaxMin NDVI Task\u003c/title\u003e\n\u003cellipse fill=\"none\" stroke=\"black\" cx=\"898.98\" cy=\"-18\" rx=\"121.58\" ry=\"18\"/\u003e\n\u003ctext text-anchor=\"middle\" x=\"898.98\" y=\"-14.3\" font-family=\"Times,serif\" font-size=\"14.00\"\u003eAdd MaxMin NDVI Task\u003c/text\u003e\n\u003c/g\u003e\n\u003c!-- Add Valid Mask Task\u0026#45;\u0026gt;Add MaxMin NDVI Task --\u003e\n\u003cg id=\"edge3\" class=\"edge\"\u003e\n\u003ctitle\u003eAdd Valid Mask Task\u0026#45;\u0026gt;Add MaxMin NDVI Task\u003c/title\u003e\n\u003cpath fill=\"none\" stroke=\"black\" d=\"M741.71,-18C749.81,-18 758.05,-18 766.29,-18\"/\u003e\n\u003cpolygon fill=\"black\" stroke=\"black\" points=\"766.11,-21.5 776.11,-18 766.11,-14.5 766.11,-21.5\"/\u003e\n\u003c/g\u003e\n\u003c!-- Add ArgMaxMin Red Task --\u003e\n\u003cg id=\"node5\" class=\"node\"\u003e\n\u003ctitle\u003eAdd ArgMaxMin Red Task\u003c/title\u003e\n\u003cellipse fill=\"none\" stroke=\"black\" cx=\"1187.81\" cy=\"-18\" rx=\"131.08\" ry=\"18\"/\u003e\n\u003ctext text-anchor=\"middle\" x=\"1187.81\" y=\"-14.3\" font-family=\"Times,serif\" font-size=\"14.00\"\u003eAdd ArgMaxMin Red Task\u003c/text\u003e\n\u003c/g\u003e\n\u003c!-- Add MaxMin NDVI Task\u0026#45;\u0026gt;Add ArgMaxMin Red Task --\u003e\n\u003cg id=\"edge4\" class=\"edge\"\u003e\n\u003ctitle\u003eAdd MaxMin NDVI Task\u0026#45;\u0026gt;Add ArgMaxMin Red Task\u003c/title\u003e\n\u003cpath fill=\"none\" stroke=\"black\" d=\"M1020.79,-18C1028.99,-18 1037.28,-18 1045.57,-18\"/\u003e\n\u003cpolygon fill=\"black\" stroke=\"black\" points=\"1045.45,-21.5 1055.45,-18 1045.45,-14.5 1045.45,-21.5\"/\u003e\n\u003c/g\u003e\n\u003c!-- Add MaxMin NDVI Slope Task --\u003e\n\u003cg id=\"node6\" class=\"node\"\u003e\n\u003ctitle\u003eAdd MaxMin NDVI Slope Task\u003c/title\u003e\n\u003cellipse fill=\"none\" stroke=\"black\" cx=\"1505.23\" cy=\"-18\" rx=\"150.27\" ry=\"18\"/\u003e\n\u003ctext text-anchor=\"middle\" x=\"1505.23\" y=\"-14.3\" font-family=\"Times,serif\" font-size=\"14.00\"\u003eAdd MaxMin NDVI Slope Task\u003c/text\u003e\n\u003c/g\u003e\n\u003c!-- Add ArgMaxMin Red Task\u0026#45;\u0026gt;Add MaxMin NDVI Slope Task --\u003e\n\u003cg id=\"edge5\" class=\"edge\"\u003e\n\u003ctitle\u003eAdd ArgMaxMin Red Task\u0026#45;\u0026gt;Add MaxMin NDVI Slope Task\u003c/title\u003e\n\u003cpath fill=\"none\" stroke=\"black\" d=\"M1319.38,-18C1327.45,-18 1335.62,-18 1343.8,-18\"/\u003e\n\u003cpolygon fill=\"black\" stroke=\"black\" points=\"1343.55,-21.5 1353.55,-18 1343.55,-14.5 1343.55,-21.5\"/\u003e\n\u003c/g\u003e\n\u003c!-- Add Spatiotemporal Features Task --\u003e\n\u003cg id=\"node7\" class=\"node\"\u003e\n\u003ctitle\u003eAdd Spatiotemporal Features Task\u003c/title\u003e\n\u003cellipse fill=\"none\" stroke=\"black\" cx=\"1862.3\" cy=\"-18\" rx=\"170.87\" ry=\"18\"/\u003e\n\u003ctext text-anchor=\"middle\" x=\"1862.3\" y=\"-14.3\" font-family=\"Times,serif\" font-size=\"14.00\"\u003eAdd Spatiotemporal Features Task\u003c/text\u003e\n\u003c/g\u003e\n\u003c!-- Add MaxMin NDVI Slope Task\u0026#45;\u0026gt;Add Spatiotemporal Features Task --\u003e\n\u003cg id=\"edge6\" class=\"edge\"\u003e\n\u003ctitle\u003eAdd MaxMin NDVI Slope Task\u0026#45;\u0026gt;Add Spatiotemporal Features Task\u003c/title\u003e\n\u003cpath fill=\"none\" stroke=\"black\" d=\"M1655.79,-18C1663.89,-18 1672.07,-18 1680.27,-18\"/\u003e\n\u003cpolygon fill=\"black\" stroke=\"black\" points=\"1680.04,-21.5 1690.04,-18 1680.04,-14.5 1680.04,-21.5\"/\u003e\n\u003c/g\u003e\n\u003c!-- Save Task --\u003e\n\u003cg id=\"node8\" class=\"node\"\u003e\n\u003ctitle\u003eSave Task\u003c/title\u003e\n\u003cellipse fill=\"none\" stroke=\"black\" cx=\"2126.43\" cy=\"-18\" rx=\"57.39\" ry=\"18\"/\u003e\n\u003ctext text-anchor=\"middle\" x=\"2126.43\" y=\"-14.3\" font-family=\"Times,serif\" font-size=\"14.00\"\u003eSave Task\u003c/text\u003e\n\u003c/g\u003e\n\u003c!-- Add Spatiotemporal Features Task\u0026#45;\u0026gt;Save Task --\u003e\n\u003cg id=\"edge7\" class=\"edge\"\u003e\n\u003ctitle\u003eAdd Spatiotemporal Features Task\u0026#45;\u0026gt;Save Task\u003c/title\u003e\n\u003cpath fill=\"none\" stroke=\"black\" d=\"M2033.39,-18C2041.85,-18 2050.08,-18 2057.91,-18\"/\u003e\n\u003cpolygon fill=\"black\" stroke=\"black\" points=\"2057.7,-21.5 2067.7,-18 2057.7,-14.5 2057.7,-21.5\"/\u003e\n\u003c/g\u003e\n\u003c!-- Output EOPatch --\u003e\n\u003cg id=\"node9\" class=\"node\"\u003e\n\u003ctitle\u003eOutput EOPatch\u003c/title\u003e\n\u003cellipse fill=\"none\" stroke=\"black\" cx=\"2306.07\" cy=\"-18\" rx=\"86.38\" ry=\"18\"/\u003e\n\u003ctext text-anchor=\"middle\" x=\"2306.07\" y=\"-14.3\" font-family=\"Times,serif\" font-size=\"14.00\"\u003eOutput EOPatch\u003c/text\u003e\n\u003c/g\u003e\n\u003c!-- Save Task\u0026#45;\u0026gt;Output EOPatch --\u003e\n\u003cg id=\"edge8\" class=\"edge\"\u003e\n\u003ctitle\u003eSave Task\u0026#45;\u0026gt;Output EOPatch\u003c/title\u003e\n\u003cpath fill=\"none\" stroke=\"black\" d=\"M2184.13,-18C2191.96,-18 2200.19,-18 2208.5,-18\"/\u003e\n\u003cpolygon fill=\"black\" stroke=\"black\" points=\"2208.46,-21.5 2218.46,-18 2208.46,-14.5 2208.46,-21.5\"/\u003e\n\u003c/g\u003e\n\u003c/g\u003e\n\u003c/svg\u003e\n","content_type":"image/svg+xml"},"text/plain":{"content":"\u003cgraphviz.graphs.Digraph at 0x7ff4d2974350\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"bMMspyiXrb"}],"visibility":"show","key":"qpMeBXBa21"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.038881,"end_time":"2023-10-24T07:57:58.229755","exception":false,"start_time":"2023-10-24T07:57:58.190874","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now we need to define an area of interest and a time interval for the implementation of our ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rQ98yqady3"},{"type":"inlineCode","value":"EOWorkflow","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YKypZB9rXH"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xWWp5Brl8l"}],"key":"ryvyuhMCSi"}],"visibility":"show","key":"X6mgdlEo6m"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:57:58.319825Z","iopub.status.busy":"2023-10-24T07:57:58.319452Z","iopub.status.idle":"2023-10-24T07:57:58.322677Z","shell.execute_reply":"2023-10-24T07:57:58.322137Z"},"papermill":{"duration":0.041062,"end_time":"2023-10-24T07:57:58.323937","exception":false,"start_time":"2023-10-24T07:57:58.282875","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Define the area of interest and time interval\naoi_bbox = BBox(bbox=[5.60, 52.68, 5.75, 52.63], crs=CRS.WGS84)\ntime_interval = ('2017-04-01', '2017-10-31')","visibility":"show","key":"e48MqX7xgL"},{"type":"output","id":"iIQCiuM4RxNvWCPMfdy_b","data":[],"visibility":"show","key":"wMMRRny2MF"}],"visibility":"show","key":"K5FGJLoAeA"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.04023,"end_time":"2023-10-24T07:57:58.416198","exception":false,"start_time":"2023-10-24T07:57:58.375968","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Finally, we execute the workflow in the following cell.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YSppxl6OML"}],"key":"OaneIkZYNz"}],"visibility":"show","key":"ziiYYGO5FZ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:57:58.506981Z","iopub.status.busy":"2023-10-24T07:57:58.506697Z","iopub.status.idle":"2023-10-24T07:58:33.812981Z","shell.execute_reply":"2023-10-24T07:58:33.812534Z"},"papermill":{"duration":35.347435,"end_time":"2023-10-24T07:58:33.814405","exception":false,"start_time":"2023-10-24T07:57:58.466970","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"result = workflow.execute({\n    add_data_node: {'bbox': aoi_bbox, 'time_interval': time_interval},\n    save_task_node: {'eopatch_folder': 'eopatch'}\n})","visibility":"show","key":"XAMXRPZ8Sw"},{"type":"output","id":"Yg7azQjNev_eEIr4NwpUA","data":[],"visibility":"show","key":"ZVL9XwAHxK"}],"visibility":"show","key":"oyTlObvwe8"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.037605,"end_time":"2023-10-24T07:58:33.909671","exception":false,"start_time":"2023-10-24T07:58:33.872066","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"c67Zu76h9p"},{"type":"inlineCode","value":"EOPatch","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"E0fTCd3pit"},{"type":"text","value":" output from the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BqS2BuznxO"},{"type":"inlineCode","value":"EOWorkflow","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KKQa8KviaF"}],"identifier":"visualize-the-eopatch-output-from-the-eoworkflow","label":"Visualize the EOPatch output from the EOWorkflow","html_id":"visualize-the-eopatch-output-from-the-eoworkflow","implicit":true,"key":"HUUNQOBnYq"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Once the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Js5LNP6tfq"},{"type":"inlineCode","value":"EOWorkflow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gy2VDguia6"},{"type":"text","value":" is run and done processing, we can open the result as an ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sKVOdqEYWX"},{"type":"inlineCode","value":"EOPatch","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jISQRrdplV"},{"type":"text","value":". The following cell shows the way to open the results of an ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"krIO7AlWTv"},{"type":"inlineCode","value":"EOWorkflow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"AydcDIiYsk"},{"type":"text","value":" as an ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"V5MgEuZ9IQ"},{"type":"inlineCode","value":"EOPatch","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NTCk0UdhQB"},{"type":"text","value":" and the structure of EO data stored inside it.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EAhdXMLWQs"}],"key":"Pdfn06UDUR"}],"visibility":"show","key":"briYQlhruT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:58:34.000473Z","iopub.status.busy":"2023-10-24T07:58:34.000131Z","iopub.status.idle":"2023-10-24T07:58:34.003921Z","shell.execute_reply":"2023-10-24T07:58:34.003411Z"},"papermill":{"duration":0.042383,"end_time":"2023-10-24T07:58:34.005003","exception":false,"start_time":"2023-10-24T07:58:33.962620","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Open data output from `EOWorkflow`\n# The key of outputs is defined by OutputTask()\neop = result.outputs[\"eopatch\"]\neop","visibility":"show","key":"xagv1gqy6A"},{"type":"output","id":"vwZlynvryTpY1ymQr-zGd","data":[{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/plain":{"content":"EOPatch(\n  bbox=BBox(((5.6, 52.63), (5.75, 52.68)), crs=CRS('4326'))\n  timestamps=[datetime.datetime(2017, 4, 3, 10, 41, 38), ..., datetime.datetime(2017, 10, 30, 10, 41, 50)], length=66\n  data_timeless={\n    ARGMAX_B4: numpy.ndarray(shape=(297, 497, 1), dtype=int64)\n    ARGMAX_NDVI: numpy.ndarray(shape=(297, 497, 1), dtype=int64)\n    ARGMAX_NDVI_SLOPE: numpy.ndarray(shape=(297, 497, 1), dtype=uint8)\n    ARGMIN_B4: numpy.ndarray(shape=(297, 497, 1), dtype=int64)\n    ARGMIN_NDVI: numpy.ndarray(shape=(297, 497, 1), dtype=int64)\n    ARGMIN_NDVI_SLOPE: numpy.ndarray(shape=(297, 497, 1), dtype=uint8)\n    STF: numpy.ndarray(shape=(297, 497, 20), dtype=float32)\n  }\n  mask={\n    CLM: numpy.ndarray(shape=(66, 297, 497, 1), dtype=uint8)\n    IS_DATA: numpy.ndarray(shape=(66, 297, 497, 1), dtype=bool)\n    VALID_DATA: numpy.ndarray(shape=(66, 297, 497, 1), dtype=bool)\n  }\n  data={\n    BANDS-S2-L1C: numpy.ndarray(shape=(66, 297, 497, 13), dtype=float32)\n    NDVI: numpy.ndarray(shape=(66, 297, 497, 1), dtype=float32)\n  }\n)","content_type":"text/plain"}}}],"visibility":"show","key":"fE03nms1iw"}],"visibility":"show","key":"M9sQG5LogO"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.035373,"end_time":"2023-10-24T07:58:34.094581","exception":false,"start_time":"2023-10-24T07:58:34.059208","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"inlineCode","value":"VALID_DATA","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gGMiUi7ivy"},{"type":"text","value":" mask","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lxS6eSGmRP"}],"identifier":"valid-data-mask","label":"VALID_DATA mask","html_id":"valid-data-mask","implicit":true,"key":"CsUR5OINqm"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Below we visualize how a valid data mask is generated. ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jAEIQrSnpX"},{"type":"link","url":"https://eo-learn.readthedocs.io/en/latest/eolearn.core.core_tasks.html#eolearn.core.core_tasks.ZipFeatureTask","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"inlineCode","value":"ZipFeatureTask","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VDA0kaRS1M"}],"urlSource":"https://eo-learn.readthedocs.io/en/latest/eolearn.core.core_tasks.html#eolearn.core.core_tasks.ZipFeatureTask","key":"ntuF6fq5Cq"},{"type":"text","value":" allows us to feed in a self-defined formula that takes multiple inputs and returns a single output. In this Jupyter Notebook we define ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"khAOrZAWA6"},{"type":"inlineCode","value":"AddValidDataMaskTask()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Jz59YiHLFw"},{"type":"text","value":" on the top of ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BTgbDzrfL9"},{"type":"inlineCode","value":"ZipFeatureTask","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aOGYrx3ZIM"},{"type":"text","value":" to combine ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lO83bvBu3f"},{"type":"inlineCode","value":"IS_DATA","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CiDfO2G2HW"},{"type":"text","value":" (taken from ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"eW9HtnZn7O"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/user-guides/datamask/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"dataMask","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OflWQVxLXd"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/user-guides/datamask/","key":"VVXYDFOFsr"},{"type":"text","value":") and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"uTf7AlLVuU"},{"type":"inlineCode","value":"CLM","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hlGZIxBdAw"},{"type":"text","value":" (see ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ipuL1i97Dq"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/user-guides/cloud-masks/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"description","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sZVRzBxc4P"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/user-guides/cloud-masks/","key":"J9th5p9LSG"},{"type":"text","value":") to form the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"InRoHVAyWz"},{"type":"inlineCode","value":"VALID_DATA","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NISjV403HG"},{"type":"text","value":" mask. Pixel values are valid only if ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hbxg6l2xbQ"},{"type":"inlineCode","value":"IS_DATA","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"f1A6bXleK6"},{"type":"text","value":" is ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jGPo3bZnB3"},{"type":"inlineCode","value":"True","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rLSWd21WZ4"},{"type":"text","value":" (there is data) and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cofIsTiIHk"},{"type":"inlineCode","value":"CLM","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RWxBIEmjcm"},{"type":"text","value":" is ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ax92rv5Qw4"},{"type":"inlineCode","value":"False","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rjZf1Cg0iO"},{"type":"text","value":" (no clouds).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cFsH49AGnB"}],"key":"zcs8ChKqWb"}],"visibility":"show","key":"zYn1SmCJl0"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:58:34.196436Z","iopub.status.busy":"2023-10-24T07:58:34.196130Z","iopub.status.idle":"2023-10-24T07:58:34.398501Z","shell.execute_reply":"2023-10-24T07:58:34.397941Z"},"papermill":{"duration":0.241965,"end_time":"2023-10-24T07:58:34.399589","exception":false,"start_time":"2023-10-24T07:58:34.157624","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"ts_idx = 5\n\nsubplot_kw = {'xticks': [], 'yticks': [], 'frame_on': True}\nfig, axs = plt.subplots(nrows=1, ncols=3, figsize=(15,5), subplot_kw=subplot_kw)\n\nax = axs[0]\nax.imshow(eop.mask['IS_DATA'][ts_idx].squeeze(), vmin=0, vmax=1, cmap='gray')\nax.set_title('IS_DATA')\n\nax = axs[1]\nax.imshow(eop.mask['CLM'][ts_idx].squeeze(),  vmin=0, vmax=1, cmap='gray')\nax.set_title('CLM')\n\nax = axs[2]\nim = ax.imshow(eop.mask['VALID_DATA'][ts_idx].squeeze(),\n               cmap=ListedColormap(['#000000', '#ffffff']), \n               norm=BoundaryNorm([-0.5, 0.5, 1.5], 2))\nax.set_title('VALID_DATA')\n\ncb = fig.colorbar(im, ax=axs.ravel().tolist(), orientation='horizontal', pad=0.05, aspect=100)\ncb.set_ticks([0,1])\ncb.ax.set_xticklabels([False, True], fontsize=12);","visibility":"show","key":"QCKXJcl3Jd"},{"type":"output","id":"dsbP2_no7i2G4k15ZGiM-","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"c134dd61d3d909d222b9395001d39838","path":"/example-viewer/build/c134dd61d3d909d222b9395001d39838.png"},"text/plain":{"content":"\u003cFigure size 1500x500 with 4 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"pMgyVUexMD"}],"visibility":"show","key":"cdai7z5rqe"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.038224,"end_time":"2023-10-24T07:58:34.520450","exception":false,"start_time":"2023-10-24T07:58:34.482226","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Cloud cover","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"goCDY12o0y"}],"identifier":"cloud-cover","label":"Cloud cover","html_id":"cloud-cover","implicit":true,"key":"ddqFdEXhCS"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We can also calculate the cloud cover percentage and visualize its changes along the timestamps of data.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ePWRYVgadl"}],"key":"idRslclpsE"}],"visibility":"show","key":"GCGdW5J8vB"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:58:34.612671Z","iopub.status.busy":"2023-10-24T07:58:34.612179Z","iopub.status.idle":"2023-10-24T07:58:34.855963Z","shell.execute_reply":"2023-10-24T07:58:34.855571Z"},"papermill":{"duration":0.284259,"end_time":"2023-10-24T07:58:34.857208","exception":false,"start_time":"2023-10-24T07:58:34.572949","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# cloud coverage\ncc = [np.sum(x)/(np.prod(x.shape)) for x in eop.mask['CLM']]\n\nfix, ax = plt.subplots(1,1,figsize=(15,5))\nplt.plot(eop.timestamp, cc, '*--')\nplt.ylabel('Cloud coverage')\nplt.xlabel('Time')\nplt.title('Cloud coverage over an area in the Netherlands - 2017');","visibility":"show","key":"DxJivdbc8V"},{"type":"output","id":"H-gQvDS81KwZLegEu6ZXv","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"834608f61d2e97d9b5157e7101676ff5","path":"/example-viewer/build/834608f61d2e97d9b5157e7101676ff5.png"},"text/plain":{"content":"\u003cFigure size 1500x500 with 1 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"QlbLpRMP54"}],"visibility":"show","key":"G45GZEp4IJ"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.048967,"end_time":"2023-10-24T07:58:34.974635","exception":false,"start_time":"2023-10-24T07:58:34.925668","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Spatiotemporal features of a specific field","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fcbgSLpxdo"}],"identifier":"spatiotemporal-features-of-a-specific-field","label":"Spatiotemporal features of a specific field","html_id":"spatiotemporal-features-of-a-specific-field","implicit":true,"key":"z7sydm9gUk"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"If we’re looking into a specific field, it is easy to slice the field out of the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vzkP3AzGpg"},{"type":"inlineCode","value":"EOPatch","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ElqkrKFUI6"},{"type":"text","value":" and visualize its NDVI variation thourghout the timestamps.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qcxUiscEGf"}],"key":"N7oECDJahK"}],"visibility":"show","key":"XPCgR3EvE2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:58:35.095565Z","iopub.status.busy":"2023-10-24T07:58:35.095193Z","iopub.status.idle":"2023-10-24T07:58:35.457250Z","shell.execute_reply":"2023-10-24T07:58:35.456820Z"},"papermill":{"duration":0.415778,"end_time":"2023-10-24T07:58:35.458499","exception":false,"start_time":"2023-10-24T07:58:35.042721","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"field_mask = (slice(None), slice(227, 241), slice(314,330))\nndvi_patch = eop.data['NDVI'][field_mask].squeeze(-1)\n\nfix, axs = plt.subplots(1,2,figsize=(20,8))\n\nax = axs[0]\nax.imshow(ndvi_patch[20])\nax.set_aspect('auto')\n\nax = axs[1]\nmean = np.mean(ndvi_patch, axis=(1,2))\nstd = np.std(ndvi_patch, axis=(1,2))\nax.plot(eop.timestamp, mean, color='g', label='NDVI')\nax.fill_between(eop.timestamp, mean-std, mean+std, alpha=0.2, color='g');\nax.set_aspect('auto')\n\nplt.legend(fontsize=15);","visibility":"show","key":"iaTwApk1o9"},{"type":"output","id":"uF68pmUjD7cB0DDZTpXBq","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"68ffbed2eb5352105cef0cae0e694064","path":"/example-viewer/build/68ffbed2eb5352105cef0cae0e694064.png"},"text/plain":{"content":"\u003cFigure size 2000x800 with 2 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"bYwvRQd4FU"}],"visibility":"show","key":"zLdoGMUF1k"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.04642,"end_time":"2023-10-24T07:58:35.566016","exception":false,"start_time":"2023-10-24T07:58:35.519596","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Distribution of temporal indices","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BryFXb7Y8H"}],"identifier":"distribution-of-temporal-indices","label":"Distribution of temporal indices","html_id":"distribution-of-temporal-indices","implicit":true,"key":"bV16f6LQfw"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the following cell we visualize the distribution of temporal indices having the maximum or minimum values of NDVI features, which gives an overview on when most of the fields have maximum or minimum values of NDVI features.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"itwhjcoMw3"}],"key":"RrNGS8kRcH"}],"visibility":"show","key":"lUaIq6Rnoz"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:58:35.673600Z","iopub.status.busy":"2023-10-24T07:58:35.673173Z","iopub.status.idle":"2023-10-24T07:58:36.462298Z","shell.execute_reply":"2023-10-24T07:58:36.461824Z"},"papermill":{"duration":0.845424,"end_time":"2023-10-24T07:58:36.471079","exception":false,"start_time":"2023-10-24T07:58:35.625655","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"subplot_kw = {'xticks': [], 'yticks': [], 'frame_on': True}\nfig, axs = plt.subplots(nrows = 2, ncols = 3, figsize=(20,8), subplot_kw = subplot_kw)\n\nax = axs[0,0]\nim = ax.imshow(eop.data_timeless['ARGMAX_NDVI'].squeeze())\nax.set_title(\"Temporal indices for argmax NDVI - no interpolation\", fontsize=15)\ndivider = make_axes_locatable(ax)\ncax = divider.append_axes(\"right\", size=\"2%\", pad=0.05)\nfig.colorbar(im, cax=cax)\n\nax = axs[0,1]\nim = ax.imshow(eop.data_timeless['ARGMIN_NDVI'].squeeze())\nax.set_title(\"Temporal indices for argmin NDVI - no interpolation\", fontsize=15)\ndivider = make_axes_locatable(ax)\ncax = divider.append_axes(\"right\", size=\"2%\", pad=0.05)\nfig.colorbar(im, cax=cax)\n\nax = axs[0,2]\nim = ax.imshow(eop.data_timeless['ARGMAX_NDVI_SLOPE'].squeeze())\nax.set_title(\"Temporal indices for argmax NDVI slope\", fontsize=15)\ndivider = make_axes_locatable(ax)\ncax = divider.append_axes(\"right\", size=\"2%\", pad=0.05)\nfig.colorbar(im, cax=cax)\n\nax = axs[1,1]\nim = ax.imshow(eop.data_timeless['ARGMIN_NDVI_SLOPE'].squeeze())\nax.set_title(\"Temporal indices for argmin NDVI slope\", fontsize=15)\ndivider = make_axes_locatable(ax)\ncax = divider.append_axes(\"right\", size=\"2%\", pad=0.05)\nfig.colorbar(im, cax=cax)\n\nax = axs[1,0]\nim = ax.imshow(eop.data_timeless['ARGMAX_B4'].squeeze())\nax.set_title(\"Temporal indices for argmax red\", fontsize=15)\ndivider = make_axes_locatable(ax)\ncax = divider.append_axes(\"right\", size=\"2%\", pad=0.05)\nfig.colorbar(im, cax=cax)\n\nax = axs[1,2]\nax.axis(False);\n\nplt.tight_layout()","visibility":"show","key":"wGkeY9CVQo"},{"type":"output","id":"aQj0tXGxz9TXg5ScbZ9G4","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"4d5a69e678d0e25dd5f087869352d932","path":"/example-viewer/build/4d5a69e678d0e25dd5f087869352d932.png"},"text/plain":{"content":"\u003cFigure size 2000x800 with 11 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"krW1mc7gcB"}],"visibility":"show","key":"cb3RBm4DM6"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.086009,"end_time":"2023-10-24T07:58:36.666963","exception":false,"start_time":"2023-10-24T07:58:36.580954","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"False color images of NDVI features","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HMnT8AxAJ3"}],"identifier":"false-color-images-of-ndvi-features","label":"False color images of NDVI features","html_id":"false-color-images-of-ndvi-features","implicit":true,"key":"iLzboSy3dq"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Traditionally a combination of infrared-red-green false color image is useful for vegetation monitoring. Below we visualize the false color images of NDVI features to have an overview on vegetation changes during a crop cycle.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MOMjzv7q1e"}],"key":"zMoDjKPVkQ"}],"visibility":"show","key":"CTZJee0wUI"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:58:36.865829Z","iopub.status.busy":"2023-10-24T07:58:36.865463Z","iopub.status.idle":"2023-10-24T07:58:38.044249Z","shell.execute_reply":"2023-10-24T07:58:38.043700Z"},"papermill":{"duration":1.284526,"end_time":"2023-10-24T07:58:38.060241","exception":false,"start_time":"2023-10-24T07:58:36.775715","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"subplot_kw = {'xticks': [], 'yticks': [], 'frame_on': True}\nfig, axs = plt.subplots(nrows = 2, ncols = 3, figsize=(20,10), subplot_kw = subplot_kw)\n\nax = axs[0,0]\nax.imshow(np.clip(eop.data_timeless['STF'][:,:,[2,1,0]], 0, 1))\nax.set_title(\"IR-R-G reflectances for argmax NDVI\", fontsize=15)\n\nax = axs[0,1]\nax.imshow(np.clip(eop.data_timeless['STF'][:,:,[6,5,4]], 0, 1))\nax.set_title(\"IR-R-G reflectances for argmin NDVI\", fontsize=15)\n\nax = axs[0,2]\nax.imshow(np.clip(eop.data_timeless['STF'][:,:,[10,9,8]], 0, 1))\nax.set_title(\"IR-R-G reflectances for argmax NDVI slope\", fontsize=15)\n\nax = axs[1,1]\nax.imshow(np.clip(eop.data_timeless['STF'][:,:,[14,13,12]], 0, 1))\nax.set_title(\"IR-R-G reflectances for argmin NDVI slope\", fontsize=15)\n\nax = axs[1,0]\nax.imshow(np.clip(eop.data_timeless['STF'][:,:,[18,17,16]], 0, 1))\nax.set_title(\"IR-R-G reflectances for argmax red\", fontsize=15);\n\nax = axs[1,2]\nax.axis(False);\n\nplt.tight_layout()","visibility":"show","key":"nHUnKy3wPS"},{"type":"output","id":"lQCnaQvwdrKNlHh9Ynd1f","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"982dd91fd1d666c53814aa8b7146b2fb","path":"/example-viewer/build/982dd91fd1d666c53814aa8b7146b2fb.png"},"text/plain":{"content":"\u003cFigure size 2000x1000 with 6 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"yQLuzhQLbF"}],"visibility":"show","key":"Ez6CU42Snt"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.120839,"end_time":"2023-10-24T07:58:38.326440","exception":false,"start_time":"2023-10-24T07:58:38.205601","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load an existing ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OnlbnjkeM7"},{"type":"inlineCode","value":"EOPatch","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wtDsv6r3fq"},{"type":"text","value":" from a filesystem to build another ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iBrzp8hzIz"},{"type":"inlineCode","value":"EOWorkflow","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MGldrpp9Xb"}],"identifier":"load-an-existing-eopatch-from-a-filesystem-to-build-another-eoworkflow","label":"Load an existing EOPatch from a filesystem to build another EOWorkflow","html_id":"load-an-existing-eopatch-from-a-filesystem-to-build-another-eoworkflow","implicit":true,"key":"bAOlQLHOtM"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the previous processing chain, we calculated spatiotemporal indices via masking out invalid data which could lead to data gaps within the time interval. From a machine learning perspective, we train models to recognize features of indices’ temporal changes, meaning that data gaps should be avoided. One way to solve this problem is to create a homogenous temporal data-stack using interpolation. Since the changes of vegetation is usually a slow process over time, it is reasonable to implement a linear interpolation to fill up the missing data to make our data better for ML training. Here we will show how to build another ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Pz7PZVuIBU"},{"type":"inlineCode","value":"EOWorkflow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Jlu1ozOLvh"},{"type":"text","value":" to implement interpolation before calculating spatiotemporal indices in a few steps:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UEmBNHswGy"}],"key":"bL2PfzzWtY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Load the previously saved ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"IJo2VIYqIT"},{"type":"inlineCode","value":"EOPatch","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"wshl6vANTF"}],"key":"LfWS9oGfO4"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Define ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"jM0GKMR4rh"},{"type":"inlineCode","value":"EOTasks","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"e3a3US1efP"},{"type":"text","value":" implementing interpolation","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"KfRMwGbNs9"}],"key":"mRAiTuvPnI"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Wrap ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"lbhob68eJK"},{"type":"inlineCode","value":"EOTasks","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"GSfCUjenaV"},{"type":"text","value":" into ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"M8D256o6GL"},{"type":"inlineCode","value":"EONodes","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"TtknQ66JhW"}],"key":"sKkc8oCyHI"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Build a new ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"TapddimyeO"},{"type":"inlineCode","value":"EOWorkflow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"NInsjcoa6c"},{"type":"text","value":" from ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"JGUxUKaNas"},{"type":"inlineCode","value":"EONodes","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"jDBKWrtX0G"}],"key":"zwMizSSbK0"}],"key":"k3Az7yGfbq"}],"visibility":"show","key":"LJ4UyvGIIT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:58:38.576308Z","iopub.status.busy":"2023-10-24T07:58:38.576056Z","iopub.status.idle":"2023-10-24T07:58:38.580670Z","shell.execute_reply":"2023-10-24T07:58:38.580167Z"},"papermill":{"duration":0.126267,"end_time":"2023-10-24T07:58:38.581680","exception":false,"start_time":"2023-10-24T07:58:38.455413","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Load existing `EOPatch`\nload_task = LoadTask('./stf/')\n\n# Define new `EOTasks`\ninterp_ndvi = LinearInterpolationTask((FeatureType.DATA, 'NDVI'), mask_feature=(FeatureType.MASK, 'VALID_DATA'))\n\ninterp_bands = LinearInterpolationTask((FeatureType.DATA, 'BANDS-S2-L1C'), mask_feature=(FeatureType.MASK, 'VALID_DATA'))\n\nadd_maxmin_ndvi = AddMaxMinTemporalIndicesTask(mask_data=False)\n\nadd_maxmin_red = AddMaxMinTemporalIndicesTask(data_feature='BANDS-S2-L1C', \n                                              data_index=3, \n                                              amax_data_feature='ARGMAX_B4',\n                                              amin_data_feature='ARGMIN_B4',\n                                              mask_data=False)\n\nadd_maxmin_ndvi_sl = AddMaxMinNDVISlopeIndicesTask()\n\nadd_stf = AddSpatioTemporalFeaturesTask()\n\noutput = OutputTask(\"interp_eopatch\")","visibility":"show","key":"uz6CGp38pz"},{"type":"output","id":"cqLL2hZqEBupvXm6GjKxV","data":[],"visibility":"show","key":"cBshXVCxtN"}],"visibility":"show","key":"sDCPiNUekR"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:58:38.823396Z","iopub.status.busy":"2023-10-24T07:58:38.823140Z","iopub.status.idle":"2023-10-24T07:58:38.871301Z","shell.execute_reply":"2023-10-24T07:58:38.870757Z"},"papermill":{"duration":0.159381,"end_time":"2023-10-24T07:58:38.872359","exception":false,"start_time":"2023-10-24T07:58:38.712978","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Wrap `EOTasks` into `EONodes`\nload_node = EONode(load_task, inputs=[], name=\"Load EOPatch\")\ninterp_ndvi_node = EONode(interp_ndvi, inputs=[load_node], name=\"Interpolate NDVI Task\")\ninterp_bands_node = EONode(interp_bands, inputs=[interp_ndvi_node], name=\"Interpolate Bands Task\")\nadd_maxmin_ndvi_node = EONode(add_maxmin_ndvi, inputs=[interp_bands_node], name=\"Add MaxMin NDVI Task\")\nadd_maxmin_red_node = EONode(add_maxmin_red, inputs=[add_maxmin_ndvi_node], name=\"Add ArgMaxMin Red Task\")\nadd_maxmin_ndvi_sl_node = EONode(add_maxmin_ndvi_sl, inputs=[add_maxmin_red_node], name=\"Add MaxMin NDVI Slope Task\")\nadd_stf_node = EONode(add_stf, inputs=[add_maxmin_ndvi_sl_node], name=\"Add Spatiotemporal Features Task\")\noutput_node = EONode(output, inputs=[add_stf_node], name=\"Output Interpolated EOPatch\")\n\n# Assemble `EONodes` to an `EOWorkflow`\nworkflow_with_interp = EOWorkflow(\n    [\n        load_node,\n        interp_ndvi_node,\n        interp_bands_node,\n        add_maxmin_ndvi_node,\n        add_maxmin_red_node,\n        add_maxmin_ndvi_sl_node,\n        add_stf_node,\n        output_node\n    ]\n)\n\n# Visualize new `EOWorkflow`\nworkflow_with_interp.dependency_graph()","visibility":"show","key":"cGWJTIUPgb"},{"type":"output","id":"yWyvLoSWavhBIpkeOXb4K","data":[{"output_type":"execute_result","execution_count":18,"metadata":{},"data":{"image/svg+xml":{"content":"\u003c?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?\u003e\n\u003c!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"\u003e\n\u003c!-- Generated by graphviz version 8.0.3 (20230418.1244)\n --\u003e\n\u003c!-- Pages: 1 --\u003e\n\u003csvg width=\"2319pt\" height=\"44pt\"\n viewBox=\"0.00 0.00 2319.02 44.00\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\u003e\n\u003cg id=\"graph0\" class=\"graph\" transform=\"scale(1 1) rotate(0) translate(4 40)\"\u003e\n\u003cpolygon fill=\"white\" stroke=\"none\" points=\"-4,4 -4,-40 2315.02,-40 2315.02,4 -4,4\"/\u003e\n\u003c!-- Load EOPatch --\u003e\n\u003cg id=\"node1\" class=\"node\"\u003e\n\u003ctitle\u003eLoad EOPatch\u003c/title\u003e\n\u003cellipse fill=\"none\" stroke=\"black\" cx=\"76.04\" cy=\"-18\" rx=\"76.09\" ry=\"18\"/\u003e\n\u003ctext text-anchor=\"middle\" x=\"76.04\" y=\"-14.3\" font-family=\"Times,serif\" font-size=\"14.00\"\u003eLoad EOPatch\u003c/text\u003e\n\u003c/g\u003e\n\u003c!-- Interpolate NDVI Task --\u003e\n\u003cg id=\"node2\" class=\"node\"\u003e\n\u003ctitle\u003eInterpolate NDVI Task\u003c/title\u003e\n\u003cellipse fill=\"none\" stroke=\"black\" cx=\"302.48\" cy=\"-18\" rx=\"114.28\" ry=\"18\"/\u003e\n\u003ctext text-anchor=\"middle\" x=\"302.48\" y=\"-14.3\" font-family=\"Times,serif\" font-size=\"14.00\"\u003eInterpolate NDVI Task\u003c/text\u003e\n\u003c/g\u003e\n\u003c!-- Load EOPatch\u0026#45;\u0026gt;Interpolate NDVI Task --\u003e\n\u003cg id=\"edge1\" class=\"edge\"\u003e\n\u003ctitle\u003eLoad EOPatch\u0026#45;\u0026gt;Interpolate NDVI Task\u003c/title\u003e\n\u003cpath fill=\"none\" stroke=\"black\" d=\"M152.4,-18C160.46,-18 168.8,-18 177.24,-18\"/\u003e\n\u003cpolygon fill=\"black\" stroke=\"black\" points=\"176.96,-21.5 186.96,-18 176.96,-14.5 176.96,-21.5\"/\u003e\n\u003c/g\u003e\n\u003c!-- Interpolate Bands Task --\u003e\n\u003cg id=\"node3\" class=\"node\"\u003e\n\u003ctitle\u003eInterpolate Bands Task\u003c/title\u003e\n\u003cellipse fill=\"none\" stroke=\"black\" cx=\"571.16\" cy=\"-18\" rx=\"118.08\" ry=\"18\"/\u003e\n\u003ctext text-anchor=\"middle\" x=\"571.16\" y=\"-14.3\" font-family=\"Times,serif\" font-size=\"14.00\"\u003eInterpolate Bands Task\u003c/text\u003e\n\u003c/g\u003e\n\u003c!-- Interpolate NDVI Task\u0026#45;\u0026gt;Interpolate Bands Task --\u003e\n\u003cg id=\"edge2\" class=\"edge\"\u003e\n\u003ctitle\u003eInterpolate NDVI Task\u0026#45;\u0026gt;Interpolate Bands Task\u003c/title\u003e\n\u003cpath fill=\"none\" stroke=\"black\" d=\"M416.96,-18C425.24,-18 433.62,-18 441.98,-18\"/\u003e\n\u003cpolygon fill=\"black\" stroke=\"black\" points=\"441.94,-21.5 451.94,-18 441.94,-14.5 441.94,-21.5\"/\u003e\n\u003c/g\u003e\n\u003c!-- Add MaxMin NDVI Task --\u003e\n\u003cg id=\"node4\" class=\"node\"\u003e\n\u003ctitle\u003eAdd MaxMin NDVI Task\u003c/title\u003e\n\u003cellipse fill=\"none\" stroke=\"black\" cx=\"846.98\" cy=\"-18\" rx=\"121.58\" ry=\"18\"/\u003e\n\u003ctext text-anchor=\"middle\" x=\"846.98\" y=\"-14.3\" font-family=\"Times,serif\" font-size=\"14.00\"\u003eAdd MaxMin NDVI Task\u003c/text\u003e\n\u003c/g\u003e\n\u003c!-- Interpolate Bands Task\u0026#45;\u0026gt;Add MaxMin NDVI Task --\u003e\n\u003cg id=\"edge3\" class=\"edge\"\u003e\n\u003ctitle\u003eInterpolate Bands Task\u0026#45;\u0026gt;Add MaxMin NDVI Task\u003c/title\u003e\n\u003cpath fill=\"none\" stroke=\"black\" d=\"M689.48,-18C697.65,-18 705.92,-18 714.17,-18\"/\u003e\n\u003cpolygon fill=\"black\" stroke=\"black\" points=\"713.98,-21.5 723.98,-18 713.98,-14.5 713.98,-21.5\"/\u003e\n\u003c/g\u003e\n\u003c!-- Add ArgMaxMin Red Task --\u003e\n\u003cg id=\"node5\" class=\"node\"\u003e\n\u003ctitle\u003eAdd ArgMaxMin Red Task\u003c/title\u003e\n\u003cellipse fill=\"none\" stroke=\"black\" cx=\"1135.81\" cy=\"-18\" rx=\"131.08\" ry=\"18\"/\u003e\n\u003ctext text-anchor=\"middle\" x=\"1135.81\" y=\"-14.3\" font-family=\"Times,serif\" font-size=\"14.00\"\u003eAdd ArgMaxMin Red Task\u003c/text\u003e\n\u003c/g\u003e\n\u003c!-- Add MaxMin NDVI Task\u0026#45;\u0026gt;Add ArgMaxMin Red Task --\u003e\n\u003cg id=\"edge4\" class=\"edge\"\u003e\n\u003ctitle\u003eAdd MaxMin NDVI Task\u0026#45;\u0026gt;Add ArgMaxMin Red Task\u003c/title\u003e\n\u003cpath fill=\"none\" stroke=\"black\" d=\"M968.79,-18C976.99,-18 985.29,-18 993.58,-18\"/\u003e\n\u003cpolygon fill=\"black\" stroke=\"black\" points=\"993.46,-21.5 1003.46,-18 993.46,-14.5 993.46,-21.5\"/\u003e\n\u003c/g\u003e\n\u003c!-- Add MaxMin NDVI Slope Task --\u003e\n\u003cg id=\"node6\" class=\"node\"\u003e\n\u003ctitle\u003eAdd MaxMin NDVI Slope Task\u003c/title\u003e\n\u003cellipse fill=\"none\" stroke=\"black\" cx=\"1453.24\" cy=\"-18\" rx=\"150.27\" ry=\"18\"/\u003e\n\u003ctext text-anchor=\"middle\" x=\"1453.24\" y=\"-14.3\" font-family=\"Times,serif\" font-size=\"14.00\"\u003eAdd MaxMin NDVI Slope Task\u003c/text\u003e\n\u003c/g\u003e\n\u003c!-- Add ArgMaxMin Red Task\u0026#45;\u0026gt;Add MaxMin NDVI Slope Task --\u003e\n\u003cg id=\"edge5\" class=\"edge\"\u003e\n\u003ctitle\u003eAdd ArgMaxMin Red Task\u0026#45;\u0026gt;Add MaxMin NDVI Slope Task\u003c/title\u003e\n\u003cpath fill=\"none\" stroke=\"black\" d=\"M1267.38,-18C1275.46,-18 1283.63,-18 1291.81,-18\"/\u003e\n\u003cpolygon fill=\"black\" stroke=\"black\" points=\"1291.56,-21.5 1301.56,-18 1291.56,-14.5 1291.56,-21.5\"/\u003e\n\u003c/g\u003e\n\u003c!-- Add Spatiotemporal Features Task --\u003e\n\u003cg id=\"node7\" class=\"node\"\u003e\n\u003ctitle\u003eAdd Spatiotemporal Features Task\u003c/title\u003e\n\u003cellipse fill=\"none\" stroke=\"black\" cx=\"1810.31\" cy=\"-18\" rx=\"170.87\" ry=\"18\"/\u003e\n\u003ctext text-anchor=\"middle\" x=\"1810.31\" y=\"-14.3\" font-family=\"Times,serif\" font-size=\"14.00\"\u003eAdd Spatiotemporal Features Task\u003c/text\u003e\n\u003c/g\u003e\n\u003c!-- Add MaxMin NDVI Slope Task\u0026#45;\u0026gt;Add Spatiotemporal Features Task --\u003e\n\u003cg id=\"edge6\" class=\"edge\"\u003e\n\u003ctitle\u003eAdd MaxMin NDVI Slope Task\u0026#45;\u0026gt;Add Spatiotemporal Features Task\u003c/title\u003e\n\u003cpath fill=\"none\" stroke=\"black\" d=\"M1603.79,-18C1611.89,-18 1620.08,-18 1628.27,-18\"/\u003e\n\u003cpolygon fill=\"black\" stroke=\"black\" points=\"1628.05,-21.5 1638.05,-18 1628.05,-14.5 1628.05,-21.5\"/\u003e\n\u003c/g\u003e\n\u003c!-- Output Interpolated EOPatch --\u003e\n\u003cg id=\"node8\" class=\"node\"\u003e\n\u003ctitle\u003eOutput Interpolated EOPatch\u003c/title\u003e\n\u003cellipse fill=\"none\" stroke=\"black\" cx=\"2164.13\" cy=\"-18\" rx=\"146.77\" ry=\"18\"/\u003e\n\u003ctext text-anchor=\"middle\" x=\"2164.13\" y=\"-14.3\" font-family=\"Times,serif\" font-size=\"14.00\"\u003eOutput Interpolated EOPatch\u003c/text\u003e\n\u003c/g\u003e\n\u003c!-- Add Spatiotemporal Features Task\u0026#45;\u0026gt;Output Interpolated EOPatch --\u003e\n\u003cg id=\"edge7\" class=\"edge\"\u003e\n\u003ctitle\u003eAdd Spatiotemporal Features Task\u0026#45;\u0026gt;Output Interpolated EOPatch\u003c/title\u003e\n\u003cpath fill=\"none\" stroke=\"black\" d=\"M1981.55,-18C1989.78,-18 1998.03,-18 2006.22,-18\"/\u003e\n\u003cpolygon fill=\"black\" stroke=\"black\" points=\"2005.96,-21.5 2015.96,-18 2005.96,-14.5 2005.96,-21.5\"/\u003e\n\u003c/g\u003e\n\u003c/g\u003e\n\u003c/svg\u003e\n","content_type":"image/svg+xml"},"text/plain":{"content":"\u003cgraphviz.graphs.Digraph at 0x7ff4d0391690\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"rDhKsMAfol"}],"visibility":"show","key":"ikNdKZE2Kd"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:58:39.117931Z","iopub.status.busy":"2023-10-24T07:58:39.117438Z","iopub.status.idle":"2023-10-24T07:58:54.131748Z","shell.execute_reply":"2023-10-24T07:58:54.131186Z"},"papermill":{"duration":15.141473,"end_time":"2023-10-24T07:58:54.133414","exception":false,"start_time":"2023-10-24T07:58:38.991941","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Execute new `EOWorkflow`\nresult_with_interp = workflow_with_interp.execute({\n    load_node: {'eopatch_folder':'eopatch'}\n})","visibility":"show","key":"umhsOH0fHj"},{"type":"output","id":"yZrVioMchPHohyPpCmAad","data":[],"visibility":"show","key":"jMcoipMJGo"}],"visibility":"show","key":"Yzw4mZAqVt"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.113619,"end_time":"2023-10-24T07:58:54.380415","exception":false,"start_time":"2023-10-24T07:58:54.266796","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize interpolated data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xLGsJzibmz"}],"identifier":"visualize-interpolated-data","label":"Visualize interpolated data","html_id":"visualize-interpolated-data","implicit":true,"key":"fLZJF4chZ2"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Again we can vasualize the interpolated data in the same way as demonstrated above and see how data gaps over time could affect on the features of indices’ temporal variation.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IpznAsynvg"}],"key":"qrZhrc0XWB"}],"visibility":"show","key":"DqqIczlNMM"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:58:54.621592Z","iopub.status.busy":"2023-10-24T07:58:54.621230Z","iopub.status.idle":"2023-10-24T07:58:54.625301Z","shell.execute_reply":"2023-10-24T07:58:54.624807Z"},"papermill":{"duration":0.11794,"end_time":"2023-10-24T07:58:54.626324","exception":false,"start_time":"2023-10-24T07:58:54.508384","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Open data output from `EOWorkflow`\neop_interp = result_with_interp.outputs[\"interp_eopatch\"]\neop_interp","visibility":"show","key":"v0JNHX2q0Y"},{"type":"output","id":"VxqCsLMrTTYSkEbq4OF8r","data":[{"output_type":"execute_result","execution_count":20,"metadata":{},"data":{"text/plain":{"content":"EOPatch(\n  bbox=BBox(((5.6, 52.63), (5.75, 52.68)), crs=CRS('4326'))\n  timestamps=[datetime.datetime(2017, 4, 3, 10, 41, 38), ..., datetime.datetime(2017, 10, 30, 10, 41, 50)], length=66\n  data_timeless={\n    ARGMAX_B4: numpy.ndarray(shape=(297, 497, 1), dtype=int64)\n    ARGMAX_NDVI: numpy.ndarray(shape=(297, 497, 1), dtype=int64)\n    ARGMAX_NDVI_SLOPE: numpy.ndarray(shape=(297, 497, 1), dtype=uint8)\n    ARGMIN_B4: numpy.ndarray(shape=(297, 497, 1), dtype=int64)\n    ARGMIN_NDVI: numpy.ndarray(shape=(297, 497, 1), dtype=int64)\n    ARGMIN_NDVI_SLOPE: numpy.ndarray(shape=(297, 497, 1), dtype=uint8)\n    STF: numpy.ndarray(shape=(297, 497, 20), dtype=float64)\n  }\n  mask={\n    CLM: numpy.ndarray(shape=(66, 297, 497, 1), dtype=uint8)\n    IS_DATA: numpy.ndarray(shape=(66, 297, 497, 1), dtype=bool)\n    VALID_DATA: numpy.ndarray(shape=(66, 297, 497, 1), dtype=bool)\n  }\n  data={\n    BANDS-S2-L1C: numpy.ndarray(shape=(66, 297, 497, 13), dtype=float64)\n    NDVI: numpy.ndarray(shape=(66, 297, 497, 1), dtype=float64)\n  }\n)","content_type":"text/plain"}}}],"visibility":"show","key":"ZYceiZDfZu"}],"visibility":"show","key":"dBlVAKr8DA"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:58:54.871333Z","iopub.status.busy":"2023-10-24T07:58:54.871060Z","iopub.status.idle":"2023-10-24T07:58:55.255138Z","shell.execute_reply":"2023-10-24T07:58:55.254710Z"},"papermill":{"duration":0.502849,"end_time":"2023-10-24T07:58:55.256217","exception":false,"start_time":"2023-10-24T07:58:54.753368","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Visualize spatiotemporal features of a specific field\nfield_mask = (slice(None), slice(227, 241), slice(314,330))\nndvi_patch = eop_interp.data['NDVI'][field_mask].squeeze(-1)\n\nfix, axs = plt.subplots(1,2,figsize=(20,8))\n\nax = axs[0]\nax.imshow(ndvi_patch[20])\nax.set_aspect('auto')\n\nax = axs[1]\nmean = np.mean(ndvi_patch, axis=(1,2))\nstd = np.std(ndvi_patch, axis=(1,2))\nax.plot(eop_interp.timestamp, mean, color='g', label='NDVI')\nax.fill_between(eop_interp.timestamp, mean-std, mean+std, alpha=0.2, color='g');\nax.set_aspect('auto')\n\nplt.legend(fontsize=15);","visibility":"show","key":"Z5jnPjoqJq"},{"type":"output","id":"rU-1OLbWYoxEEAkP6Gokj","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"af69eabd0d8ef75a87cc07d481bdcce2","path":"/example-viewer/build/af69eabd0d8ef75a87cc07d481bdcce2.png"},"text/plain":{"content":"\u003cFigure size 2000x800 with 2 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"sHIBJjakem"}],"visibility":"show","key":"vLLpfg7xxJ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:58:55.528116Z","iopub.status.busy":"2023-10-24T07:58:55.527720Z","iopub.status.idle":"2023-10-24T07:58:56.345807Z","shell.execute_reply":"2023-10-24T07:58:56.345300Z"},"papermill":{"duration":0.954257,"end_time":"2023-10-24T07:58:56.353309","exception":false,"start_time":"2023-10-24T07:58:55.399052","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Distribution of temporal indices\nsubplot_kw = {'xticks': [], 'yticks': [], 'frame_on': True}\nfig, axs = plt.subplots(nrows = 2, ncols = 3, figsize=(20,8), subplot_kw = subplot_kw)\n\nax = axs[0,0]\nim = ax.imshow(eop_interp.data_timeless['ARGMAX_NDVI'].squeeze())\nax.set_title(\"Temporal indices for argmax NDVI\", fontsize=15)\ndivider = make_axes_locatable(ax)\ncax = divider.append_axes(\"right\", size=\"2%\", pad=0.05)\nfig.colorbar(im, cax=cax)\n\nax = axs[0,1]\nim = ax.imshow(eop_interp.data_timeless['ARGMIN_NDVI'].squeeze())\nax.set_title(\"Temporal indices for argmin NDVI\", fontsize=15)\ndivider = make_axes_locatable(ax)\ncax = divider.append_axes(\"right\", size=\"2%\", pad=0.05)\nfig.colorbar(im, cax=cax)\n\nax = axs[0,2]\nim = ax.imshow(eop_interp.data_timeless['ARGMAX_NDVI_SLOPE'].squeeze())\nax.set_title(\"Temporal indices for argmax NDVI slope\", fontsize=15)\ndivider = make_axes_locatable(ax)\ncax = divider.append_axes(\"right\", size=\"2%\", pad=0.05)\nfig.colorbar(im, cax=cax)\n\nax = axs[1,1]\nim = ax.imshow(eop_interp.data_timeless['ARGMIN_NDVI_SLOPE'].squeeze())\nax.set_title(\"Temporal indices for argmin NDVI slope\", fontsize=15)\ndivider = make_axes_locatable(ax)\ncax = divider.append_axes(\"right\", size=\"2%\", pad=0.05)\nfig.colorbar(im, cax=cax)\n\nax = axs[1,0]\nim = ax.imshow(eop_interp.data_timeless['ARGMAX_B4'].squeeze())\nax.set_title(\"Temporal indices for argmax red\", fontsize=15)\ndivider = make_axes_locatable(ax)\ncax = divider.append_axes(\"right\", size=\"2%\", pad=0.05)\nfig.colorbar(im, cax=cax)\n\nax = axs[1,2]\nax.axis(False);\n\nplt.tight_layout()","visibility":"show","key":"dMnT2gUsJR"},{"type":"output","id":"Atd9qojP_dnhtK5sq0Umu","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"f7abb85f159b913035908b899e987bfc","path":"/example-viewer/build/f7abb85f159b913035908b899e987bfc.png"},"text/plain":{"content":"\u003cFigure size 2000x800 with 11 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"wOWLuLLUlo"}],"visibility":"show","key":"KNdndIAIYJ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:58:56.689043Z","iopub.status.busy":"2023-10-24T07:58:56.688719Z","iopub.status.idle":"2023-10-24T07:58:57.852388Z","shell.execute_reply":"2023-10-24T07:58:57.851852Z"},"papermill":{"duration":1.329205,"end_time":"2023-10-24T07:58:57.860749","exception":false,"start_time":"2023-10-24T07:58:56.531544","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# False color images of NDVI features\nsubplot_kw = {'xticks': [], 'yticks': [], 'frame_on': True}\nfig, axs = plt.subplots(nrows = 2, ncols = 3, figsize=(20,10), subplot_kw = subplot_kw)\n\nax = axs[0,0]\nax.imshow(np.clip(eop_interp.data_timeless['STF'][:,:,[2,1,0]], 0, 1))\nax.set_title(\"IR-R-G reflectances for argmax NDVI\", fontsize=15)\n\nax = axs[0,1]\nax.imshow(np.clip(eop_interp.data_timeless['STF'][:,:,[6,5,4]], 0, 1))\nax.set_title(\"IR-R-G reflectances for argmin NDVI\", fontsize=15)\n\nax = axs[0,2]\nax.imshow(np.clip(eop_interp.data_timeless['STF'][:,:,[10,9,8]], 0, 1))\nax.set_title(\"IR-R-G reflectances for argmax NDVI slope\", fontsize=15)\n\nax = axs[1,1]\nax.imshow(np.clip(eop_interp.data_timeless['STF'][:,:,[14,13,12]], 0, 1))\nax.set_title(\"IR-R-G reflectances for argmin NDVI slope\", fontsize=15)\n\nax = axs[1,0]\nax.imshow(np.clip(eop_interp.data_timeless['STF'][:,:,[18,17,16]], 0, 1))\nax.set_title(\"IR-R-G reflectances for argmax red\", fontsize=15);\n\nax = axs[1,2]\nax.axis(False);\n\nplt.tight_layout()","visibility":"show","key":"Ts3XtqZKUV"},{"type":"output","id":"MD9MH_iilsTJ7-wAzSxQt","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"00ebf0fca107078f83c6fa1b8f93d144","path":"/example-viewer/build/00ebf0fca107078f83c6fa1b8f93d144.png"},"text/plain":{"content":"\u003cFigure size 2000x1000 with 6 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"XdsJYKDRXx"}],"visibility":"show","key":"NHLytoKY73"}],"key":"VieBv0hWsq"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"NDVI timeline","url":"/external-notebooks/eurodatacube/notebooks/notebooks/curated/edc-usecase-ndvi-timeline","group":"Curated"},"next":{"title":"Earth System Data Lab Tutorial @ Euro Data Cube","url":"/external-notebooks/eurodatacube/notebooks/notebooks/curated/esdl-edc-v0-2","group":"Curated"}}},"domain":"http://localhost:3000"},"project":{"subject":"Euro Data Cube Examples","title":"Euro Data Cube Examples","description":"Collection of example Jupyter notebooks relevant for the Euro Data Cube platform","github":"https://github.com/eurodatacube/example-viewer","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Eoxhub Workspaces","level":2},{"title":"Eoxhub Notebooks","level":3},{"slug":"external-notebooks.eoxhub-workspaces.eoxhub-notebooks.readme","title":"Euro Data Cube notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Pangeo Dask Notebooks","level":4},{"slug":"external-notebooks.eoxhub-workspaces.eoxhub-notebooks.pangeo-dask-notebooks.example-wildfires","title":"Scale your processes with Dask - hands on example","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Eurodatacube","level":2},{"title":"Notebooks","level":3},{"slug":"external-notebooks.eurodatacube.notebooks.readme","title":"Jupyter notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Notebooks","level":4},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.readme","title":"Euro Data Cube Notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Contributions","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-ai4arctic-sea-ice","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-biomass-forest-observation-sys","title":"AIREO pilot dataset - Biomass (Forest Observation System)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-cap","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-spacenet7","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aot-covid19","title":"Aerosol Optical Thickness (AOT) Anomaly Detection Using Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.batch-zarr-output","title":"Generating Zarr data cubes with Sentinel Hub Batch API","description":"","date":"","thumbnail":"/example-viewer/build/68dffbf744fa42f4bf3d35e55684984e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.client-side-processing-using-mass-sh","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.cmems-data-download","title":"Cmems Data Download","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.detect-trucks-sentinel2","title":"Detect Trucks using Sentinel-2 data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.drought-monitoring","title":"Drought impact monitoring platform","description":"","date":"","thumbnail":"/example-viewer/build/ad5c19782b006f72352ae57794305840.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-africa-cube-africa-custom-contest","title":"Custom Script Contest – Urban Growth in Africa","description":"","date":"","thumbnail":"/example-viewer/build/undefined","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-byoc-tutorial","title":"How to bring your own data to EDC: Using Sentinel Hub Python package","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-demo-phi-week-v2","title":"xcube-gen and xcube-geodb Hands-On Workshop Φ-Week 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-geodb-4-eurocrops-demo","title":"Demonstration of Eurocrops data use in geoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-notebook-lstm","title":"South Africa Crop Type Classification on Euro Data Cube (EDC)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-usecase-lpis-crop-type-classification","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.eurocrops-crop-classification-example","title":"Crop-classification using Sentinel-2 time-series","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ghsl-urban-delineation","title":"\u003cb\u003eUrban delineation\u003cb\u003e","description":"","date":"","thumbnail":"/example-viewer/build/7bbf545a5eae1d9ebdb91ae42b261063.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.globalearthmonitor-example","title":"Pre-requisites","description":"","date":"","thumbnail":"/example-viewer/build/205c1ded6bd59771975a9fbd3753fd3b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gpu-support-eoxhub","title":"GPU-Support on EOxHub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gran-chaco-phiweek","title":"ESA EO \\phi- week 2020","description":"","date":"","thumbnail":"/example-viewer/build/80cee7db6cdc7002ceedda5689f889fa.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.howtolulc-batch-updated-210621","title":"How To: Land-Use-Land-Cover Prediction for Slovenia - using the Batch Processing API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lpis-lulc-slo","title":"LPIS Use Case for Land Use / Land Cover Classification","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lps2022-leverage-euro-data-cube-services","title":"Living Planet Symposium 2022 Training Session","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-analysis-covid19-lockdowns","title":"Impact of Covid19 induced lockdown on NO2 levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-so2-trend-veda-api-igarss-2023","title":"Using the NASA VEDA EOAPI","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ogc-edc","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.openeo-client-demo","title":"openEO Client Demo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.race-finishedgoodsinventory-inidcator","title":"Finished Goods Inventory indicator for RACE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.third-party-planetscope","title":"Third Party Data Import - PlanetScope","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-access-datasets","title":"Using xcube to access non-commercial and commercial data sets","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-viewer-as-a-service-in-edc1","title":"Visualizing data with xcube viewer in EuroDataCube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-evaluation-workshop","title":"DAPA Evaluation Workshop: Introduction \u0026 Documentation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-1-cube-sentinel-2","title":"DAPA Tutorial #1: Cube - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-2-area-sentinel-2","title":"DAPA Tutorial #2: Area - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-3-timeseries-sentinel-2","title":"DAPA Tutorial #3: Timeseries - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-4-value-sentinel-2","title":"DAPA Tutorial #4: Value - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-5-dem","title":"DAPA Tutorial #5: DEM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.fairicube.fairicube-data-access-demonstration","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-australian-bushfires","title":"Australian Bushfires","description":"","date":"","thumbnail":"/example-viewer/build/ab194b4f8c40a2b9d64d8a85e37ce1fd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["IGARSS-22","EO Dashboard"],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-data-access","title":"Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-detect-trucks-sentinel2","title":"Truck Detection Exercise","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-lockdown-in-venice","title":"Environmental Impacts of Lockdown in Venice, Italy during 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-nasa-api-lockdown-in-venice","title":"Lockdown in Venice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-no2-timeseries-analysis","title":"NO2 timeseries analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-timeseries-stac-api-single-vs-multi","title":"Time series using STAC API statistics endpoints","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.nightlights.night-lights-blending","title":"Monitoring socio-economic activities with nighttime light maps","description":"","date":"","thumbnail":"/example-viewer/build/fb2486d4e1708daa94616c6ae8fc4cc9.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Curated","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.access-iacs-data","title":"How to access IACS Spatial Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-access-cci-data","title":"Access CCI data with xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-first-steps","title":"First steps on the Euro Data Cube platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-1-manage-datasets-v11","title":"Manage Collections in your GeoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-2-explore-datasets-2","title":"Exploring Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-3-share-datasets1","title":"Sharing Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-access-urban-atlas-data-v1","title":"[xcube-geodb] How to accesss EEA Urban Atlas Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-data-access","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-basic","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-ndvi","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-datasets","title":"EDC Sentinel Hub - using xcube to access different data sets in Sentinel Hub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-setup","title":"Setup for EDC core API access using xcube client library","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-xcube-integration","title":"EDC Sentinel Hub - XCUBE integration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-usecase-ndvi-timeline","title":"NDVI timeline","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.eo-learn","title":"Using eo-learn in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/example-viewer/build/5a1f8475f0c3652f4630d03d72891b98.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.esdl-edc-v0-2","title":"Earth System Data Lab Tutorial @ Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.exploring-time-and-space-with-edc","title":"Exploring Time and Space: A guide to accessing, analysing and visualising data in the Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.how-to-access-dem-data-through-sentinel-hub-api","title":"How to access DEM data through Sentinel Hub API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.sentinelhub-py","title":"Using Sentinel Hub Process API in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/example-viewer/build/01e22903839391bc356ac886ec2b2fa7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/example-viewer/build/manifest-2671EB98.js";
import * as route0 from "/example-viewer/build/root-LMCDRB6W.js";
import * as route1 from "/example-viewer/build/routes/$-SJYMRUNJ.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/example-viewer/build/entry.client-UNPC4GT3.js");</script></body></html>