{"version":1,"kind":"Notebook","sha256":"2630c757d1e91b338f8a1d3b3e54796f26bd6cdead4b3d596e420682964319c2","slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-setup","location":"/external_notebooks/eurodatacube/notebooks/notebooks/curated/EDC_Sentinel_Hub-Setup.ipynb","dependencies":[],"frontmatter":{"title":"Setup for EDC core API access using xcube client library","content_includes_title":true,"kernelspec":{"name":"conda-env-users-edc-2023.10-01-py","display_name":"Python 3","language":"python"},"github":"https://github.com/eurodatacube/example-viewer","subject":"Euro Data Cube Examples","numbering":{"title":{"offset":5}},"edit_url":"https://github.com/eurodatacube/example-viewer/blob/main/external_notebooks/eurodatacube/notebooks/notebooks/curated/EDC_Sentinel_Hub-Setup.ipynb","exports":[{"format":"ipynb","filename":"EDC_Sentinel_Hub-Setup.ipynb","url":"/example-viewer/build/EDC_Sentinel_Hub-Set-0c71096d3e900ffcd77b6f003ebea723.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:57:44.357676Z","iopub.status.busy":"2023-10-24T07:57:44.357291Z","iopub.status.idle":"2023-10-24T07:57:44.399077Z","shell.execute_reply":"2023-10-24T07:57:44.398649Z"},"papermill":{"duration":0.059606,"end_time":"2023-10-24T07:57:44.400041","exception":false,"start_time":"2023-10-24T07:57:44.340435","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from edc import check_compatibility\ncheck_compatibility(\"user-2023.10-01\", dependencies=[\"SH\"])","visibility":"show","key":"Zrom49nNt8"},{"type":"output","id":"B9IHpsJnqMLRF8pfOrxxM","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"<script type=\"text/javascript\">\n        function toggle(id) {\n            el = document.getElementById(id);\n            el.style.display = el.style.display === \"none\" ? \"block\" : \"none\";\n        }\n    </script>","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"This notebook is compatible with this base image version (user-2023.10-01).","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/markdown":{"content":"\n\n---------\n\nThe following environment variables are available:\n\n* `SH_CLIENT_ID`, `SH_INSTANCE_ID`, `SH_CLIENT_NAME`, `SH_CLIENT_SECRET`\n","content_type":"text/markdown"},"text/plain":{"content":"<IPython.core.display.Markdown object>","content_type":"text/plain"}}}],"visibility":"show","key":"AvGmZc2c0F"}],"visibility":"show","key":"hHBk3mzPZJ"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.014967,"end_time":"2023-10-24T07:57:44.455025","exception":false,"start_time":"2023-10-24T07:57:44.440058","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Setup for EDC core API access using xcube client library","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uOXQ5KOKuj"}],"identifier":"setup-for-edc-core-api-access-using-xcube-client-library","label":"Setup for EDC core API access using xcube client library","html_id":"setup-for-edc-core-api-access-using-xcube-client-library","implicit":true,"key":"kUrN2AEehC"},{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Installation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PJu621JOhn"}],"identifier":"installation","label":"Installation","html_id":"installation","implicit":true,"key":"zXf4lLjmLA"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"For creating an ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"OMBBqTCWTi"},{"type":"inlineCode","value":"xcube","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"RycVDJrDpX"},{"type":"text","value":" Python environment and installing ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"E97qNVcFyF"},{"type":"inlineCode","value":"xcube","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"pIYyrvfrcl"},{"type":"text","value":" follow the instructions given in the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"hF3pm8XZq4"},{"type":"link","url":"https://github.com/dcs4cop/xcube/blob/master/README.md","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"xcube’s README","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UyG2nmt7Do"}],"urlSource":"https://github.com/dcs4cop/xcube/blob/master/README.md","data":{"kind":"file","org":"dcs4cop","repo":"xcube","reference":"master","file":"README.md","raw":"https://raw.githubusercontent.com/dcs4cop/xcube/master/README.md"},"internal":false,"protocol":"github","key":"vnzv8bwIoT"},{"type":"text","value":".\nFor installing the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"eKfEKNZPlF"},{"type":"inlineCode","value":"xcube_sh","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"aFFhTfUaCB"},{"type":"text","value":" plugin follow the instructions given in the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"k5mJQccrKq"},{"type":"link","url":"https://github.com/dcs4cop/xcube-sh/blob/master/README.md","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"xcube-sh’s README","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"S4M5P22fB0"}],"urlSource":"https://github.com/dcs4cop/xcube-sh/blob/master/README.md","data":{"kind":"file","org":"dcs4cop","repo":"xcube-sh","reference":"master","file":"README.md","raw":"https://raw.githubusercontent.com/dcs4cop/xcube-sh/master/README.md"},"internal":false,"protocol":"github","key":"VtMvO0D7Zi"},{"type":"text","value":".","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"VqCeeSTBF7"}],"key":"oCAHQK6MRD"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Before using Jupyter Lab for the first time install the ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"MDonaSET81"},{"type":"inlineCode","value":"jupyterlab","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"fXPTO8n87E"},{"type":"text","value":" package and make sure the\n","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"MbPIIiK7ib"},{"type":"link","url":"https://www.npmjs.com/package/@jupyterlab/geojson-extension","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Jupyter GeoJSON extension","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"trNJIrQRex"}],"urlSource":"https://www.npmjs.com/package/@jupyterlab/geojson-extension","key":"lju5v2tafl"},{"type":"text","value":" is installed too:","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"FpeQuMraX5"}],"key":"dFI2CDYdVF"},{"type":"code","lang":"bash","value":"(xcube) conda install -c conda-forge jupyterlab\n(xcube) jupyter labextension install @jupyterlab/geojson-extension","position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"key":"HNmTZ5Ker0"},{"type":"heading","depth":2,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"API access (OAuth2)","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"Nau5zFuA6i"}],"identifier":"api-access-oauth2","label":"API access (OAuth2)","html_id":"api-access-oauth2","implicit":true,"key":"Jn6K8GqQCs"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"For API access the following environment variables must be provided via a .env file","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"h5g6XoSdLs"}],"key":"t3xwqyvN2U"},{"type":"code","lang":"","value":"SH_CLIENT_ID=\nSH_CLIENT_SECRET=\nSH_INSTANCE_ID=","position":{"start":{"line":20,"column":1},"end":{"line":24,"column":1}},"key":"vgar3WIzkk"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"You can find these values in your Euro Data Cube Dashboard in the API Access (OAuth2) section of the Euro Data Cube service.","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"evYRO8sksn"}],"key":"TnDmyD6EiP"},{"type":"heading","depth":2,"position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Test Setup","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"ALuRkLbmMW"}],"identifier":"test-setup","label":"Test Setup","html_id":"test-setup","implicit":true,"key":"xzNeLhIY0a"},{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Test whether setup was successfull by importing some important ","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"sMVFZ0ou2I"},{"type":"inlineCode","value":"xcube_sh","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"Kaok7pTRpa"},{"type":"text","value":" exports:","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"zBeDxaAJgU"}],"key":"DxCZ09qVnU"}],"visibility":"show","key":"GBX4T9Jnmv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:57:44.503998Z","iopub.status.busy":"2023-10-24T07:57:44.503681Z","iopub.status.idle":"2023-10-24T07:57:45.130452Z","shell.execute_reply":"2023-10-24T07:57:45.129971Z"},"papermill":{"duration":0.643976,"end_time":"2023-10-24T07:57:45.131865","exception":false,"start_time":"2023-10-24T07:57:44.487889","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Configure data cubes using CubeConfig\nfrom xcube_sh.config import CubeConfig\n# Open data cubes from SH with given CubeConfig\nfrom xcube_sh.cube import open_cube\n# Observe SH requests made open_cube()\nfrom xcube_sh.observers import Observers\n# View stored cubes\nfrom xcube_sh.viewer import ViewerServer","visibility":"show","key":"clOiOtnNFK"},{"type":"output","id":"Ruep6-XOqgRJkFoY02jfI","data":[],"visibility":"show","key":"Ulp80oNptF"}],"visibility":"show","key":"Jtqc9BNdhU"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:57:45.183290Z","iopub.status.busy":"2023-10-24T07:57:45.182731Z","iopub.status.idle":"2023-10-24T07:57:45.186348Z","shell.execute_reply":"2023-10-24T07:57:45.185860Z"},"papermill":{"duration":0.020684,"end_time":"2023-10-24T07:57:45.187339","exception":false,"start_time":"2023-10-24T07:57:45.166655","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from xcube_sh.version import version\nversion","visibility":"show","key":"GsoTd4IeOK"},{"type":"output","id":"D8ZP0m86BdWZyW7tbi1Ww","data":[{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content":"'0.10.3'","content_type":"text/plain"}}}],"visibility":"show","key":"KcJk7AmUaA"}],"visibility":"show","key":"BLcnZOVHtn"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.015379,"end_time":"2023-10-24T07:57:45.238190","exception":false,"start_time":"2023-10-24T07:57:45.222811","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Setup for Euro Data Cube geoDB","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"N6r4RLkYix"}],"identifier":"setup-for-euro-data-cube-geodb","label":"Setup for Euro Data Cube geoDB","html_id":"setup-for-euro-data-cube-geodb","implicit":true,"key":"chTpibH6hz"},{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Installation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jDPcmFTZjp"}],"identifier":"installation","label":"Installation","html_id":"installation-1","implicit":true,"key":"Ry5KMcoBPi"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"For installing the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"CmQFD4y0Dt"},{"type":"inlineCode","value":"xcube_geodb","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"NygTYNUqNZ"},{"type":"text","value":" plugin follow the instructions given in the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"VuQC1XH7l8"},{"type":"link","url":"https://github.com/dcs4cop/xcube-geodb/blob/master/README.md","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"xcube-geodb’s README","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"XsI6vfQtak"}],"urlSource":"https://github.com/dcs4cop/xcube-geodb/blob/master/README.md","data":{"kind":"file","org":"dcs4cop","repo":"xcube-geodb","reference":"master","file":"README.md","raw":"https://raw.githubusercontent.com/dcs4cop/xcube-geodb/master/README.md"},"internal":false,"protocol":"github","key":"KnnVSyuB68"},{"type":"text","value":".","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"CyxKzP2onE"}],"key":"CCD473sjVQ"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Before using Jupyter Lab for the first time install the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"YdbNbfNLf3"},{"type":"inlineCode","value":"jupyterlab","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"D1Iwevz7qR"},{"type":"text","value":" package and make sure the\n","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"cfE0wRQJJX"},{"type":"link","url":"https://www.npmjs.com/package/@jupyterlab/geojson-extension","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Jupyter GeoJSON extension","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"CfqL5Rz9hP"}],"urlSource":"https://www.npmjs.com/package/@jupyterlab/geojson-extension","key":"REhbLCmEVM"},{"type":"text","value":" is installed too:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"vpFL70546H"}],"key":"dIJpoObXyg"},{"type":"code","lang":"bash","value":"conda install -c conda-forge jupyterlab\njupyter labextension install @jupyterlab/geojson-extension","position":{"start":{"line":10,"column":1},"end":{"line":13,"column":1}},"key":"WIPps0mdQg"},{"type":"heading","depth":2,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"API access (OAuth2)","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"MvZGTNum95"}],"identifier":"api-access-oauth2","label":"API access (OAuth2)","html_id":"api-access-oauth2-1","implicit":true,"key":"RJzU0I0P1E"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"For API access the following environment variables must be provided via a .env file","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"ttGq2v8LxK"}],"key":"LlOzVnnnQk"},{"type":"code","lang":"","value":"GEODB_API_SERVER_URL=\nGEODB_AUTH_CLIENT_ID=\nGEODB_AUTH_CLIENT_SECRET=\nGEODB_AUTH_AUD=\nGEODB_API_SERVER_PORT=\nGEODB_AUTH_DOMAIN=","position":{"start":{"line":19,"column":1},"end":{"line":26,"column":1}},"key":"EiPz2h5U69"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"You can find these values in your Euro Data Cube Dashboard in the API Access (OAuth2) section of the ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"ObmzUAUbQs"},{"type":"inlineCode","value":"Euro Data Cube - geoDB","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"EGhZDA3pAy"},{"type":"text","value":" service.","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"HF8uWh1UNk"}],"key":"Mr1YkYxZvm"}],"visibility":"show","key":"J5FBtlaTxe"}],"key":"tgqBQPUOy5"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"EDC Sentinel Hub - using xcube to access different data sets in Sentinel Hub","url":"/external-notebooks/eurodatacube/notebooks/notebooks/curated/edc-sentinel-hub-datasets","group":"Curated"},"next":{"title":"EDC Sentinel Hub - XCUBE integration","url":"/external-notebooks/eurodatacube/notebooks/notebooks/curated/edc-sentinel-hub-xcube-integration","group":"Curated"}}},"domain":"http://localhost:3000"}